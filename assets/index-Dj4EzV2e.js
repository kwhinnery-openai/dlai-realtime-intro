var Zb=Object.defineProperty;var Vg=r=>{throw TypeError(r)};var Ub=(r,n,s)=>n in r?Zb(r,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[n]=s;var q=(r,n,s)=>Ub(r,typeof n!="symbol"?n+"":n,s),qd=(r,n,s)=>n.has(r)||Vg("Cannot "+s);var _=(r,n,s)=>(qd(r,n,"read from private field"),s?s.call(r):n.get(r)),ae=(r,n,s)=>n.has(r)?Vg("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(r):n.set(r,s),V=(r,n,s,u)=>(qd(r,n,"write to private field"),u?u.call(r,s):n.set(r,s),s),ze=(r,n,s)=>(qd(r,n,"access private method"),s);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))u(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&u(f)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function u(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();function dv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hd={exports:{}},Hr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg;function Lb(){if(Yg)return Hr;Yg=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(u,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:u,key:f,ref:l!==void 0?l:null,props:c}}return Hr.Fragment=n,Hr.jsx=s,Hr.jsxs=s,Hr}var Xg;function Bb(){return Xg||(Xg=1,Hd.exports=Lb()),Hd.exports}var D=Bb(),Gd={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function qb(){if(Qg)return Te;Qg=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.iterator;function w(x){return x===null||typeof x!="object"?null:(x=A&&x[A]||x["@@iterator"],typeof x=="function"?x:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,ve={};function le(x,H,ee){this.props=x,this.context=H,this.refs=ve,this.updater=ee||L}le.prototype.isReactComponent={},le.prototype.setState=function(x,H){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,H,"setState")},le.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function G(){}G.prototype=le.prototype;function Z(x,H,ee){this.props=x,this.context=H,this.refs=ve,this.updater=ee||L}var I=Z.prototype=new G;I.constructor=Z,J(I,le.prototype),I.isPureReactComponent=!0;var oe=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},we=Object.prototype.hasOwnProperty;function Ve(x,H,ee,W,he,qe){return ee=qe.ref,{$$typeof:r,type:x,key:H,ref:ee!==void 0?ee:null,props:qe}}function tt(x,H){return Ve(x.type,H,void 0,void 0,void 0,x.props)}function lt(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function ot(x){var H={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ee){return H[ee]})}var Le=/\/+/g;function Be(x,H){return typeof x=="object"&&x!==null&&x.key!=null?ot(""+x.key):H.toString(36)}function Tn(){}function vt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Tn,Tn):(x.status="pending",x.then(function(H){x.status==="pending"&&(x.status="fulfilled",x.value=H)},function(H){x.status==="pending"&&(x.status="rejected",x.reason=H)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function it(x,H,ee,W,he){var qe=typeof x;(qe==="undefined"||qe==="boolean")&&(x=null);var Se=!1;if(x===null)Se=!0;else switch(qe){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(x.$$typeof){case r:case n:Se=!0;break;case v:return Se=x._init,it(Se(x._payload),H,ee,W,he)}}if(Se)return he=he(x),Se=W===""?"."+Be(x,0):W,oe(he)?(ee="",Se!=null&&(ee=Se.replace(Le,"$&/")+"/"),it(he,H,ee,"",function(pa){return pa})):he!=null&&(lt(he)&&(he=tt(he,ee+(he.key==null||x&&x.key===he.key?"":(""+he.key).replace(Le,"$&/")+"/")+Se)),H.push(he)),1;Se=0;var Jt=W===""?".":W+":";if(oe(x))for(var rt=0;rt<x.length;rt++)W=x[rt],qe=Jt+Be(W,rt),Se+=it(W,H,ee,qe,he);else if(rt=w(x),typeof rt=="function")for(x=rt.call(x),rt=0;!(W=x.next()).done;)W=W.value,qe=Jt+Be(W,rt++),Se+=it(W,H,ee,qe,he);else if(qe==="object"){if(typeof x.then=="function")return it(vt(x),H,ee,W,he);throw H=String(x),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Se}function R(x,H,ee){if(x==null)return x;var W=[],he=0;return it(x,W,"","",function(qe){return H.call(ee,qe,he++)}),W}function K(x){if(x._status===-1){var H=x._result;H=H(),H.then(function(ee){(x._status===0||x._status===-1)&&(x._status=1,x._result=ee)},function(ee){(x._status===0||x._status===-1)&&(x._status=2,x._result=ee)}),x._status===-1&&(x._status=0,x._result=H)}if(x._status===1)return x._result.default;throw x._result}var ge=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function nt(){}return Te.Children={map:R,forEach:function(x,H,ee){R(x,function(){H.apply(this,arguments)},ee)},count:function(x){var H=0;return R(x,function(){H++}),H},toArray:function(x){return R(x,function(H){return H})||[]},only:function(x){if(!lt(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Te.Component=le,Te.Fragment=s,Te.Profiler=l,Te.PureComponent=Z,Te.StrictMode=u,Te.Suspense=y,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Te.__COMPILER_RUNTIME={__proto__:null,c:function(x){return X.H.useMemoCache(x)}},Te.cache=function(x){return function(){return x.apply(null,arguments)}},Te.cloneElement=function(x,H,ee){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var W=J({},x.props),he=x.key,qe=void 0;if(H!=null)for(Se in H.ref!==void 0&&(qe=void 0),H.key!==void 0&&(he=""+H.key),H)!we.call(H,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&H.ref===void 0||(W[Se]=H[Se]);var Se=arguments.length-2;if(Se===1)W.children=ee;else if(1<Se){for(var Jt=Array(Se),rt=0;rt<Se;rt++)Jt[rt]=arguments[rt+2];W.children=Jt}return Ve(x.type,he,void 0,void 0,qe,W)},Te.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},Te.createElement=function(x,H,ee){var W,he={},qe=null;if(H!=null)for(W in H.key!==void 0&&(qe=""+H.key),H)we.call(H,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(he[W]=H[W]);var Se=arguments.length-2;if(Se===1)he.children=ee;else if(1<Se){for(var Jt=Array(Se),rt=0;rt<Se;rt++)Jt[rt]=arguments[rt+2];he.children=Jt}if(x&&x.defaultProps)for(W in Se=x.defaultProps,Se)he[W]===void 0&&(he[W]=Se[W]);return Ve(x,qe,void 0,void 0,null,he)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(x){return{$$typeof:p,render:x}},Te.isValidElement=lt,Te.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:K}},Te.memo=function(x,H){return{$$typeof:m,type:x,compare:H===void 0?null:H}},Te.startTransition=function(x){var H=X.T,ee={};X.T=ee;try{var W=x(),he=X.S;he!==null&&he(ee,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(nt,ge)}catch(qe){ge(qe)}finally{X.T=H}},Te.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Te.use=function(x){return X.H.use(x)},Te.useActionState=function(x,H,ee){return X.H.useActionState(x,H,ee)},Te.useCallback=function(x,H){return X.H.useCallback(x,H)},Te.useContext=function(x){return X.H.useContext(x)},Te.useDebugValue=function(){},Te.useDeferredValue=function(x,H){return X.H.useDeferredValue(x,H)},Te.useEffect=function(x,H,ee){var W=X.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(x,H)},Te.useId=function(){return X.H.useId()},Te.useImperativeHandle=function(x,H,ee){return X.H.useImperativeHandle(x,H,ee)},Te.useInsertionEffect=function(x,H){return X.H.useInsertionEffect(x,H)},Te.useLayoutEffect=function(x,H){return X.H.useLayoutEffect(x,H)},Te.useMemo=function(x,H){return X.H.useMemo(x,H)},Te.useOptimistic=function(x,H){return X.H.useOptimistic(x,H)},Te.useReducer=function(x,H,ee){return X.H.useReducer(x,H,ee)},Te.useRef=function(x){return X.H.useRef(x)},Te.useState=function(x){return X.H.useState(x)},Te.useSyncExternalStore=function(x,H,ee){return X.H.useSyncExternalStore(x,H,ee)},Te.useTransition=function(){return X.H.useTransition()},Te.version="19.1.0",Te}var Jg;function zf(){return Jg||(Jg=1,Gd.exports=qb()),Gd.exports}var fe=zf();const Hb=dv(fe);var Id={exports:{}},Gr={},$d={exports:{}},Vd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg;function Gb(){return Kg||(Kg=1,function(r){function n(R,K){var ge=R.length;R.push(K);e:for(;0<ge;){var nt=ge-1>>>1,x=R[nt];if(0<l(x,K))R[nt]=K,R[ge]=x,ge=nt;else break e}}function s(R){return R.length===0?null:R[0]}function u(R){if(R.length===0)return null;var K=R[0],ge=R.pop();if(ge!==K){R[0]=ge;e:for(var nt=0,x=R.length,H=x>>>1;nt<H;){var ee=2*(nt+1)-1,W=R[ee],he=ee+1,qe=R[he];if(0>l(W,ge))he<x&&0>l(qe,W)?(R[nt]=qe,R[he]=ge,nt=he):(R[nt]=W,R[ee]=ge,nt=ee);else if(he<x&&0>l(qe,ge))R[nt]=qe,R[he]=ge,nt=he;else break e}}return K}function l(R,K){var ge=R.sortIndex-K.sortIndex;return ge!==0?ge:R.id-K.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var y=[],m=[],v=1,A=null,w=3,L=!1,J=!1,ve=!1,le=!1,G=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function oe(R){for(var K=s(m);K!==null;){if(K.callback===null)u(m);else if(K.startTime<=R)u(m),K.sortIndex=K.expirationTime,n(y,K);else break;K=s(m)}}function X(R){if(ve=!1,oe(R),!J)if(s(y)!==null)J=!0,we||(we=!0,Be());else{var K=s(m);K!==null&&it(X,K.startTime-R)}}var we=!1,Ve=-1,tt=5,lt=-1;function ot(){return le?!0:!(r.unstable_now()-lt<tt)}function Le(){if(le=!1,we){var R=r.unstable_now();lt=R;var K=!0;try{e:{J=!1,ve&&(ve=!1,Z(Ve),Ve=-1),L=!0;var ge=w;try{t:{for(oe(R),A=s(y);A!==null&&!(A.expirationTime>R&&ot());){var nt=A.callback;if(typeof nt=="function"){A.callback=null,w=A.priorityLevel;var x=nt(A.expirationTime<=R);if(R=r.unstable_now(),typeof x=="function"){A.callback=x,oe(R),K=!0;break t}A===s(y)&&u(y),oe(R)}else u(y);A=s(y)}if(A!==null)K=!0;else{var H=s(m);H!==null&&it(X,H.startTime-R),K=!1}}break e}finally{A=null,w=ge,L=!1}K=void 0}}finally{K?Be():we=!1}}}var Be;if(typeof I=="function")Be=function(){I(Le)};else if(typeof MessageChannel<"u"){var Tn=new MessageChannel,vt=Tn.port2;Tn.port1.onmessage=Le,Be=function(){vt.postMessage(null)}}else Be=function(){G(Le,0)};function it(R,K){Ve=G(function(){R(r.unstable_now())},K)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(R){R.callback=null},r.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):tt=0<R?Math.floor(1e3/R):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(R){switch(w){case 1:case 2:case 3:var K=3;break;default:K=w}var ge=w;w=K;try{return R()}finally{w=ge}},r.unstable_requestPaint=function(){le=!0},r.unstable_runWithPriority=function(R,K){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var ge=w;w=R;try{return K()}finally{w=ge}},r.unstable_scheduleCallback=function(R,K,ge){var nt=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?nt+ge:nt):ge=nt,R){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ge+x,R={id:v++,callback:K,priorityLevel:R,startTime:ge,expirationTime:x,sortIndex:-1},ge>nt?(R.sortIndex=ge,n(m,R),s(y)===null&&R===s(m)&&(ve?(Z(Ve),Ve=-1):ve=!0,it(X,ge-nt))):(R.sortIndex=x,n(y,R),J||L||(J=!0,we||(we=!0,Be()))),R},r.unstable_shouldYield=ot,r.unstable_wrapCallback=function(R){var K=w;return function(){var ge=w;w=K;try{return R.apply(this,arguments)}finally{w=ge}}}}(Vd)),Vd}var Fg;function Ib(){return Fg||(Fg=1,$d.exports=Gb()),$d.exports}var Yd={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg;function $b(){if(Wg)return Zt;Wg=1;var r=zf();function n(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var u={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,m,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:m,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,Zt.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return c(y,m,null,v)},Zt.flushSync=function(y){var m=f.T,v=u.p;try{if(f.T=null,u.p=2,y)return y()}finally{f.T=m,u.p=v,u.d.f()}},Zt.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,u.d.C(y,m))},Zt.prefetchDNS=function(y){typeof y=="string"&&u.d.D(y)},Zt.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,A=p(v,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,L=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?u.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:L}):v==="script"&&u.d.X(y,{crossOrigin:A,integrity:w,fetchPriority:L,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Zt.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=p(m.as,m.crossOrigin);u.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&u.d.M(y)},Zt.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,A=p(v,m.crossOrigin);u.d.L(y,v,{crossOrigin:A,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Zt.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=p(m.as,m.crossOrigin);u.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else u.d.m(y)},Zt.requestFormReset=function(y){u.d.r(y)},Zt.unstable_batchedUpdates=function(y,m){return y(m)},Zt.useFormState=function(y,m,v){return f.H.useFormState(y,m,v)},Zt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Zt.version="19.1.0",Zt}var Pg;function Vb(){if(Pg)return Yd.exports;Pg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Yd.exports=$b(),Yd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function Yb(){if(ey)return Gr;ey=1;var r=Ib(),n=zf(),s=Vb();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(u(188))}function y(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(u(188));return t!==e?null:e}for(var a=e,i=t;;){var o=a.return;if(o===null)break;var d=o.alternate;if(d===null){if(i=o.return,i!==null){a=i;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===a)return p(o),e;if(d===i)return p(o),t;d=d.sibling}throw Error(u(188))}if(a.return!==i.return)a=o,i=d;else{for(var h=!1,g=o.child;g;){if(g===a){h=!0,a=o,i=d;break}if(g===i){h=!0,i=o,a=d;break}g=g.sibling}if(!h){for(g=d.child;g;){if(g===a){h=!0,a=d,i=o;break}if(g===i){h=!0,i=d,a=o;break}g=g.sibling}if(!h)throw Error(u(189))}}if(a.alternate!==i)throw Error(u(190))}if(a.tag!==3)throw Error(u(188));return a.stateNode.current===a?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,A=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),ve=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),I=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),Ve=Symbol.for("react.memo"),tt=Symbol.for("react.lazy"),lt=Symbol.for("react.activity"),ot=Symbol.for("react.memo_cache_sentinel"),Le=Symbol.iterator;function Be(e){return e===null||typeof e!="object"?null:(e=Le&&e[Le]||e["@@iterator"],typeof e=="function"?e:null)}var Tn=Symbol.for("react.client.reference");function vt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Tn?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case le:return"Profiler";case ve:return"StrictMode";case X:return"Suspense";case we:return"SuspenseList";case lt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case I:return(e.displayName||"Context")+".Provider";case Z:return(e._context.displayName||"Context")+".Consumer";case oe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ve:return t=e.displayName||null,t!==null?t:vt(e.type)||"Memo";case tt:t=e._payload,e=e._init;try{return vt(e(t))}catch{}}return null}var it=Array.isArray,R=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},nt=[],x=-1;function H(e){return{current:e}}function ee(e){0>x||(e.current=nt[x],nt[x]=null,x--)}function W(e,t){x++,nt[x]=e.current,e.current=t}var he=H(null),qe=H(null),Se=H(null),Jt=H(null);function rt(e,t){switch(W(Se,t),W(qe,e),W(he,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?_g(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=_g(t),e=bg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(he),W(he,e)}function pa(){ee(he),ee(qe),ee(Se)}function wo(e){e.memoizedState!==null&&W(Jt,e);var t=he.current,a=bg(t,e.type);t!==a&&(W(qe,e),W(he,a))}function Eu(e){qe.current===e&&(ee(he),ee(qe)),Jt.current===e&&(ee(Jt),Zr._currentValue=ge)}var Eo=Object.prototype.hasOwnProperty,Oo=r.unstable_scheduleCallback,No=r.unstable_cancelCallback,p_=r.unstable_shouldYield,m_=r.unstable_requestPaint,Mn=r.unstable_now,g_=r.unstable_getCurrentPriorityLevel,Pf=r.unstable_ImmediatePriority,eh=r.unstable_UserBlockingPriority,Ou=r.unstable_NormalPriority,y_=r.unstable_LowPriority,th=r.unstable_IdlePriority,v_=r.log,__=r.unstable_setDisableYieldValue,$i=null,Kt=null;function ma(e){if(typeof v_=="function"&&__(e),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode($i,e)}catch{}}var Ft=Math.clz32?Math.clz32:x_,b_=Math.log,S_=Math.LN2;function x_(e){return e>>>=0,e===0?32:31-(b_(e)/S_|0)|0}var Nu=256,Cu=4194304;function es(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ku(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var o=0,d=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var g=i&134217727;return g!==0?(i=g&~d,i!==0?o=es(i):(h&=g,h!==0?o=es(h):a||(a=g&~e,a!==0&&(o=es(a))))):(g=i&~d,g!==0?o=es(g):h!==0?o=es(h):a||(a=i&~e,a!==0&&(o=es(a)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,a=t&-t,d>=a||d===32&&(a&4194048)!==0)?t:o}function Vi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function T_(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nh(){var e=Nu;return Nu<<=1,(Nu&4194048)===0&&(Nu=256),e}function ah(){var e=Cu;return Cu<<=1,(Cu&62914560)===0&&(Cu=4194304),e}function Co(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Yi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function A_(e,t,a,i,o,d){var h=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var g=e.entanglements,b=e.expirationTimes,N=e.hiddenUpdates;for(a=h&~a;0<a;){var M=31-Ft(a),U=1<<M;g[M]=0,b[M]=-1;var C=N[M];if(C!==null)for(N[M]=null,M=0;M<C.length;M++){var k=C[M];k!==null&&(k.lane&=-536870913)}a&=~U}i!==0&&sh(e,i,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(h&~t))}function sh(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Ft(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&4194090}function ih(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-Ft(a),o=1<<i;o&t|e[i]&t&&(e[i]|=t),a&=~o}}function ko(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ro(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function rh(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:Bg(e.type))}function w_(e,t){var a=K.p;try{return K.p=e,t()}finally{K.p=a}}var ga=Math.random().toString(36).slice(2),jt="__reactFiber$"+ga,$t="__reactProps$"+ga,zs="__reactContainer$"+ga,Do="__reactEvents$"+ga,E_="__reactListeners$"+ga,O_="__reactHandles$"+ga,uh="__reactResources$"+ga,Xi="__reactMarker$"+ga;function Mo(e){delete e[jt],delete e[$t],delete e[Do],delete e[E_],delete e[O_]}function Zs(e){var t=e[jt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[zs]||a[jt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Ag(e);e!==null;){if(a=e[jt])return a;e=Ag(e)}return t}e=a,a=e.parentNode}return null}function Us(e){if(e=e[jt]||e[zs]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Qi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function Ls(e){var t=e[uh];return t||(t=e[uh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function At(e){e[Xi]=!0}var lh=new Set,oh={};function ts(e,t){Bs(e,t),Bs(e+"Capture",t)}function Bs(e,t){for(oh[e]=t,e=0;e<t.length;e++)lh.add(t[e])}var N_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ch={},dh={};function C_(e){return Eo.call(dh,e)?!0:Eo.call(ch,e)?!1:N_.test(e)?dh[e]=!0:(ch[e]=!0,!1)}function Ru(e,t,a){if(C_(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Du(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function $n(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}var jo,fh;function qs(e){if(jo===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);jo=t&&t[1]||"",fh=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jo+e+fh}var zo=!1;function Zo(e,t){if(!e||zo)return"";zo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var U=function(){throw Error()};if(Object.defineProperty(U.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(U,[])}catch(k){var C=k}Reflect.construct(e,[],U)}else{try{U.call()}catch(k){C=k}e.call(U.prototype)}}else{try{throw Error()}catch(k){C=k}(U=e())&&typeof U.catch=="function"&&U.catch(function(){})}}catch(k){if(k&&C&&typeof k.stack=="string")return[k.stack,C.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=i.DetermineComponentFrameRoot(),h=d[0],g=d[1];if(h&&g){var b=h.split(`
`),N=g.split(`
`);for(o=i=0;i<b.length&&!b[i].includes("DetermineComponentFrameRoot");)i++;for(;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;if(i===b.length||o===N.length)for(i=b.length-1,o=N.length-1;1<=i&&0<=o&&b[i]!==N[o];)o--;for(;1<=i&&0<=o;i--,o--)if(b[i]!==N[o]){if(i!==1||o!==1)do if(i--,o--,0>o||b[i]!==N[o]){var M=`
`+b[i].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=i&&0<=o);break}}}finally{zo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?qs(a):""}function k_(e){switch(e.tag){case 26:case 27:case 5:return qs(e.type);case 16:return qs("Lazy");case 13:return qs("Suspense");case 19:return qs("SuspenseList");case 0:case 15:return Zo(e.type,!1);case 11:return Zo(e.type.render,!1);case 1:return Zo(e.type,!0);case 31:return qs("Activity");default:return""}}function hh(e){try{var t="";do t+=k_(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function cn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ph(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function R_(e){var t=ph(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,d=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){i=""+h,d.call(this,h)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return i},setValue:function(h){i=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mu(e){e._valueTracker||(e._valueTracker=R_(e))}function mh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=ph(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function ju(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var D_=/[\n"\\]/g;function dn(e){return e.replace(D_,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Uo(e,t,a,i,o,d,h,g){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+cn(t)):e.value!==""+cn(t)&&(e.value=""+cn(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?Lo(e,h,cn(t)):a!=null?Lo(e,h,cn(a)):i!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+cn(g):e.removeAttribute("name")}function gh(e,t,a,i,o,d,h,g){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null))return;a=a!=null?""+cn(a):"",t=t!=null?""+cn(t):a,g||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=g?e.checked:!!i,e.defaultChecked=!!i,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h)}function Lo(e,t,a){t==="number"&&ju(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Hs(e,t,a,i){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&i&&(e[a].defaultSelected=!0)}else{for(a=""+cn(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function yh(e,t,a){if(t!=null&&(t=""+cn(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+cn(a):""}function vh(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(u(92));if(it(i)){if(1<i.length)throw Error(u(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=cn(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i)}function Gs(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var M_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _h(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||M_.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function bh(e,t,a){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&a[o]!==i&&_h(e,o,i)}else for(var d in t)t.hasOwnProperty(d)&&_h(e,d,t[d])}function Bo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),z_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zu(e){return z_.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var qo=null;function Ho(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Is=null,$s=null;function Sh(e){var t=Us(e);if(t&&(e=t.stateNode)){var a=e[$t]||null;e:switch(e=t.stateNode,t.type){case"input":if(Uo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var o=i[$t]||null;if(!o)throw Error(u(90));Uo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&mh(i)}break e;case"textarea":yh(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Hs(e,!!a.multiple,t,!1)}}}var Go=!1;function xh(e,t,a){if(Go)return e(t,a);Go=!0;try{var i=e(t);return i}finally{if(Go=!1,(Is!==null||$s!==null)&&(bl(),Is&&(t=Is,e=$s,$s=Is=null,Sh(t),e)))for(t=0;t<e.length;t++)Sh(e[t])}}function Ji(e,t){var a=e.stateNode;if(a===null)return null;var i=a[$t]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(u(231,t,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Io=!1;if(Vn)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){Io=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{Io=!1}var ya=null,$o=null,Zu=null;function Th(){if(Zu)return Zu;var e,t=$o,a=t.length,i,o="value"in ya?ya.value:ya.textContent,d=o.length;for(e=0;e<a&&t[e]===o[e];e++);var h=a-e;for(i=1;i<=h&&t[a-i]===o[d-i];i++);return Zu=o.slice(e,1<i?1-i:void 0)}function Uu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lu(){return!0}function Ah(){return!1}function Vt(e){function t(a,i,o,d,h){this._reactName=a,this._targetInst=o,this.type=i,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(a=e[g],this[g]=a?a(d):d[g]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Lu:Ah,this.isPropagationStopped=Ah,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Lu)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Lu)},persist:function(){},isPersistent:Lu}),t}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bu=Vt(ns),Fi=v({},ns,{view:0,detail:0}),Z_=Vt(Fi),Vo,Yo,Wi,qu=v({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wi&&(Wi&&e.type==="mousemove"?(Vo=e.screenX-Wi.screenX,Yo=e.screenY-Wi.screenY):Yo=Vo=0,Wi=e),Vo)},movementY:function(e){return"movementY"in e?e.movementY:Yo}}),wh=Vt(qu),U_=v({},qu,{dataTransfer:0}),L_=Vt(U_),B_=v({},Fi,{relatedTarget:0}),Xo=Vt(B_),q_=v({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),H_=Vt(q_),G_=v({},ns,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),I_=Vt(G_),$_=v({},ns,{data:0}),Eh=Vt($_),V_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=X_[e])?!!t[e]:!1}function Qo(){return Q_}var J_=v({},Fi,{key:function(e){if(e.key){var t=V_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Uu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Y_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qo,charCode:function(e){return e.type==="keypress"?Uu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Uu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),K_=Vt(J_),F_=v({},qu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oh=Vt(F_),W_=v({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qo}),P_=Vt(W_),e0=v({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),t0=Vt(e0),n0=v({},qu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),a0=Vt(n0),s0=v({},ns,{newState:0,oldState:0}),i0=Vt(s0),r0=[9,13,27,32],Jo=Vn&&"CompositionEvent"in window,Pi=null;Vn&&"documentMode"in document&&(Pi=document.documentMode);var u0=Vn&&"TextEvent"in window&&!Pi,Nh=Vn&&(!Jo||Pi&&8<Pi&&11>=Pi),Ch=" ",kh=!1;function Rh(e,t){switch(e){case"keyup":return r0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vs=!1;function l0(e,t){switch(e){case"compositionend":return Dh(t);case"keypress":return t.which!==32?null:(kh=!0,Ch);case"textInput":return e=t.data,e===Ch&&kh?null:e;default:return null}}function o0(e,t){if(Vs)return e==="compositionend"||!Jo&&Rh(e,t)?(e=Th(),Zu=$o=ya=null,Vs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nh&&t.locale!=="ko"?null:t.data;default:return null}}var c0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!c0[e.type]:t==="textarea"}function jh(e,t,a,i){Is?$s?$s.push(i):$s=[i]:Is=i,t=El(t,"onChange"),0<t.length&&(a=new Bu("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var er=null,tr=null;function d0(e){pg(e,0)}function Hu(e){var t=Qi(e);if(mh(t))return e}function zh(e,t){if(e==="change")return t}var Zh=!1;if(Vn){var Ko;if(Vn){var Fo="oninput"in document;if(!Fo){var Uh=document.createElement("div");Uh.setAttribute("oninput","return;"),Fo=typeof Uh.oninput=="function"}Ko=Fo}else Ko=!1;Zh=Ko&&(!document.documentMode||9<document.documentMode)}function Lh(){er&&(er.detachEvent("onpropertychange",Bh),tr=er=null)}function Bh(e){if(e.propertyName==="value"&&Hu(tr)){var t=[];jh(t,tr,e,Ho(e)),xh(d0,t)}}function f0(e,t,a){e==="focusin"?(Lh(),er=t,tr=a,er.attachEvent("onpropertychange",Bh)):e==="focusout"&&Lh()}function h0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hu(tr)}function p0(e,t){if(e==="click")return Hu(t)}function m0(e,t){if(e==="input"||e==="change")return Hu(t)}function g0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wt=typeof Object.is=="function"?Object.is:g0;function nr(e,t){if(Wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var o=a[i];if(!Eo.call(t,o)||!Wt(e[o],t[o]))return!1}return!0}function qh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hh(e,t){var a=qh(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qh(a)}}function Gh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ih(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ju(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ju(e.document)}return t}function Wo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var y0=Vn&&"documentMode"in document&&11>=document.documentMode,Ys=null,Po=null,ar=null,ec=!1;function $h(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ec||Ys==null||Ys!==ju(i)||(i=Ys,"selectionStart"in i&&Wo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ar&&nr(ar,i)||(ar=i,i=El(Po,"onSelect"),0<i.length&&(t=new Bu("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=Ys)))}function as(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Xs={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},tc={},Vh={};Vn&&(Vh=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function ss(e){if(tc[e])return tc[e];if(!Xs[e])return e;var t=Xs[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Vh)return tc[e]=t[a];return e}var Yh=ss("animationend"),Xh=ss("animationiteration"),Qh=ss("animationstart"),v0=ss("transitionrun"),_0=ss("transitionstart"),b0=ss("transitioncancel"),Jh=ss("transitionend"),Kh=new Map,nc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nc.push("scrollEnd");function An(e,t){Kh.set(e,t),ts(t,[e])}var Fh=new WeakMap;function fn(e,t){if(typeof e=="object"&&e!==null){var a=Fh.get(e);return a!==void 0?a:(t={value:e,source:t,stack:hh(t)},Fh.set(e,t),t)}return{value:e,source:t,stack:hh(t)}}var hn=[],Qs=0,ac=0;function Gu(){for(var e=Qs,t=ac=Qs=0;t<e;){var a=hn[t];hn[t++]=null;var i=hn[t];hn[t++]=null;var o=hn[t];hn[t++]=null;var d=hn[t];if(hn[t++]=null,i!==null&&o!==null){var h=i.pending;h===null?o.next=o:(o.next=h.next,h.next=o),i.pending=o}d!==0&&Wh(a,o,d)}}function Iu(e,t,a,i){hn[Qs++]=e,hn[Qs++]=t,hn[Qs++]=a,hn[Qs++]=i,ac|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function sc(e,t,a,i){return Iu(e,t,a,i),$u(e)}function Js(e,t){return Iu(e,null,null,t),$u(e)}function Wh(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var o=!1,d=e.return;d!==null;)d.childLanes|=a,i=d.alternate,i!==null&&(i.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-Ft(a),e=d.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=a|536870912),d):null}function $u(e){if(50<Nr)throw Nr=0,cd=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ks={};function S0(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,t,a,i){return new S0(e,t,a,i)}function ic(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yn(e,t){var a=e.alternate;return a===null?(a=Pt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ph(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vu(e,t,a,i,o,d){var h=0;if(i=e,typeof e=="function")ic(e)&&(h=1);else if(typeof e=="string")h=Tb(e,a,he.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case lt:return e=Pt(31,a,t,o),e.elementType=lt,e.lanes=d,e;case J:return is(a.children,o,d,t);case ve:h=8,o|=24;break;case le:return e=Pt(12,a,t,o|2),e.elementType=le,e.lanes=d,e;case X:return e=Pt(13,a,t,o),e.elementType=X,e.lanes=d,e;case we:return e=Pt(19,a,t,o),e.elementType=we,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:case I:h=10;break e;case Z:h=9;break e;case oe:h=11;break e;case Ve:h=14;break e;case tt:h=16,i=null;break e}h=29,a=Error(u(130,e===null?"null":typeof e,"")),i=null}return t=Pt(h,a,t,o),t.elementType=e,t.type=i,t.lanes=d,t}function is(e,t,a,i){return e=Pt(7,e,i,t),e.lanes=a,e}function rc(e,t,a){return e=Pt(6,e,null,t),e.lanes=a,e}function uc(e,t,a){return t=Pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Fs=[],Ws=0,Yu=null,Xu=0,pn=[],mn=0,rs=null,Xn=1,Qn="";function us(e,t){Fs[Ws++]=Xu,Fs[Ws++]=Yu,Yu=e,Xu=t}function ep(e,t,a){pn[mn++]=Xn,pn[mn++]=Qn,pn[mn++]=rs,rs=e;var i=Xn;e=Qn;var o=32-Ft(i)-1;i&=~(1<<o),a+=1;var d=32-Ft(t)+o;if(30<d){var h=o-o%5;d=(i&(1<<h)-1).toString(32),i>>=h,o-=h,Xn=1<<32-Ft(t)+o|a<<o|i,Qn=d+e}else Xn=1<<d|a<<o|i,Qn=e}function lc(e){e.return!==null&&(us(e,1),ep(e,1,0))}function oc(e){for(;e===Yu;)Yu=Fs[--Ws],Fs[Ws]=null,Xu=Fs[--Ws],Fs[Ws]=null;for(;e===rs;)rs=pn[--mn],pn[mn]=null,Qn=pn[--mn],pn[mn]=null,Xn=pn[--mn],pn[mn]=null}var Bt=null,ht=null,Ye=!1,ls=null,jn=!1,cc=Error(u(519));function os(e){var t=Error(u(418,""));throw rr(fn(t,e)),cc}function tp(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[jt]=e,t[$t]=i,a){case"dialog":Re("cancel",t),Re("close",t);break;case"iframe":case"object":case"embed":Re("load",t);break;case"video":case"audio":for(a=0;a<kr.length;a++)Re(kr[a],t);break;case"source":Re("error",t);break;case"img":case"image":case"link":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"input":Re("invalid",t),gh(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Mu(t);break;case"select":Re("invalid",t);break;case"textarea":Re("invalid",t),vh(t,i.value,i.defaultValue,i.children),Mu(t)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||vg(t.textContent,a)?(i.popover!=null&&(Re("beforetoggle",t),Re("toggle",t)),i.onScroll!=null&&Re("scroll",t),i.onScrollEnd!=null&&Re("scrollend",t),i.onClick!=null&&(t.onclick=Ol),t=!0):t=!1,t||os(e)}function np(e){for(Bt=e.return;Bt;)switch(Bt.tag){case 5:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Bt=Bt.return}}function sr(e){if(e!==Bt)return!1;if(!Ye)return np(e),Ye=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ed(e.type,e.memoizedProps)),a=!a),a&&ht&&os(e),np(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){ht=En(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}ht=null}}else t===27?(t=ht,Ma(e.type)?(e=kd,kd=null,ht=e):ht=t):ht=Bt?En(e.stateNode.nextSibling):null;return!0}function ir(){ht=Bt=null,Ye=!1}function ap(){var e=ls;return e!==null&&(Qt===null?Qt=e:Qt.push.apply(Qt,e),ls=null),e}function rr(e){ls===null?ls=[e]:ls.push(e)}var dc=H(null),cs=null,Jn=null;function va(e,t,a){W(dc,t._currentValue),t._currentValue=a}function Kn(e){e._currentValue=dc.current,ee(dc)}function fc(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function hc(e,t,a,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var h=o.child;d=d.firstContext;e:for(;d!==null;){var g=d;d=o;for(var b=0;b<t.length;b++)if(g.context===t[b]){d.lanes|=a,g=d.alternate,g!==null&&(g.lanes|=a),fc(d.return,a,e),i||(h=null);break e}d=g.next}}else if(o.tag===18){if(h=o.return,h===null)throw Error(u(341));h.lanes|=a,d=h.alternate,d!==null&&(d.lanes|=a),fc(h,a,e),h=null}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===e){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}}function ur(e,t,a,i){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var h=o.alternate;if(h===null)throw Error(u(387));if(h=h.memoizedProps,h!==null){var g=o.type;Wt(o.pendingProps.value,h.value)||(e!==null?e.push(g):e=[g])}}else if(o===Jt.current){if(h=o.alternate,h===null)throw Error(u(387));h.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Zr):e=[Zr])}o=o.return}e!==null&&hc(t,e,a,i),t.flags|=262144}function Qu(e){for(e=e.firstContext;e!==null;){if(!Wt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ds(e){cs=e,Jn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function zt(e){return sp(cs,e)}function Ju(e,t){return cs===null&&ds(e),sp(e,t)}function sp(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Jn===null){if(e===null)throw Error(u(308));Jn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Jn=Jn.next=t;return a}var x0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},T0=r.unstable_scheduleCallback,A0=r.unstable_NormalPriority,xt={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pc(){return{controller:new x0,data:new Map,refCount:0}}function lr(e){e.refCount--,e.refCount===0&&T0(A0,function(){e.controller.abort()})}var or=null,mc=0,Ps=0,ei=null;function w0(e,t){if(or===null){var a=or=[];mc=0,Ps=yd(),ei={status:"pending",value:void 0,then:function(i){a.push(i)}}}return mc++,t.then(ip,ip),t}function ip(){if(--mc===0&&or!==null){ei!==null&&(ei.status="fulfilled");var e=or;or=null,Ps=0,ei=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function E0(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),i}var rp=R.S;R.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&w0(e,t),rp!==null&&rp(e,t)};var fs=H(null);function gc(){var e=fs.current;return e!==null?e:st.pooledCache}function Ku(e,t){t===null?W(fs,fs.current):W(fs,t.pool)}function up(){var e=gc();return e===null?null:{parent:xt._currentValue,pool:e}}var cr=Error(u(460)),lp=Error(u(474)),Fu=Error(u(542)),yc={then:function(){}};function op(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wu(){}function cp(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Wu,Wu),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,fp(e),e;default:if(typeof t.status=="string")t.then(Wu,Wu);else{if(e=st,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,fp(e),e}throw dr=t,cr}}var dr=null;function dp(){if(dr===null)throw Error(u(459));var e=dr;return dr=null,e}function fp(e){if(e===cr||e===Fu)throw Error(u(483))}var _a=!1;function vc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _c(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ba(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Sa(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Je&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=$u(e),Wh(e,null,a),t}return Iu(e,i,t,a),$u(e)}function fr(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,ih(e,a)}}function bc(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var o=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var h={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?o=d=h:d=d.next=h,a=a.next}while(a!==null);d===null?o=d=t:d=d.next=t}else o=d=t;a={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Sc=!1;function hr(){if(Sc){var e=ei;if(e!==null)throw e}}function pr(e,t,a,i){Sc=!1;var o=e.updateQueue;_a=!1;var d=o.firstBaseUpdate,h=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var b=g,N=b.next;b.next=null,h===null?d=N:h.next=N,h=b;var M=e.alternate;M!==null&&(M=M.updateQueue,g=M.lastBaseUpdate,g!==h&&(g===null?M.firstBaseUpdate=N:g.next=N,M.lastBaseUpdate=b))}if(d!==null){var U=o.baseState;h=0,M=N=b=null,g=d;do{var C=g.lane&-536870913,k=C!==g.lane;if(k?(je&C)===C:(i&C)===C){C!==0&&C===Ps&&(Sc=!0),M!==null&&(M=M.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var ye=e,pe=g;C=t;var et=a;switch(pe.tag){case 1:if(ye=pe.payload,typeof ye=="function"){U=ye.call(et,U,C);break e}U=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=pe.payload,C=typeof ye=="function"?ye.call(et,U,C):ye,C==null)break e;U=v({},U,C);break e;case 2:_a=!0}}C=g.callback,C!==null&&(e.flags|=64,k&&(e.flags|=8192),k=o.callbacks,k===null?o.callbacks=[C]:k.push(C))}else k={lane:C,tag:g.tag,payload:g.payload,callback:g.callback,next:null},M===null?(N=M=k,b=U):M=M.next=k,h|=C;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;k=g,g=k.next,k.next=null,o.lastBaseUpdate=k,o.shared.pending=null}}while(!0);M===null&&(b=U),o.baseState=b,o.firstBaseUpdate=N,o.lastBaseUpdate=M,d===null&&(o.shared.lanes=0),Ca|=h,e.lanes=h,e.memoizedState=U}}function hp(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function pp(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)hp(a[e],t)}var ti=H(null),Pu=H(0);function mp(e,t){e=aa,W(Pu,e),W(ti,t),aa=e|t.baseLanes}function xc(){W(Pu,aa),W(ti,ti.current)}function Tc(){aa=Pu.current,ee(ti),ee(Pu)}var xa=0,Ee=null,We=null,_t=null,el=!1,ni=!1,hs=!1,tl=0,mr=0,ai=null,O0=0;function mt(){throw Error(u(321))}function Ac(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Wt(e[a],t[a]))return!1;return!0}function wc(e,t,a,i,o,d){return xa=d,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?Wp:Pp,hs=!1,d=a(i,o),hs=!1,ni&&(d=yp(t,a,i,o)),gp(e),d}function gp(e){R.H=ul;var t=We!==null&&We.next!==null;if(xa=0,_t=We=Ee=null,el=!1,mr=0,ai=null,t)throw Error(u(300));e===null||wt||(e=e.dependencies,e!==null&&Qu(e)&&(wt=!0))}function yp(e,t,a,i){Ee=e;var o=0;do{if(ni&&(ai=null),mr=0,ni=!1,25<=o)throw Error(u(301));if(o+=1,_t=We=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}R.H=j0,d=t(a,i)}while(ni);return d}function N0(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?gr(t):t,e=e.useState()[0],(We!==null?We.memoizedState:null)!==e&&(Ee.flags|=1024),t}function Ec(){var e=tl!==0;return tl=0,e}function Oc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Nc(e){if(el){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}el=!1}xa=0,_t=We=Ee=null,ni=!1,mr=tl=0,ai=null}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ee.memoizedState=_t=e:_t=_t.next=e,_t}function bt(){if(We===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=_t===null?Ee.memoizedState:_t.next;if(t!==null)_t=t,We=e;else{if(e===null)throw Ee.alternate===null?Error(u(467)):Error(u(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},_t===null?Ee.memoizedState=_t=e:_t=_t.next=e}return _t}function Cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gr(e){var t=mr;return mr+=1,ai===null&&(ai=[]),e=cp(ai,e,t),t=Ee,(_t===null?t.memoizedState:_t.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?Wp:Pp),e}function nl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return gr(e);if(e.$$typeof===I)return zt(e)}throw Error(u(438,String(e)))}function kc(e){var t=null,a=Ee.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=Ee.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Cc(),Ee.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=ot;return t.index++,a}function Fn(e,t){return typeof t=="function"?t(e):t}function al(e){var t=bt();return Rc(t,We,e)}function Rc(e,t,a){var i=e.queue;if(i===null)throw Error(u(311));i.lastRenderedReducer=a;var o=e.baseQueue,d=i.pending;if(d!==null){if(o!==null){var h=o.next;o.next=d.next,d.next=h}t.baseQueue=o=d,i.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var g=h=null,b=null,N=t,M=!1;do{var U=N.lane&-536870913;if(U!==N.lane?(je&U)===U:(xa&U)===U){var C=N.revertLane;if(C===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),U===Ps&&(M=!0);else if((xa&C)===C){N=N.next,C===Ps&&(M=!0);continue}else U={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(g=b=U,h=d):b=b.next=U,Ee.lanes|=C,Ca|=C;U=N.action,hs&&a(d,U),d=N.hasEagerState?N.eagerState:a(d,U)}else C={lane:U,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(g=b=C,h=d):b=b.next=C,Ee.lanes|=U,Ca|=U;N=N.next}while(N!==null&&N!==t);if(b===null?h=d:b.next=g,!Wt(d,e.memoizedState)&&(wt=!0,M&&(a=ei,a!==null)))throw a;e.memoizedState=d,e.baseState=h,e.baseQueue=b,i.lastRenderedState=d}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Dc(e){var t=bt(),a=t.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=e;var i=a.dispatch,o=a.pending,d=t.memoizedState;if(o!==null){a.pending=null;var h=o=o.next;do d=e(d,h.action),h=h.next;while(h!==o);Wt(d,t.memoizedState)||(wt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,i]}function vp(e,t,a){var i=Ee,o=bt(),d=Ye;if(d){if(a===void 0)throw Error(u(407));a=a()}else a=t();var h=!Wt((We||o).memoizedState,a);h&&(o.memoizedState=a,wt=!0),o=o.queue;var g=Sp.bind(null,i,o,e);if(yr(2048,8,g,[e]),o.getSnapshot!==t||h||_t!==null&&_t.memoizedState.tag&1){if(i.flags|=2048,si(9,sl(),bp.bind(null,i,o,a,t),null),st===null)throw Error(u(349));d||(xa&124)!==0||_p(i,t,a)}return a}function _p(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ee.updateQueue,t===null?(t=Cc(),Ee.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function bp(e,t,a,i){t.value=a,t.getSnapshot=i,xp(t)&&Tp(e)}function Sp(e,t,a){return a(function(){xp(t)&&Tp(e)})}function xp(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Wt(e,a)}catch{return!0}}function Tp(e){var t=Js(e,2);t!==null&&sn(t,e,2)}function Mc(e){var t=Yt();if(typeof e=="function"){var a=e;if(e=a(),hs){ma(!0);try{a()}finally{ma(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:e},t}function Ap(e,t,a,i){return e.baseState=a,Rc(e,We,typeof i=="function"?i:Fn)}function C0(e,t,a,i,o){if(rl(e))throw Error(u(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){d.listeners.push(h)}};R.T!==null?a(!0):d.isTransition=!1,i(d),a=t.pending,a===null?(d.next=t.pending=d,wp(t,d)):(d.next=a.next,t.pending=a.next=d)}}function wp(e,t){var a=t.action,i=t.payload,o=e.state;if(t.isTransition){var d=R.T,h={};R.T=h;try{var g=a(o,i),b=R.S;b!==null&&b(h,g),Ep(e,t,g)}catch(N){jc(e,t,N)}finally{R.T=d}}else try{d=a(o,i),Ep(e,t,d)}catch(N){jc(e,t,N)}}function Ep(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){Op(e,t,i)},function(i){return jc(e,t,i)}):Op(e,t,a)}function Op(e,t,a){t.status="fulfilled",t.value=a,Np(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,wp(e,a)))}function jc(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,Np(t),t=t.next;while(t!==i)}e.action=null}function Np(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Cp(e,t){return t}function kp(e,t){if(Ye){var a=st.formState;if(a!==null){e:{var i=Ee;if(Ye){if(ht){t:{for(var o=ht,d=jn;o.nodeType!==8;){if(!d){o=null;break t}if(o=En(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){ht=En(o.nextSibling),i=o.data==="F!";break e}}os(i)}i=!1}i&&(t=a[0])}}return a=Yt(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cp,lastRenderedState:t},a.queue=i,a=Jp.bind(null,Ee,i),i.dispatch=a,i=Mc(!1),d=Bc.bind(null,Ee,!1,i.queue),i=Yt(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,a=C0.bind(null,Ee,o,d,a),o.dispatch=a,i.memoizedState=e,[t,a,!1]}function Rp(e){var t=bt();return Dp(t,We,e)}function Dp(e,t,a){if(t=Rc(e,t,Cp)[0],e=al(Fn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=gr(t)}catch(h){throw h===cr?Fu:h}else i=t;t=bt();var o=t.queue,d=o.dispatch;return a!==t.memoizedState&&(Ee.flags|=2048,si(9,sl(),k0.bind(null,o,a),null)),[i,d,e]}function k0(e,t){e.action=t}function Mp(e){var t=bt(),a=We;if(a!==null)return Dp(t,a,e);bt(),t=t.memoizedState,a=bt();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function si(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=Ee.updateQueue,t===null&&(t=Cc(),Ee.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function sl(){return{destroy:void 0,resource:void 0}}function jp(){return bt().memoizedState}function il(e,t,a,i){var o=Yt();i=i===void 0?null:i,Ee.flags|=e,o.memoizedState=si(1|t,sl(),a,i)}function yr(e,t,a,i){var o=bt();i=i===void 0?null:i;var d=o.memoizedState.inst;We!==null&&i!==null&&Ac(i,We.memoizedState.deps)?o.memoizedState=si(t,d,a,i):(Ee.flags|=e,o.memoizedState=si(1|t,d,a,i))}function zp(e,t){il(8390656,8,e,t)}function Zp(e,t){yr(2048,8,e,t)}function Up(e,t){return yr(4,2,e,t)}function Lp(e,t){return yr(4,4,e,t)}function Bp(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qp(e,t,a){a=a!=null?a.concat([e]):null,yr(4,4,Bp.bind(null,t,e),a)}function zc(){}function Hp(e,t){var a=bt();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&Ac(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function Gp(e,t){var a=bt();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&Ac(t,i[1]))return i[0];if(i=e(),hs){ma(!0);try{e()}finally{ma(!1)}}return a.memoizedState=[i,t],i}function Zc(e,t,a){return a===void 0||(xa&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=Vm(),Ee.lanes|=e,Ca|=e,a)}function Ip(e,t,a,i){return Wt(a,t)?a:ti.current!==null?(e=Zc(e,a,i),Wt(e,t)||(wt=!0),e):(xa&42)===0?(wt=!0,e.memoizedState=a):(e=Vm(),Ee.lanes|=e,Ca|=e,t)}function $p(e,t,a,i,o){var d=K.p;K.p=d!==0&&8>d?d:8;var h=R.T,g={};R.T=g,Bc(e,!1,t,a);try{var b=o(),N=R.S;if(N!==null&&N(g,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var M=E0(b,i);vr(e,t,M,an(e))}else vr(e,t,i,an(e))}catch(U){vr(e,t,{then:function(){},status:"rejected",reason:U},an())}finally{K.p=d,R.T=h}}function R0(){}function Uc(e,t,a,i){if(e.tag!==5)throw Error(u(476));var o=Vp(e).queue;$p(e,o,t,ge,a===null?R0:function(){return Yp(e),a(i)})}function Vp(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:ge},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Yp(e){var t=Vp(e).next.queue;vr(e,t,{},an())}function Lc(){return zt(Zr)}function Xp(){return bt().memoizedState}function Qp(){return bt().memoizedState}function D0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=an();e=ba(a);var i=Sa(t,e,a);i!==null&&(sn(i,t,a),fr(i,t,a)),t={cache:pc()},e.payload=t;return}t=t.return}}function M0(e,t,a){var i=an();a={lane:i,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},rl(e)?Kp(t,a):(a=sc(e,t,a,i),a!==null&&(sn(a,e,i),Fp(a,t,i)))}function Jp(e,t,a){var i=an();vr(e,t,a,i)}function vr(e,t,a,i){var o={lane:i,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(rl(e))Kp(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var h=t.lastRenderedState,g=d(h,a);if(o.hasEagerState=!0,o.eagerState=g,Wt(g,h))return Iu(e,t,o,0),st===null&&Gu(),!1}catch{}finally{}if(a=sc(e,t,o,i),a!==null)return sn(a,e,i),Fp(a,t,i),!0}return!1}function Bc(e,t,a,i){if(i={lane:2,revertLane:yd(),action:i,hasEagerState:!1,eagerState:null,next:null},rl(e)){if(t)throw Error(u(479))}else t=sc(e,a,i,2),t!==null&&sn(t,e,2)}function rl(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function Kp(e,t){ni=el=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Fp(e,t,a){if((a&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,ih(e,a)}}var ul={readContext:zt,use:nl,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},Wp={readContext:zt,use:nl,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:zt,useEffect:zp,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,il(4194308,4,Bp.bind(null,t,e),a)},useLayoutEffect:function(e,t){return il(4194308,4,e,t)},useInsertionEffect:function(e,t){il(4,2,e,t)},useMemo:function(e,t){var a=Yt();t=t===void 0?null:t;var i=e();if(hs){ma(!0);try{e()}finally{ma(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=Yt();if(a!==void 0){var o=a(t);if(hs){ma(!0);try{a(t)}finally{ma(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=M0.bind(null,Ee,e),[i.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:function(e){e=Mc(e);var t=e.queue,a=Jp.bind(null,Ee,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:zc,useDeferredValue:function(e,t){var a=Yt();return Zc(a,e,t)},useTransition:function(){var e=Mc(!1);return e=$p.bind(null,Ee,e.queue,!0,!1),Yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=Ee,o=Yt();if(Ye){if(a===void 0)throw Error(u(407));a=a()}else{if(a=t(),st===null)throw Error(u(349));(je&124)!==0||_p(i,t,a)}o.memoizedState=a;var d={value:a,getSnapshot:t};return o.queue=d,zp(Sp.bind(null,i,d,e),[e]),i.flags|=2048,si(9,sl(),bp.bind(null,i,d,a,t),null),a},useId:function(){var e=Yt(),t=st.identifierPrefix;if(Ye){var a=Qn,i=Xn;a=(i&~(1<<32-Ft(i)-1)).toString(32)+a,t=""+t+"R"+a,a=tl++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=O0++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Lc,useFormState:kp,useActionState:kp,useOptimistic:function(e){var t=Yt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Bc.bind(null,Ee,!0,a),a.dispatch=t,[e,t]},useMemoCache:kc,useCacheRefresh:function(){return Yt().memoizedState=D0.bind(null,Ee)}},Pp={readContext:zt,use:nl,useCallback:Hp,useContext:zt,useEffect:Zp,useImperativeHandle:qp,useInsertionEffect:Up,useLayoutEffect:Lp,useMemo:Gp,useReducer:al,useRef:jp,useState:function(){return al(Fn)},useDebugValue:zc,useDeferredValue:function(e,t){var a=bt();return Ip(a,We.memoizedState,e,t)},useTransition:function(){var e=al(Fn)[0],t=bt().memoizedState;return[typeof e=="boolean"?e:gr(e),t]},useSyncExternalStore:vp,useId:Xp,useHostTransitionStatus:Lc,useFormState:Rp,useActionState:Rp,useOptimistic:function(e,t){var a=bt();return Ap(a,We,e,t)},useMemoCache:kc,useCacheRefresh:Qp},j0={readContext:zt,use:nl,useCallback:Hp,useContext:zt,useEffect:Zp,useImperativeHandle:qp,useInsertionEffect:Up,useLayoutEffect:Lp,useMemo:Gp,useReducer:Dc,useRef:jp,useState:function(){return Dc(Fn)},useDebugValue:zc,useDeferredValue:function(e,t){var a=bt();return We===null?Zc(a,e,t):Ip(a,We.memoizedState,e,t)},useTransition:function(){var e=Dc(Fn)[0],t=bt().memoizedState;return[typeof e=="boolean"?e:gr(e),t]},useSyncExternalStore:vp,useId:Xp,useHostTransitionStatus:Lc,useFormState:Mp,useActionState:Mp,useOptimistic:function(e,t){var a=bt();return We!==null?Ap(a,We,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:kc,useCacheRefresh:Qp},ii=null,_r=0;function ll(e){var t=_r;return _r+=1,ii===null&&(ii=[]),cp(ii,e,t)}function br(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ol(e,t){throw t.$$typeof===A?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function em(e){var t=e._init;return t(e._payload)}function tm(e){function t(E,T){if(e){var O=E.deletions;O===null?(E.deletions=[T],E.flags|=16):O.push(T)}}function a(E,T){if(!e)return null;for(;T!==null;)t(E,T),T=T.sibling;return null}function i(E){for(var T=new Map;E!==null;)E.key!==null?T.set(E.key,E):T.set(E.index,E),E=E.sibling;return T}function o(E,T){return E=Yn(E,T),E.index=0,E.sibling=null,E}function d(E,T,O){return E.index=O,e?(O=E.alternate,O!==null?(O=O.index,O<T?(E.flags|=67108866,T):O):(E.flags|=67108866,T)):(E.flags|=1048576,T)}function h(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function g(E,T,O,j){return T===null||T.tag!==6?(T=rc(O,E.mode,j),T.return=E,T):(T=o(T,O),T.return=E,T)}function b(E,T,O,j){var ne=O.type;return ne===J?M(E,T,O.props.children,j,O.key):T!==null&&(T.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===tt&&em(ne)===T.type)?(T=o(T,O.props),br(T,O),T.return=E,T):(T=Vu(O.type,O.key,O.props,null,E.mode,j),br(T,O),T.return=E,T)}function N(E,T,O,j){return T===null||T.tag!==4||T.stateNode.containerInfo!==O.containerInfo||T.stateNode.implementation!==O.implementation?(T=uc(O,E.mode,j),T.return=E,T):(T=o(T,O.children||[]),T.return=E,T)}function M(E,T,O,j,ne){return T===null||T.tag!==7?(T=is(O,E.mode,j,ne),T.return=E,T):(T=o(T,O),T.return=E,T)}function U(E,T,O){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=rc(""+T,E.mode,O),T.return=E,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case w:return O=Vu(T.type,T.key,T.props,null,E.mode,O),br(O,T),O.return=E,O;case L:return T=uc(T,E.mode,O),T.return=E,T;case tt:var j=T._init;return T=j(T._payload),U(E,T,O)}if(it(T)||Be(T))return T=is(T,E.mode,O,null),T.return=E,T;if(typeof T.then=="function")return U(E,ll(T),O);if(T.$$typeof===I)return U(E,Ju(E,T),O);ol(E,T)}return null}function C(E,T,O,j){var ne=T!==null?T.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return ne!==null?null:g(E,T,""+O,j);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case w:return O.key===ne?b(E,T,O,j):null;case L:return O.key===ne?N(E,T,O,j):null;case tt:return ne=O._init,O=ne(O._payload),C(E,T,O,j)}if(it(O)||Be(O))return ne!==null?null:M(E,T,O,j,null);if(typeof O.then=="function")return C(E,T,ll(O),j);if(O.$$typeof===I)return C(E,T,Ju(E,O),j);ol(E,O)}return null}function k(E,T,O,j,ne){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return E=E.get(O)||null,g(T,E,""+j,ne);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case w:return E=E.get(j.key===null?O:j.key)||null,b(T,E,j,ne);case L:return E=E.get(j.key===null?O:j.key)||null,N(T,E,j,ne);case tt:var Oe=j._init;return j=Oe(j._payload),k(E,T,O,j,ne)}if(it(j)||Be(j))return E=E.get(O)||null,M(T,E,j,ne,null);if(typeof j.then=="function")return k(E,T,O,ll(j),ne);if(j.$$typeof===I)return k(E,T,O,Ju(T,j),ne);ol(T,j)}return null}function ye(E,T,O,j){for(var ne=null,Oe=null,ce=T,me=T=0,Ot=null;ce!==null&&me<O.length;me++){ce.index>me?(Ot=ce,ce=null):Ot=ce.sibling;var He=C(E,ce,O[me],j);if(He===null){ce===null&&(ce=Ot);break}e&&ce&&He.alternate===null&&t(E,ce),T=d(He,T,me),Oe===null?ne=He:Oe.sibling=He,Oe=He,ce=Ot}if(me===O.length)return a(E,ce),Ye&&us(E,me),ne;if(ce===null){for(;me<O.length;me++)ce=U(E,O[me],j),ce!==null&&(T=d(ce,T,me),Oe===null?ne=ce:Oe.sibling=ce,Oe=ce);return Ye&&us(E,me),ne}for(ce=i(ce);me<O.length;me++)Ot=k(ce,E,me,O[me],j),Ot!==null&&(e&&Ot.alternate!==null&&ce.delete(Ot.key===null?me:Ot.key),T=d(Ot,T,me),Oe===null?ne=Ot:Oe.sibling=Ot,Oe=Ot);return e&&ce.forEach(function(La){return t(E,La)}),Ye&&us(E,me),ne}function pe(E,T,O,j){if(O==null)throw Error(u(151));for(var ne=null,Oe=null,ce=T,me=T=0,Ot=null,He=O.next();ce!==null&&!He.done;me++,He=O.next()){ce.index>me?(Ot=ce,ce=null):Ot=ce.sibling;var La=C(E,ce,He.value,j);if(La===null){ce===null&&(ce=Ot);break}e&&ce&&La.alternate===null&&t(E,ce),T=d(La,T,me),Oe===null?ne=La:Oe.sibling=La,Oe=La,ce=Ot}if(He.done)return a(E,ce),Ye&&us(E,me),ne;if(ce===null){for(;!He.done;me++,He=O.next())He=U(E,He.value,j),He!==null&&(T=d(He,T,me),Oe===null?ne=He:Oe.sibling=He,Oe=He);return Ye&&us(E,me),ne}for(ce=i(ce);!He.done;me++,He=O.next())He=k(ce,E,me,He.value,j),He!==null&&(e&&He.alternate!==null&&ce.delete(He.key===null?me:He.key),T=d(He,T,me),Oe===null?ne=He:Oe.sibling=He,Oe=He);return e&&ce.forEach(function(zb){return t(E,zb)}),Ye&&us(E,me),ne}function et(E,T,O,j){if(typeof O=="object"&&O!==null&&O.type===J&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case w:e:{for(var ne=O.key;T!==null;){if(T.key===ne){if(ne=O.type,ne===J){if(T.tag===7){a(E,T.sibling),j=o(T,O.props.children),j.return=E,E=j;break e}}else if(T.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===tt&&em(ne)===T.type){a(E,T.sibling),j=o(T,O.props),br(j,O),j.return=E,E=j;break e}a(E,T);break}else t(E,T);T=T.sibling}O.type===J?(j=is(O.props.children,E.mode,j,O.key),j.return=E,E=j):(j=Vu(O.type,O.key,O.props,null,E.mode,j),br(j,O),j.return=E,E=j)}return h(E);case L:e:{for(ne=O.key;T!==null;){if(T.key===ne)if(T.tag===4&&T.stateNode.containerInfo===O.containerInfo&&T.stateNode.implementation===O.implementation){a(E,T.sibling),j=o(T,O.children||[]),j.return=E,E=j;break e}else{a(E,T);break}else t(E,T);T=T.sibling}j=uc(O,E.mode,j),j.return=E,E=j}return h(E);case tt:return ne=O._init,O=ne(O._payload),et(E,T,O,j)}if(it(O))return ye(E,T,O,j);if(Be(O)){if(ne=Be(O),typeof ne!="function")throw Error(u(150));return O=ne.call(O),pe(E,T,O,j)}if(typeof O.then=="function")return et(E,T,ll(O),j);if(O.$$typeof===I)return et(E,T,Ju(E,O),j);ol(E,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,T!==null&&T.tag===6?(a(E,T.sibling),j=o(T,O),j.return=E,E=j):(a(E,T),j=rc(O,E.mode,j),j.return=E,E=j),h(E)):a(E,T)}return function(E,T,O,j){try{_r=0;var ne=et(E,T,O,j);return ii=null,ne}catch(ce){if(ce===cr||ce===Fu)throw ce;var Oe=Pt(29,ce,null,E.mode);return Oe.lanes=j,Oe.return=E,Oe}finally{}}}var ri=tm(!0),nm=tm(!1),gn=H(null),zn=null;function Ta(e){var t=e.alternate;W(Tt,Tt.current&1),W(gn,e),zn===null&&(t===null||ti.current!==null||t.memoizedState!==null)&&(zn=e)}function am(e){if(e.tag===22){if(W(Tt,Tt.current),W(gn,e),zn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(zn=e)}}else Aa()}function Aa(){W(Tt,Tt.current),W(gn,gn.current)}function Wn(e){ee(gn),zn===e&&(zn=null),ee(Tt)}var Tt=H(0);function cl(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Cd(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function qc(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:v({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Hc={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=an(),o=ba(i);o.payload=t,a!=null&&(o.callback=a),t=Sa(e,o,i),t!==null&&(sn(t,e,i),fr(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=an(),o=ba(i);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Sa(e,o,i),t!==null&&(sn(t,e,i),fr(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=an(),i=ba(a);i.tag=2,t!=null&&(i.callback=t),t=Sa(e,i,a),t!==null&&(sn(t,e,a),fr(t,e,a))}};function sm(e,t,a,i,o,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,d,h):t.prototype&&t.prototype.isPureReactComponent?!nr(a,i)||!nr(o,d):!0}function im(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&Hc.enqueueReplaceState(t,t.state,null)}function ps(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=v({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}var dl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function rm(e){dl(e)}function um(e){console.error(e)}function lm(e){dl(e)}function fl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function om(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Gc(e,t,a){return a=ba(a),a.tag=3,a.payload={element:null},a.callback=function(){fl(e,t)},a}function cm(e){return e=ba(e),e.tag=3,e}function dm(e,t,a,i){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var d=i.value;e.payload=function(){return o(d)},e.callback=function(){om(t,a,i)}}var h=a.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){om(t,a,i),typeof o!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var g=i.stack;this.componentDidCatch(i.value,{componentStack:g!==null?g:""})})}function z0(e,t,a,i,o){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&ur(t,a,o,!0),a=gn.current,a!==null){switch(a.tag){case 13:return zn===null?fd():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=o,i===yc?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),pd(e,i,o)),!1;case 22:return a.flags|=65536,i===yc?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),pd(e,i,o)),!1}throw Error(u(435,a.tag))}return pd(e,i,o),fd(),!1}if(Ye)return t=gn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==cc&&(e=Error(u(422),{cause:i}),rr(fn(e,a)))):(i!==cc&&(t=Error(u(423),{cause:i}),rr(fn(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=fn(i,a),o=Gc(e.stateNode,i,o),bc(e,o),pt!==4&&(pt=2)),!1;var d=Error(u(520),{cause:i});if(d=fn(d,a),Or===null?Or=[d]:Or.push(d),pt!==4&&(pt=2),t===null)return!0;i=fn(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Gc(a.stateNode,i,e),bc(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ka===null||!ka.has(d))))return a.flags|=65536,o&=-o,a.lanes|=o,o=cm(o),dm(o,e,a,i),bc(a,o),!1}a=a.return}while(a!==null);return!1}var fm=Error(u(461)),wt=!1;function kt(e,t,a,i){t.child=e===null?nm(t,null,a,i):ri(t,e.child,a,i)}function hm(e,t,a,i,o){a=a.render;var d=t.ref;if("ref"in i){var h={};for(var g in i)g!=="ref"&&(h[g]=i[g])}else h=i;return ds(t),i=wc(e,t,a,h,d,o),g=Ec(),e!==null&&!wt?(Oc(e,t,o),Pn(e,t,o)):(Ye&&g&&lc(t),t.flags|=1,kt(e,t,i,o),t.child)}function pm(e,t,a,i,o){if(e===null){var d=a.type;return typeof d=="function"&&!ic(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,mm(e,t,d,i,o)):(e=Vu(a.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Kc(e,o)){var h=d.memoizedProps;if(a=a.compare,a=a!==null?a:nr,a(h,i)&&e.ref===t.ref)return Pn(e,t,o)}return t.flags|=1,e=Yn(d,i),e.ref=t.ref,e.return=t,t.child=e}function mm(e,t,a,i,o){if(e!==null){var d=e.memoizedProps;if(nr(d,i)&&e.ref===t.ref)if(wt=!1,t.pendingProps=i=d,Kc(e,o))(e.flags&131072)!==0&&(wt=!0);else return t.lanes=e.lanes,Pn(e,t,o)}return Ic(e,t,a,i,o)}function gm(e,t,a){var i=t.pendingProps,o=i.children,d=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if((t.flags&128)!==0){if(i=d!==null?d.baseLanes|a:a,e!==null){for(o=t.child=e.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;t.childLanes=d&~i}else t.childLanes=0,t.child=null;return ym(e,t,i,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ku(t,d!==null?d.cachePool:null),d!==null?mp(t,d):xc(),am(t);else return t.lanes=t.childLanes=536870912,ym(e,t,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ku(t,d.cachePool),mp(t,d),Aa(),t.memoizedState=null):(e!==null&&Ku(t,null),xc(),Aa());return kt(e,t,o,a),t.child}function ym(e,t,a,i){var o=gc();return o=o===null?null:{parent:xt._currentValue,pool:o},t.memoizedState={baseLanes:a,cachePool:o},e!==null&&Ku(t,null),xc(),am(t),e!==null&&ur(e,t,i,!0),null}function hl(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(u(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Ic(e,t,a,i,o){return ds(t),a=wc(e,t,a,i,void 0,o),i=Ec(),e!==null&&!wt?(Oc(e,t,o),Pn(e,t,o)):(Ye&&i&&lc(t),t.flags|=1,kt(e,t,a,o),t.child)}function vm(e,t,a,i,o,d){return ds(t),t.updateQueue=null,a=yp(t,i,a,o),gp(e),i=Ec(),e!==null&&!wt?(Oc(e,t,d),Pn(e,t,d)):(Ye&&i&&lc(t),t.flags|=1,kt(e,t,a,d),t.child)}function _m(e,t,a,i,o){if(ds(t),t.stateNode===null){var d=Ks,h=a.contextType;typeof h=="object"&&h!==null&&(d=zt(h)),d=new a(i,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Hc,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=i,d.state=t.memoizedState,d.refs={},vc(t),h=a.contextType,d.context=typeof h=="object"&&h!==null?zt(h):Ks,d.state=t.memoizedState,h=a.getDerivedStateFromProps,typeof h=="function"&&(qc(t,a,h,i),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(h=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),h!==d.state&&Hc.enqueueReplaceState(d,d.state,null),pr(t,i,d,o),hr(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){d=t.stateNode;var g=t.memoizedProps,b=ps(a,g);d.props=b;var N=d.context,M=a.contextType;h=Ks,typeof M=="object"&&M!==null&&(h=zt(M));var U=a.getDerivedStateFromProps;M=typeof U=="function"||typeof d.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,M||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g||N!==h)&&im(t,d,i,h),_a=!1;var C=t.memoizedState;d.state=C,pr(t,i,d,o),hr(),N=t.memoizedState,g||C!==N||_a?(typeof U=="function"&&(qc(t,a,U,i),N=t.memoizedState),(b=_a||sm(t,a,b,i,C,N,h))?(M||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=N),d.props=i,d.state=N,d.context=h,i=b):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{d=t.stateNode,_c(e,t),h=t.memoizedProps,M=ps(a,h),d.props=M,U=t.pendingProps,C=d.context,N=a.contextType,b=Ks,typeof N=="object"&&N!==null&&(b=zt(N)),g=a.getDerivedStateFromProps,(N=typeof g=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==U||C!==b)&&im(t,d,i,b),_a=!1,C=t.memoizedState,d.state=C,pr(t,i,d,o),hr();var k=t.memoizedState;h!==U||C!==k||_a||e!==null&&e.dependencies!==null&&Qu(e.dependencies)?(typeof g=="function"&&(qc(t,a,g,i),k=t.memoizedState),(M=_a||sm(t,a,M,i,C,k,b)||e!==null&&e.dependencies!==null&&Qu(e.dependencies))?(N||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(i,k,b),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(i,k,b)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=k),d.props=i,d.state=k,d.context=b,i=M):(typeof d.componentDidUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),i=!1)}return d=i,hl(e,t),i=(t.flags&128)!==0,d||i?(d=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&i?(t.child=ri(t,e.child,null,o),t.child=ri(t,null,a,o)):kt(e,t,a,o),t.memoizedState=d.state,e=t.child):e=Pn(e,t,o),e}function bm(e,t,a,i){return ir(),t.flags|=256,kt(e,t,a,i),t.child}var $c={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vc(e){return{baseLanes:e,cachePool:up()}}function Yc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=yn),e}function Sm(e,t,a){var i=t.pendingProps,o=!1,d=(t.flags&128)!==0,h;if((h=d)||(h=e!==null&&e.memoizedState===null?!1:(Tt.current&2)!==0),h&&(o=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ye){if(o?Ta(t):Aa(),Ye){var g=ht,b;if(b=g){e:{for(b=g,g=jn;b.nodeType!==8;){if(!g){g=null;break e}if(b=En(b.nextSibling),b===null){g=null;break e}}g=b}g!==null?(t.memoizedState={dehydrated:g,treeContext:rs!==null?{id:Xn,overflow:Qn}:null,retryLane:536870912,hydrationErrors:null},b=Pt(18,null,null,0),b.stateNode=g,b.return=t,t.child=b,Bt=t,ht=null,b=!0):b=!1}b||os(t)}if(g=t.memoizedState,g!==null&&(g=g.dehydrated,g!==null))return Cd(g)?t.lanes=32:t.lanes=536870912,null;Wn(t)}return g=i.children,i=i.fallback,o?(Aa(),o=t.mode,g=pl({mode:"hidden",children:g},o),i=is(i,o,a,null),g.return=t,i.return=t,g.sibling=i,t.child=g,o=t.child,o.memoizedState=Vc(a),o.childLanes=Yc(e,h,a),t.memoizedState=$c,i):(Ta(t),Xc(t,g))}if(b=e.memoizedState,b!==null&&(g=b.dehydrated,g!==null)){if(d)t.flags&256?(Ta(t),t.flags&=-257,t=Qc(e,t,a)):t.memoizedState!==null?(Aa(),t.child=e.child,t.flags|=128,t=null):(Aa(),o=i.fallback,g=t.mode,i=pl({mode:"visible",children:i.children},g),o=is(o,g,a,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,ri(t,e.child,null,a),i=t.child,i.memoizedState=Vc(a),i.childLanes=Yc(e,h,a),t.memoizedState=$c,t=o);else if(Ta(t),Cd(g)){if(h=g.nextSibling&&g.nextSibling.dataset,h)var N=h.dgst;h=N,i=Error(u(419)),i.stack="",i.digest=h,rr({value:i,source:null,stack:null}),t=Qc(e,t,a)}else if(wt||ur(e,t,a,!1),h=(a&e.childLanes)!==0,wt||h){if(h=st,h!==null&&(i=a&-a,i=(i&42)!==0?1:ko(i),i=(i&(h.suspendedLanes|a))!==0?0:i,i!==0&&i!==b.retryLane))throw b.retryLane=i,Js(e,i),sn(h,e,i),fm;g.data==="$?"||fd(),t=Qc(e,t,a)}else g.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,ht=En(g.nextSibling),Bt=t,Ye=!0,ls=null,jn=!1,e!==null&&(pn[mn++]=Xn,pn[mn++]=Qn,pn[mn++]=rs,Xn=e.id,Qn=e.overflow,rs=t),t=Xc(t,i.children),t.flags|=4096);return t}return o?(Aa(),o=i.fallback,g=t.mode,b=e.child,N=b.sibling,i=Yn(b,{mode:"hidden",children:i.children}),i.subtreeFlags=b.subtreeFlags&65011712,N!==null?o=Yn(N,o):(o=is(o,g,a,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,g=e.child.memoizedState,g===null?g=Vc(a):(b=g.cachePool,b!==null?(N=xt._currentValue,b=b.parent!==N?{parent:N,pool:N}:b):b=up(),g={baseLanes:g.baseLanes|a,cachePool:b}),o.memoizedState=g,o.childLanes=Yc(e,h,a),t.memoizedState=$c,i):(Ta(t),a=e.child,e=a.sibling,a=Yn(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=a,t.memoizedState=null,a)}function Xc(e,t){return t=pl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function pl(e,t){return e=Pt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Qc(e,t,a){return ri(t,e.child,null,a),e=Xc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xm(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),fc(e.return,t,a)}function Jc(e,t,a,i,o){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:o}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=i,d.tail=a,d.tailMode=o)}function Tm(e,t,a){var i=t.pendingProps,o=i.revealOrder,d=i.tail;if(kt(e,t,i.children,a),i=Tt.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xm(e,a,t);else if(e.tag===19)xm(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(W(Tt,i),o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&cl(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Jc(t,!1,o,a,d);break;case"backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&cl(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Jc(t,!0,a,null,d);break;case"together":Jc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ca|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(ur(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,a=Yn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Yn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Kc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Qu(e)))}function Z0(e,t,a){switch(t.tag){case 3:rt(t,t.stateNode.containerInfo),va(t,xt,e.memoizedState.cache),ir();break;case 27:case 5:wo(t);break;case 4:rt(t,t.stateNode.containerInfo);break;case 10:va(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Ta(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Sm(e,t,a):(Ta(t),e=Pn(e,t,a),e!==null?e.sibling:null);Ta(t);break;case 19:var o=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||(ur(e,t,a,!1),i=(a&t.childLanes)!==0),o){if(i)return Tm(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),W(Tt,Tt.current),i)break;return null;case 22:case 23:return t.lanes=0,gm(e,t,a);case 24:va(t,xt,e.memoizedState.cache)}return Pn(e,t,a)}function Am(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)wt=!0;else{if(!Kc(e,a)&&(t.flags&128)===0)return wt=!1,Z0(e,t,a);wt=(e.flags&131072)!==0}else wt=!1,Ye&&(t.flags&1048576)!==0&&ep(t,Xu,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,o=i._init;if(i=o(i._payload),t.type=i,typeof i=="function")ic(i)?(e=ps(i,e),t.tag=1,t=_m(null,t,i,e,a)):(t.tag=0,t=Ic(null,t,i,e,a));else{if(i!=null){if(o=i.$$typeof,o===oe){t.tag=11,t=hm(null,t,i,e,a);break e}else if(o===Ve){t.tag=14,t=pm(null,t,i,e,a);break e}}throw t=vt(i)||i,Error(u(306,t,""))}}return t;case 0:return Ic(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,o=ps(i,t.pendingProps),_m(e,t,i,o,a);case 3:e:{if(rt(t,t.stateNode.containerInfo),e===null)throw Error(u(387));i=t.pendingProps;var d=t.memoizedState;o=d.element,_c(e,t),pr(t,i,null,a);var h=t.memoizedState;if(i=h.cache,va(t,xt,i),i!==d.cache&&hc(t,[xt],a,!0),hr(),i=h.element,d.isDehydrated)if(d={element:i,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=bm(e,t,i,a);break e}else if(i!==o){o=fn(Error(u(424)),t),rr(o),t=bm(e,t,i,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ht=En(e.firstChild),Bt=t,Ye=!0,ls=null,jn=!0,a=nm(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ir(),i===o){t=Pn(e,t,a);break e}kt(e,t,i,a)}t=t.child}return t;case 26:return hl(e,t),e===null?(a=Ng(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ye||(a=t.type,e=t.pendingProps,i=Nl(Se.current).createElement(a),i[jt]=t,i[$t]=e,Dt(i,a,e),At(i),t.stateNode=i):t.memoizedState=Ng(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return wo(t),e===null&&Ye&&(i=t.stateNode=wg(t.type,t.pendingProps,Se.current),Bt=t,jn=!0,o=ht,Ma(t.type)?(kd=o,ht=En(i.firstChild)):ht=o),kt(e,t,t.pendingProps.children,a),hl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ye&&((o=i=ht)&&(i=cb(i,t.type,t.pendingProps,jn),i!==null?(t.stateNode=i,Bt=t,ht=En(i.firstChild),jn=!1,o=!0):o=!1),o||os(t)),wo(t),o=t.type,d=t.pendingProps,h=e!==null?e.memoizedProps:null,i=d.children,Ed(o,d)?i=null:h!==null&&Ed(o,h)&&(t.flags|=32),t.memoizedState!==null&&(o=wc(e,t,N0,null,null,a),Zr._currentValue=o),hl(e,t),kt(e,t,i,a),t.child;case 6:return e===null&&Ye&&((e=a=ht)&&(a=db(a,t.pendingProps,jn),a!==null?(t.stateNode=a,Bt=t,ht=null,e=!0):e=!1),e||os(t)),null;case 13:return Sm(e,t,a);case 4:return rt(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ri(t,null,i,a):kt(e,t,i,a),t.child;case 11:return hm(e,t,t.type,t.pendingProps,a);case 7:return kt(e,t,t.pendingProps,a),t.child;case 8:return kt(e,t,t.pendingProps.children,a),t.child;case 12:return kt(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,va(t,t.type,i.value),kt(e,t,i.children,a),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,ds(t),o=zt(o),i=i(o),t.flags|=1,kt(e,t,i,a),t.child;case 14:return pm(e,t,t.type,t.pendingProps,a);case 15:return mm(e,t,t.type,t.pendingProps,a);case 19:return Tm(e,t,a);case 31:return i=t.pendingProps,a=t.mode,i={mode:i.mode,children:i.children},e===null?(a=pl(i,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=Yn(e.child,i),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return gm(e,t,a);case 24:return ds(t),i=zt(xt),e===null?(o=gc(),o===null&&(o=st,d=pc(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=a),o=d),t.memoizedState={parent:i,cache:o},vc(t),va(t,xt,o)):((e.lanes&a)!==0&&(_c(e,t),pr(t,null,null,a),hr()),o=e.memoizedState,d=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),va(t,xt,i)):(i=d.cache,va(t,xt,i),i!==o.cache&&hc(t,[xt],a,!0))),kt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function ea(e){e.flags|=4}function wm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Mg(t)){if(t=gn.current,t!==null&&((je&4194048)===je?zn!==null:(je&62914560)!==je&&(je&536870912)===0||t!==zn))throw dr=yc,lp;e.flags|=8192}}function ml(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ah():536870912,e.lanes|=t,ci|=t)}function Sr(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function U0(e,t,a){var i=t.pendingProps;switch(oc(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return ct(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Kn(xt),pa(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(sr(t)?ea(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ap())),ct(t),null;case 26:return a=t.memoizedState,e===null?(ea(t),a!==null?(ct(t),wm(t,a)):(ct(t),t.flags&=-16777217)):a?a!==e.memoizedState?(ea(t),ct(t),wm(t,a)):(ct(t),t.flags&=-16777217):(e.memoizedProps!==i&&ea(t),ct(t),t.flags&=-16777217),null;case 27:Eu(t),a=Se.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ea(t);else{if(!i){if(t.stateNode===null)throw Error(u(166));return ct(t),null}e=he.current,sr(t)?tp(t):(e=wg(o,i,a),t.stateNode=e,ea(t))}return ct(t),null;case 5:if(Eu(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ea(t);else{if(!i){if(t.stateNode===null)throw Error(u(166));return ct(t),null}if(e=he.current,sr(t))tp(t);else{switch(o=Nl(Se.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?o.createElement("select",{is:i.is}):o.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?o.createElement(a,{is:i.is}):o.createElement(a)}}e[jt]=t,e[$t]=i;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(Dt(e,a,i),a){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ea(t)}}return ct(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&ea(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(u(166));if(e=Se.current,sr(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,o=Bt,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[jt]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||vg(e.nodeValue,a)),e||os(t)}else e=Nl(e).createTextNode(i),e[jt]=t,t.stateNode=e}return ct(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=sr(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(u(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(u(317));o[jt]=t}else ir(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ct(t),o=!1}else o=ap(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Wn(t),t):(Wn(t),null)}if(Wn(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=i!==null,e=e!==null&&e.memoizedState!==null,a){i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool);var d=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==o&&(i.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),ml(t,t.updateQueue),ct(t),null;case 4:return pa(),e===null&&Sd(t.stateNode.containerInfo),ct(t),null;case 10:return Kn(t.type),ct(t),null;case 19:if(ee(Tt),o=t.memoizedState,o===null)return ct(t),null;if(i=(t.flags&128)!==0,d=o.rendering,d===null)if(i)Sr(o,!1);else{if(pt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=cl(e),d!==null){for(t.flags|=128,Sr(o,!1),e=d.updateQueue,t.updateQueue=e,ml(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Ph(a,e),a=a.sibling;return W(Tt,Tt.current&1|2),t.child}e=e.sibling}o.tail!==null&&Mn()>vl&&(t.flags|=128,i=!0,Sr(o,!1),t.lanes=4194304)}else{if(!i)if(e=cl(d),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ml(t,e),Sr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Ye)return ct(t),null}else 2*Mn()-o.renderingStartTime>vl&&a!==536870912&&(t.flags|=128,i=!0,Sr(o,!1),t.lanes=4194304);o.isBackwards?(d.sibling=t.child,t.child=d):(e=o.last,e!==null?e.sibling=d:t.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Mn(),t.sibling=null,e=Tt.current,W(Tt,i?e&1|2:e&1),t):(ct(t),null);case 22:case 23:return Wn(t),Tc(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(a&536870912)!==0&&(t.flags&128)===0&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),a=t.updateQueue,a!==null&&ml(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&ee(fs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Kn(xt),ct(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function L0(e,t){switch(oc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kn(xt),pa(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Eu(t),null;case 13:if(Wn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(Tt),null;case 4:return pa(),null;case 10:return Kn(t.type),null;case 22:case 23:return Wn(t),Tc(),e!==null&&ee(fs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Kn(xt),null;case 25:return null;default:return null}}function Em(e,t){switch(oc(t),t.tag){case 3:Kn(xt),pa();break;case 26:case 27:case 5:Eu(t);break;case 4:pa();break;case 13:Wn(t);break;case 19:ee(Tt);break;case 10:Kn(t.type);break;case 22:case 23:Wn(t),Tc(),e!==null&&ee(fs);break;case 24:Kn(xt)}}function xr(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var o=i.next;a=o;do{if((a.tag&e)===e){i=void 0;var d=a.create,h=a.inst;i=d(),h.destroy=i}a=a.next}while(a!==o)}}catch(g){at(t,t.return,g)}}function wa(e,t,a){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var d=o.next;i=d;do{if((i.tag&e)===e){var h=i.inst,g=h.destroy;if(g!==void 0){h.destroy=void 0,o=t;var b=a,N=g;try{N()}catch(M){at(o,b,M)}}}i=i.next}while(i!==d)}}catch(M){at(t,t.return,M)}}function Om(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{pp(t,a)}catch(i){at(e,e.return,i)}}}function Nm(e,t,a){a.props=ps(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){at(e,t,i)}}function Tr(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(o){at(e,t,o)}}function Zn(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(o){at(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){at(e,t,o)}else a.current=null}function Cm(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(o){at(e,e.return,o)}}function Fc(e,t,a){try{var i=e.stateNode;ib(i,e.type,a,t),i[$t]=t}catch(o){at(e,e.return,o)}}function km(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ma(e.type)||e.tag===4}function Wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||km(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ma(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pc(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ol));else if(i!==4&&(i===27&&Ma(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Pc(e,t,a),e=e.sibling;e!==null;)Pc(e,t,a),e=e.sibling}function gl(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&Ma(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(gl(e,t,a),e=e.sibling;e!==null;)gl(e,t,a),e=e.sibling}function Rm(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Dt(t,i,a),t[jt]=e,t[$t]=a}catch(d){at(e,e.return,d)}}var ta=!1,gt=!1,ed=!1,Dm=typeof WeakSet=="function"?WeakSet:Set,Et=null;function B0(e,t){if(e=e.containerInfo,Ad=jl,e=Ih(e),Wo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var o=i.anchorOffset,d=i.focusNode;i=i.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var h=0,g=-1,b=-1,N=0,M=0,U=e,C=null;t:for(;;){for(var k;U!==a||o!==0&&U.nodeType!==3||(g=h+o),U!==d||i!==0&&U.nodeType!==3||(b=h+i),U.nodeType===3&&(h+=U.nodeValue.length),(k=U.firstChild)!==null;)C=U,U=k;for(;;){if(U===e)break t;if(C===a&&++N===o&&(g=h),C===d&&++M===i&&(b=h),(k=U.nextSibling)!==null)break;U=C,C=U.parentNode}U=k}a=g===-1||b===-1?null:{start:g,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(wd={focusedElem:e,selectionRange:a},jl=!1,Et=t;Et!==null;)if(t=Et,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Et=e;else for(;Et!==null;){switch(t=Et,d=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,o=d.memoizedProps,d=d.memoizedState,i=a.stateNode;try{var ye=ps(a.type,o,a.elementType===a.type);e=i.getSnapshotBeforeUpdate(ye,d),i.__reactInternalSnapshotBeforeUpdate=e}catch(pe){at(a,a.return,pe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Nd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,Et=e;break}Et=t.return}}function Mm(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:Ea(e,a),i&4&&xr(5,a);break;case 1:if(Ea(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(h){at(a,a.return,h)}else{var o=ps(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){at(a,a.return,h)}}i&64&&Om(a),i&512&&Tr(a,a.return);break;case 3:if(Ea(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{pp(e,t)}catch(h){at(a,a.return,h)}}break;case 27:t===null&&i&4&&Rm(a);case 26:case 5:Ea(e,a),t===null&&i&4&&Cm(a),i&512&&Tr(a,a.return);break;case 12:Ea(e,a);break;case 13:Ea(e,a),i&4&&Zm(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Q0.bind(null,a),fb(e,a))));break;case 22:if(i=a.memoizedState!==null||ta,!i){t=t!==null&&t.memoizedState!==null||gt,o=ta;var d=gt;ta=i,(gt=t)&&!d?Oa(e,a,(a.subtreeFlags&8772)!==0):Ea(e,a),ta=o,gt=d}break;case 30:break;default:Ea(e,a)}}function jm(e){var t=e.alternate;t!==null&&(e.alternate=null,jm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Mo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ut=null,Xt=!1;function na(e,t,a){for(a=a.child;a!==null;)zm(e,t,a),a=a.sibling}function zm(e,t,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount($i,a)}catch{}switch(a.tag){case 26:gt||Zn(a,t),na(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gt||Zn(a,t);var i=ut,o=Xt;Ma(a.type)&&(ut=a.stateNode,Xt=!1),na(e,t,a),Dr(a.stateNode),ut=i,Xt=o;break;case 5:gt||Zn(a,t);case 6:if(i=ut,o=Xt,ut=null,na(e,t,a),ut=i,Xt=o,ut!==null)if(Xt)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){at(a,t,d)}else try{ut.removeChild(a.stateNode)}catch(d){at(a,t,d)}break;case 18:ut!==null&&(Xt?(e=ut,Tg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),qr(e)):Tg(ut,a.stateNode));break;case 4:i=ut,o=Xt,ut=a.stateNode.containerInfo,Xt=!0,na(e,t,a),ut=i,Xt=o;break;case 0:case 11:case 14:case 15:gt||wa(2,a,t),gt||wa(4,a,t),na(e,t,a);break;case 1:gt||(Zn(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&Nm(a,t,i)),na(e,t,a);break;case 21:na(e,t,a);break;case 22:gt=(i=gt)||a.memoizedState!==null,na(e,t,a),gt=i;break;default:na(e,t,a)}}function Zm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qr(e)}catch(a){at(t,t.return,a)}}function q0(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Dm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Dm),t;default:throw Error(u(435,e.tag))}}function td(e,t){var a=q0(e);t.forEach(function(i){var o=J0.bind(null,e,i);a.has(i)||(a.add(i),i.then(o,o))})}function en(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var o=a[i],d=e,h=t,g=h;e:for(;g!==null;){switch(g.tag){case 27:if(Ma(g.type)){ut=g.stateNode,Xt=!1;break e}break;case 5:ut=g.stateNode,Xt=!1;break e;case 3:case 4:ut=g.stateNode.containerInfo,Xt=!0;break e}g=g.return}if(ut===null)throw Error(u(160));zm(d,h,o),ut=null,Xt=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Um(t,e),t=t.sibling}var wn=null;function Um(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:en(t,e),tn(e),i&4&&(wa(3,e,e.return),xr(3,e),wa(5,e,e.return));break;case 1:en(t,e),tn(e),i&512&&(gt||a===null||Zn(a,a.return)),i&64&&ta&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var o=wn;if(en(t,e),tn(e),i&512&&(gt||a===null||Zn(a,a.return)),i&4){var d=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":d=o.getElementsByTagName("title")[0],(!d||d[Xi]||d[jt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(i),o.head.insertBefore(d,o.querySelector("head > title"))),Dt(d,i,a),d[jt]=e,At(d),i=d;break e;case"link":var h=Rg("link","href",o).get(i+(a.href||""));if(h){for(var g=0;g<h.length;g++)if(d=h[g],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){h.splice(g,1);break t}}d=o.createElement(i),Dt(d,i,a),o.head.appendChild(d);break;case"meta":if(h=Rg("meta","content",o).get(i+(a.content||""))){for(g=0;g<h.length;g++)if(d=h[g],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){h.splice(g,1);break t}}d=o.createElement(i),Dt(d,i,a),o.head.appendChild(d);break;default:throw Error(u(468,i))}d[jt]=e,At(d),i=d}e.stateNode=i}else Dg(o,e.type,e.stateNode);else e.stateNode=kg(o,i,e.memoizedProps);else d!==i?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,i===null?Dg(o,e.type,e.stateNode):kg(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Fc(e,e.memoizedProps,a.memoizedProps)}break;case 27:en(t,e),tn(e),i&512&&(gt||a===null||Zn(a,a.return)),a!==null&&i&4&&Fc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(en(t,e),tn(e),i&512&&(gt||a===null||Zn(a,a.return)),e.flags&32){o=e.stateNode;try{Gs(o,"")}catch(k){at(e,e.return,k)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,Fc(e,o,a!==null?a.memoizedProps:o)),i&1024&&(ed=!0);break;case 6:if(en(t,e),tn(e),i&4){if(e.stateNode===null)throw Error(u(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(k){at(e,e.return,k)}}break;case 3:if(Rl=null,o=wn,wn=Cl(t.containerInfo),en(t,e),wn=o,tn(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{qr(t.containerInfo)}catch(k){at(e,e.return,k)}ed&&(ed=!1,Lm(e));break;case 4:i=wn,wn=Cl(e.stateNode.containerInfo),en(t,e),tn(e),wn=i;break;case 12:en(t,e),tn(e);break;case 13:en(t,e),tn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ud=Mn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,td(e,i)));break;case 22:o=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,N=ta,M=gt;if(ta=N||o,gt=M||b,en(t,e),gt=M,ta=N,tn(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||b||ta||gt||ms(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){b=a=t;try{if(d=b.stateNode,o)h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{g=b.stateNode;var U=b.memoizedProps.style,C=U!=null&&U.hasOwnProperty("display")?U.display:null;g.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(k){at(b,b.return,k)}}}else if(t.tag===6){if(a===null){b=t;try{b.stateNode.nodeValue=o?"":b.memoizedProps}catch(k){at(b,b.return,k)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,td(e,a))));break;case 19:en(t,e),tn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,td(e,i)));break;case 30:break;case 21:break;default:en(t,e),tn(e)}}function tn(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(km(i)){a=i;break}i=i.return}if(a==null)throw Error(u(160));switch(a.tag){case 27:var o=a.stateNode,d=Wc(e);gl(e,d,o);break;case 5:var h=a.stateNode;a.flags&32&&(Gs(h,""),a.flags&=-33);var g=Wc(e);gl(e,g,h);break;case 3:case 4:var b=a.stateNode.containerInfo,N=Wc(e);Pc(e,N,b);break;default:throw Error(u(161))}}catch(M){at(e,e.return,M)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Lm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ea(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Mm(e,t.alternate,t),t=t.sibling}function ms(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:wa(4,t,t.return),ms(t);break;case 1:Zn(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Nm(t,t.return,a),ms(t);break;case 27:Dr(t.stateNode);case 26:case 5:Zn(t,t.return),ms(t);break;case 22:t.memoizedState===null&&ms(t);break;case 30:ms(t);break;default:ms(t)}e=e.sibling}}function Oa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,d=t,h=d.flags;switch(d.tag){case 0:case 11:case 15:Oa(o,d,a),xr(4,d);break;case 1:if(Oa(o,d,a),i=d,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(N){at(i,i.return,N)}if(i=d,o=i.updateQueue,o!==null){var g=i.stateNode;try{var b=o.shared.hiddenCallbacks;if(b!==null)for(o.shared.hiddenCallbacks=null,o=0;o<b.length;o++)hp(b[o],g)}catch(N){at(i,i.return,N)}}a&&h&64&&Om(d),Tr(d,d.return);break;case 27:Rm(d);case 26:case 5:Oa(o,d,a),a&&i===null&&h&4&&Cm(d),Tr(d,d.return);break;case 12:Oa(o,d,a);break;case 13:Oa(o,d,a),a&&h&4&&Zm(o,d);break;case 22:d.memoizedState===null&&Oa(o,d,a),Tr(d,d.return);break;case 30:break;default:Oa(o,d,a)}t=t.sibling}}function nd(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&lr(a))}function ad(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&lr(e))}function Un(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bm(e,t,a,i),t=t.sibling}function Bm(e,t,a,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Un(e,t,a,i),o&2048&&xr(9,t);break;case 1:Un(e,t,a,i);break;case 3:Un(e,t,a,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&lr(e)));break;case 12:if(o&2048){Un(e,t,a,i),e=t.stateNode;try{var d=t.memoizedProps,h=d.id,g=d.onPostCommit;typeof g=="function"&&g(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){at(t,t.return,b)}}else Un(e,t,a,i);break;case 13:Un(e,t,a,i);break;case 23:break;case 22:d=t.stateNode,h=t.alternate,t.memoizedState!==null?d._visibility&2?Un(e,t,a,i):Ar(e,t):d._visibility&2?Un(e,t,a,i):(d._visibility|=2,ui(e,t,a,i,(t.subtreeFlags&10256)!==0)),o&2048&&nd(h,t);break;case 24:Un(e,t,a,i),o&2048&&ad(t.alternate,t);break;default:Un(e,t,a,i)}}function ui(e,t,a,i,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,h=t,g=a,b=i,N=h.flags;switch(h.tag){case 0:case 11:case 15:ui(d,h,g,b,o),xr(8,h);break;case 23:break;case 22:var M=h.stateNode;h.memoizedState!==null?M._visibility&2?ui(d,h,g,b,o):Ar(d,h):(M._visibility|=2,ui(d,h,g,b,o)),o&&N&2048&&nd(h.alternate,h);break;case 24:ui(d,h,g,b,o),o&&N&2048&&ad(h.alternate,h);break;default:ui(d,h,g,b,o)}t=t.sibling}}function Ar(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,o=i.flags;switch(i.tag){case 22:Ar(a,i),o&2048&&nd(i.alternate,i);break;case 24:Ar(a,i),o&2048&&ad(i.alternate,i);break;default:Ar(a,i)}t=t.sibling}}var wr=8192;function li(e){if(e.subtreeFlags&wr)for(e=e.child;e!==null;)qm(e),e=e.sibling}function qm(e){switch(e.tag){case 26:li(e),e.flags&wr&&e.memoizedState!==null&&wb(wn,e.memoizedState,e.memoizedProps);break;case 5:li(e);break;case 3:case 4:var t=wn;wn=Cl(e.stateNode.containerInfo),li(e),wn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=wr,wr=16777216,li(e),wr=t):li(e));break;default:li(e)}}function Hm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Er(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];Et=i,Im(i,e)}Hm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gm(e),e=e.sibling}function Gm(e){switch(e.tag){case 0:case 11:case 15:Er(e),e.flags&2048&&wa(9,e,e.return);break;case 3:Er(e);break;case 12:Er(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,yl(e)):Er(e);break;default:Er(e)}}function yl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];Et=i,Im(i,e)}Hm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:wa(8,t,t.return),yl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,yl(t));break;default:yl(t)}e=e.sibling}}function Im(e,t){for(;Et!==null;){var a=Et;switch(a.tag){case 0:case 11:case 15:wa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:lr(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,Et=i;else e:for(a=e;Et!==null;){i=Et;var o=i.sibling,d=i.return;if(jm(i),i===a){Et=null;break e}if(o!==null){o.return=d,Et=o;break e}Et=d}}}var H0={getCacheForType:function(e){var t=zt(xt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},G0=typeof WeakMap=="function"?WeakMap:Map,Je=0,st=null,ke=null,je=0,Ke=0,nn=null,Na=!1,oi=!1,sd=!1,aa=0,pt=0,Ca=0,gs=0,id=0,yn=0,ci=0,Or=null,Qt=null,rd=!1,ud=0,vl=1/0,_l=null,ka=null,Rt=0,Ra=null,di=null,fi=0,ld=0,od=null,$m=null,Nr=0,cd=null;function an(){if((Je&2)!==0&&je!==0)return je&-je;if(R.T!==null){var e=Ps;return e!==0?e:yd()}return rh()}function Vm(){yn===0&&(yn=(je&536870912)===0||Ye?nh():536870912);var e=gn.current;return e!==null&&(e.flags|=32),yn}function sn(e,t,a){(e===st&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)&&(hi(e,0),Da(e,je,yn,!1)),Yi(e,a),((Je&2)===0||e!==st)&&(e===st&&((Je&2)===0&&(gs|=a),pt===4&&Da(e,je,yn,!1)),Ln(e))}function Ym(e,t,a){if((Je&6)!==0)throw Error(u(327));var i=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Vi(e,t),o=i?V0(e,t):hd(e,t,!0),d=i;do{if(o===0){oi&&!i&&Da(e,t,0,!1);break}else{if(a=e.current.alternate,d&&!I0(a)){o=hd(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var g=e;o=Or;var b=g.current.memoizedState.isDehydrated;if(b&&(hi(g,h).flags|=256),h=hd(g,h,!1),h!==2){if(sd&&!b){g.errorRecoveryDisabledLanes|=d,gs|=d,o=4;break e}d=Qt,Qt=o,d!==null&&(Qt===null?Qt=d:Qt.push.apply(Qt,d))}o=h}if(d=!1,o!==2)continue}}if(o===1){hi(e,0),Da(e,t,0,!0);break}e:{switch(i=e,d=o,d){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:Da(i,t,yn,!Na);break e;case 2:Qt=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(o=ud+300-Mn(),10<o)){if(Da(i,t,yn,!Na),ku(i,0,!0)!==0)break e;i.timeoutHandle=Sg(Xm.bind(null,i,a,Qt,_l,rd,t,yn,gs,ci,Na,d,2,-0,0),o);break e}Xm(i,a,Qt,_l,rd,t,yn,gs,ci,Na,d,0,-0,0)}}break}while(!0);Ln(e)}function Xm(e,t,a,i,o,d,h,g,b,N,M,U,C,k){if(e.timeoutHandle=-1,U=t.subtreeFlags,(U&8192||(U&16785408)===16785408)&&(zr={stylesheets:null,count:0,unsuspend:Ab},qm(t),U=Eb(),U!==null)){e.cancelPendingCommit=U(eg.bind(null,e,t,d,a,i,o,h,g,b,M,1,C,k)),Da(e,d,h,!N);return}eg(e,t,d,a,i,o,h,g,b)}function I0(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var o=a[i],d=o.getSnapshot;o=o.value;try{if(!Wt(d(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Da(e,t,a,i){t&=~id,t&=~gs,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var d=31-Ft(o),h=1<<d;i[d]=-1,o&=~h}a!==0&&sh(e,a,t)}function bl(){return(Je&6)===0?(Cr(0),!1):!0}function dd(){if(ke!==null){if(Ke===0)var e=ke.return;else e=ke,Jn=cs=null,Nc(e),ii=null,_r=0,e=ke;for(;e!==null;)Em(e.alternate,e),e=e.return;ke=null}}function hi(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ub(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),dd(),st=e,ke=a=Yn(e.current,null),je=t,Ke=0,nn=null,Na=!1,oi=Vi(e,t),sd=!1,ci=yn=id=gs=Ca=pt=0,Qt=Or=null,rd=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-Ft(i),d=1<<o;t|=e[o],i&=~d}return aa=t,Gu(),a}function Qm(e,t){Ee=null,R.H=ul,t===cr||t===Fu?(t=dp(),Ke=3):t===lp?(t=dp(),Ke=4):Ke=t===fm?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,nn=t,ke===null&&(pt=1,fl(e,fn(t,e.current)))}function Jm(){var e=R.H;return R.H=ul,e===null?ul:e}function Km(){var e=R.A;return R.A=H0,e}function fd(){pt=4,Na||(je&4194048)!==je&&gn.current!==null||(oi=!0),(Ca&134217727)===0&&(gs&134217727)===0||st===null||Da(st,je,yn,!1)}function hd(e,t,a){var i=Je;Je|=2;var o=Jm(),d=Km();(st!==e||je!==t)&&(_l=null,hi(e,t)),t=!1;var h=pt;e:do try{if(Ke!==0&&ke!==null){var g=ke,b=nn;switch(Ke){case 8:dd(),h=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(t=!0);var N=Ke;if(Ke=0,nn=null,pi(e,g,b,N),a&&oi){h=0;break e}break;default:N=Ke,Ke=0,nn=null,pi(e,g,b,N)}}$0(),h=pt;break}catch(M){Qm(e,M)}while(!0);return t&&e.shellSuspendCounter++,Jn=cs=null,Je=i,R.H=o,R.A=d,ke===null&&(st=null,je=0,Gu()),h}function $0(){for(;ke!==null;)Fm(ke)}function V0(e,t){var a=Je;Je|=2;var i=Jm(),o=Km();st!==e||je!==t?(_l=null,vl=Mn()+500,hi(e,t)):oi=Vi(e,t);e:do try{if(Ke!==0&&ke!==null){t=ke;var d=nn;t:switch(Ke){case 1:Ke=0,nn=null,pi(e,t,d,1);break;case 2:case 9:if(op(d)){Ke=0,nn=null,Wm(t);break}t=function(){Ke!==2&&Ke!==9||st!==e||(Ke=7),Ln(e)},d.then(t,t);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:op(d)?(Ke=0,nn=null,Wm(t)):(Ke=0,nn=null,pi(e,t,d,7));break;case 5:var h=null;switch(ke.tag){case 26:h=ke.memoizedState;case 5:case 27:var g=ke;if(!h||Mg(h)){Ke=0,nn=null;var b=g.sibling;if(b!==null)ke=b;else{var N=g.return;N!==null?(ke=N,Sl(N)):ke=null}break t}}Ke=0,nn=null,pi(e,t,d,5);break;case 6:Ke=0,nn=null,pi(e,t,d,6);break;case 8:dd(),pt=6;break e;default:throw Error(u(462))}}Y0();break}catch(M){Qm(e,M)}while(!0);return Jn=cs=null,R.H=i,R.A=o,Je=a,ke!==null?0:(st=null,je=0,Gu(),pt)}function Y0(){for(;ke!==null&&!p_();)Fm(ke)}function Fm(e){var t=Am(e.alternate,e,aa);e.memoizedProps=e.pendingProps,t===null?Sl(e):ke=t}function Wm(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=vm(a,t,t.pendingProps,t.type,void 0,je);break;case 11:t=vm(a,t,t.pendingProps,t.type.render,t.ref,je);break;case 5:Nc(t);default:Em(a,t),t=ke=Ph(t,aa),t=Am(a,t,aa)}e.memoizedProps=e.pendingProps,t===null?Sl(e):ke=t}function pi(e,t,a,i){Jn=cs=null,Nc(t),ii=null,_r=0;var o=t.return;try{if(z0(e,o,t,a,je)){pt=1,fl(e,fn(a,e.current)),ke=null;return}}catch(d){if(o!==null)throw ke=o,d;pt=1,fl(e,fn(a,e.current)),ke=null;return}t.flags&32768?(Ye||i===1?e=!0:oi||(je&536870912)!==0?e=!1:(Na=e=!0,(i===2||i===9||i===3||i===6)&&(i=gn.current,i!==null&&i.tag===13&&(i.flags|=16384))),Pm(t,e)):Sl(t)}function Sl(e){var t=e;do{if((t.flags&32768)!==0){Pm(t,Na);return}e=t.return;var a=U0(t.alternate,t,aa);if(a!==null){ke=a;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);pt===0&&(pt=5)}function Pm(e,t){do{var a=L0(e.alternate,e);if(a!==null){a.flags&=32767,ke=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ke=e;return}ke=e=a}while(e!==null);pt=6,ke=null}function eg(e,t,a,i,o,d,h,g,b){e.cancelPendingCommit=null;do xl();while(Rt!==0);if((Je&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(d=t.lanes|t.childLanes,d|=ac,A_(e,a,d,h,g,b),e===st&&(ke=st=null,je=0),di=t,Ra=e,fi=a,ld=d,od=o,$m=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,K0(Ou,function(){return ig(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=R.T,R.T=null,o=K.p,K.p=2,h=Je,Je|=4;try{B0(e,t,a)}finally{Je=h,K.p=o,R.T=i}}Rt=1,tg(),ng(),ag()}}function tg(){if(Rt===1){Rt=0;var e=Ra,t=di,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=R.T,R.T=null;var i=K.p;K.p=2;var o=Je;Je|=4;try{Um(t,e);var d=wd,h=Ih(e.containerInfo),g=d.focusedElem,b=d.selectionRange;if(h!==g&&g&&g.ownerDocument&&Gh(g.ownerDocument.documentElement,g)){if(b!==null&&Wo(g)){var N=b.start,M=b.end;if(M===void 0&&(M=N),"selectionStart"in g)g.selectionStart=N,g.selectionEnd=Math.min(M,g.value.length);else{var U=g.ownerDocument||document,C=U&&U.defaultView||window;if(C.getSelection){var k=C.getSelection(),ye=g.textContent.length,pe=Math.min(b.start,ye),et=b.end===void 0?pe:Math.min(b.end,ye);!k.extend&&pe>et&&(h=et,et=pe,pe=h);var E=Hh(g,pe),T=Hh(g,et);if(E&&T&&(k.rangeCount!==1||k.anchorNode!==E.node||k.anchorOffset!==E.offset||k.focusNode!==T.node||k.focusOffset!==T.offset)){var O=U.createRange();O.setStart(E.node,E.offset),k.removeAllRanges(),pe>et?(k.addRange(O),k.extend(T.node,T.offset)):(O.setEnd(T.node,T.offset),k.addRange(O))}}}}for(U=[],k=g;k=k.parentNode;)k.nodeType===1&&U.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<U.length;g++){var j=U[g];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}jl=!!Ad,wd=Ad=null}finally{Je=o,K.p=i,R.T=a}}e.current=t,Rt=2}}function ng(){if(Rt===2){Rt=0;var e=Ra,t=di,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=R.T,R.T=null;var i=K.p;K.p=2;var o=Je;Je|=4;try{Mm(e,t.alternate,t)}finally{Je=o,K.p=i,R.T=a}}Rt=3}}function ag(){if(Rt===4||Rt===3){Rt=0,m_();var e=Ra,t=di,a=fi,i=$m;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Rt=5:(Rt=0,di=Ra=null,sg(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(ka=null),Ro(a),t=t.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot($i,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=R.T,o=K.p,K.p=2,R.T=null;try{for(var d=e.onRecoverableError,h=0;h<i.length;h++){var g=i[h];d(g.value,{componentStack:g.stack})}}finally{R.T=t,K.p=o}}(fi&3)!==0&&xl(),Ln(e),o=e.pendingLanes,(a&4194090)!==0&&(o&42)!==0?e===cd?Nr++:(Nr=0,cd=e):Nr=0,Cr(0)}}function sg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,lr(t)))}function xl(e){return tg(),ng(),ag(),ig()}function ig(){if(Rt!==5)return!1;var e=Ra,t=ld;ld=0;var a=Ro(fi),i=R.T,o=K.p;try{K.p=32>a?32:a,R.T=null,a=od,od=null;var d=Ra,h=fi;if(Rt=0,di=Ra=null,fi=0,(Je&6)!==0)throw Error(u(331));var g=Je;if(Je|=4,Gm(d.current),Bm(d,d.current,h,a),Je=g,Cr(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot($i,d)}catch{}return!0}finally{K.p=o,R.T=i,sg(e,t)}}function rg(e,t,a){t=fn(a,t),t=Gc(e.stateNode,t,2),e=Sa(e,t,2),e!==null&&(Yi(e,2),Ln(e))}function at(e,t,a){if(e.tag===3)rg(e,e,a);else for(;t!==null;){if(t.tag===3){rg(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ka===null||!ka.has(i))){e=fn(a,e),a=cm(2),i=Sa(t,a,2),i!==null&&(dm(a,i,t,e),Yi(i,2),Ln(i));break}}t=t.return}}function pd(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new G0;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(a)||(sd=!0,o.add(a),e=X0.bind(null,e,t,a),t.then(e,e))}function X0(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,st===e&&(je&a)===a&&(pt===4||pt===3&&(je&62914560)===je&&300>Mn()-ud?(Je&2)===0&&hi(e,0):id|=a,ci===je&&(ci=0)),Ln(e)}function ug(e,t){t===0&&(t=ah()),e=Js(e,t),e!==null&&(Yi(e,t),Ln(e))}function Q0(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),ug(e,a)}function J0(e,t){var a=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(u(314))}i!==null&&i.delete(t),ug(e,a)}function K0(e,t){return Oo(e,t)}var Tl=null,mi=null,md=!1,Al=!1,gd=!1,ys=0;function Ln(e){e!==mi&&e.next===null&&(mi===null?Tl=mi=e:mi=mi.next=e),Al=!0,md||(md=!0,W0())}function Cr(e,t){if(!gd&&Al){gd=!0;do for(var a=!1,i=Tl;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var d=0;else{var h=i.suspendedLanes,g=i.pingedLanes;d=(1<<31-Ft(42|e)+1)-1,d&=o&~(h&~g),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,dg(i,d))}else d=je,d=ku(i,i===st?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(d&3)===0||Vi(i,d)||(a=!0,dg(i,d));i=i.next}while(a);gd=!1}}function F0(){lg()}function lg(){Al=md=!1;var e=0;ys!==0&&(rb()&&(e=ys),ys=0);for(var t=Mn(),a=null,i=Tl;i!==null;){var o=i.next,d=og(i,t);d===0?(i.next=null,a===null?Tl=o:a.next=o,o===null&&(mi=a)):(a=i,(e!==0||(d&3)!==0)&&(Al=!0)),i=o}Cr(e)}function og(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var h=31-Ft(d),g=1<<h,b=o[h];b===-1?((g&a)===0||(g&i)!==0)&&(o[h]=T_(g,t)):b<=t&&(e.expiredLanes|=g),d&=~g}if(t=st,a=je,a=ku(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&No(i),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Vi(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&No(i),Ro(a)){case 2:case 8:a=eh;break;case 32:a=Ou;break;case 268435456:a=th;break;default:a=Ou}return i=cg.bind(null,e),a=Oo(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&No(i),e.callbackPriority=2,e.callbackNode=null,2}function cg(e,t){if(Rt!==0&&Rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(xl()&&e.callbackNode!==a)return null;var i=je;return i=ku(e,e===st?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Ym(e,i,t),og(e,Mn()),e.callbackNode!=null&&e.callbackNode===a?cg.bind(null,e):null)}function dg(e,t){if(xl())return null;Ym(e,t,!0)}function W0(){lb(function(){(Je&6)!==0?Oo(Pf,F0):lg()})}function yd(){return ys===0&&(ys=nh()),ys}function fg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zu(""+e)}function hg(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function P0(e,t,a,i,o){if(t==="submit"&&a&&a.stateNode===o){var d=fg((o[$t]||null).action),h=i.submitter;h&&(t=(t=h[$t]||null)?fg(t.formAction):h.getAttribute("formAction"),t!==null&&(d=t,h=null));var g=new Bu("action","action",null,i,o);e.push({event:g,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ys!==0){var b=h?hg(o,h):new FormData(o);Uc(a,{pending:!0,data:b,method:o.method,action:d},null,b)}}else typeof d=="function"&&(g.preventDefault(),b=h?hg(o,h):new FormData(o),Uc(a,{pending:!0,data:b,method:o.method,action:d},d,b))},currentTarget:o}]})}}for(var vd=0;vd<nc.length;vd++){var _d=nc[vd],eb=_d.toLowerCase(),tb=_d[0].toUpperCase()+_d.slice(1);An(eb,"on"+tb)}An(Yh,"onAnimationEnd"),An(Xh,"onAnimationIteration"),An(Qh,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An(v0,"onTransitionRun"),An(_0,"onTransitionStart"),An(b0,"onTransitionCancel"),An(Jh,"onTransitionEnd"),Bs("onMouseEnter",["mouseout","mouseover"]),Bs("onMouseLeave",["mouseout","mouseover"]),Bs("onPointerEnter",["pointerout","pointerover"]),Bs("onPointerLeave",["pointerout","pointerover"]),ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kr));function pg(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],o=i.event;i=i.listeners;e:{var d=void 0;if(t)for(var h=i.length-1;0<=h;h--){var g=i[h],b=g.instance,N=g.currentTarget;if(g=g.listener,b!==d&&o.isPropagationStopped())break e;d=g,o.currentTarget=N;try{d(o)}catch(M){dl(M)}o.currentTarget=null,d=b}else for(h=0;h<i.length;h++){if(g=i[h],b=g.instance,N=g.currentTarget,g=g.listener,b!==d&&o.isPropagationStopped())break e;d=g,o.currentTarget=N;try{d(o)}catch(M){dl(M)}o.currentTarget=null,d=b}}}}function Re(e,t){var a=t[Do];a===void 0&&(a=t[Do]=new Set);var i=e+"__bubble";a.has(i)||(mg(t,e,2,!1),a.add(i))}function bd(e,t,a){var i=0;t&&(i|=4),mg(a,e,i,t)}var wl="_reactListening"+Math.random().toString(36).slice(2);function Sd(e){if(!e[wl]){e[wl]=!0,lh.forEach(function(a){a!=="selectionchange"&&(nb.has(a)||bd(a,!1,e),bd(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wl]||(t[wl]=!0,bd("selectionchange",!1,t))}}function mg(e,t,a,i){switch(Bg(t)){case 2:var o=Cb;break;case 8:o=kb;break;default:o=zd}a=o.bind(null,t,a,e),o=void 0,!Io||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function xd(e,t,a,i,o){var d=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var h=i.tag;if(h===3||h===4){var g=i.stateNode.containerInfo;if(g===o)break;if(h===4)for(h=i.return;h!==null;){var b=h.tag;if((b===3||b===4)&&h.stateNode.containerInfo===o)return;h=h.return}for(;g!==null;){if(h=Zs(g),h===null)return;if(b=h.tag,b===5||b===6||b===26||b===27){i=d=h;continue e}g=g.parentNode}}i=i.return}xh(function(){var N=d,M=Ho(a),U=[];e:{var C=Kh.get(e);if(C!==void 0){var k=Bu,ye=e;switch(e){case"keypress":if(Uu(a)===0)break e;case"keydown":case"keyup":k=K_;break;case"focusin":ye="focus",k=Xo;break;case"focusout":ye="blur",k=Xo;break;case"beforeblur":case"afterblur":k=Xo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=wh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=L_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=P_;break;case Yh:case Xh:case Qh:k=H_;break;case Jh:k=t0;break;case"scroll":case"scrollend":k=Z_;break;case"wheel":k=a0;break;case"copy":case"cut":case"paste":k=I_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Oh;break;case"toggle":case"beforetoggle":k=i0}var pe=(t&4)!==0,et=!pe&&(e==="scroll"||e==="scrollend"),E=pe?C!==null?C+"Capture":null:C;pe=[];for(var T=N,O;T!==null;){var j=T;if(O=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||O===null||E===null||(j=Ji(T,E),j!=null&&pe.push(Rr(T,j,O))),et)break;T=T.return}0<pe.length&&(C=new k(C,ye,null,a,M),U.push({event:C,listeners:pe}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",C&&a!==qo&&(ye=a.relatedTarget||a.fromElement)&&(Zs(ye)||ye[zs]))break e;if((k||C)&&(C=M.window===M?M:(C=M.ownerDocument)?C.defaultView||C.parentWindow:window,k?(ye=a.relatedTarget||a.toElement,k=N,ye=ye?Zs(ye):null,ye!==null&&(et=c(ye),pe=ye.tag,ye!==et||pe!==5&&pe!==27&&pe!==6)&&(ye=null)):(k=null,ye=N),k!==ye)){if(pe=wh,j="onMouseLeave",E="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(pe=Oh,j="onPointerLeave",E="onPointerEnter",T="pointer"),et=k==null?C:Qi(k),O=ye==null?C:Qi(ye),C=new pe(j,T+"leave",k,a,M),C.target=et,C.relatedTarget=O,j=null,Zs(M)===N&&(pe=new pe(E,T+"enter",ye,a,M),pe.target=O,pe.relatedTarget=et,j=pe),et=j,k&&ye)t:{for(pe=k,E=ye,T=0,O=pe;O;O=gi(O))T++;for(O=0,j=E;j;j=gi(j))O++;for(;0<T-O;)pe=gi(pe),T--;for(;0<O-T;)E=gi(E),O--;for(;T--;){if(pe===E||E!==null&&pe===E.alternate)break t;pe=gi(pe),E=gi(E)}pe=null}else pe=null;k!==null&&gg(U,C,k,pe,!1),ye!==null&&et!==null&&gg(U,et,ye,pe,!0)}}e:{if(C=N?Qi(N):window,k=C.nodeName&&C.nodeName.toLowerCase(),k==="select"||k==="input"&&C.type==="file")var ne=zh;else if(Mh(C))if(Zh)ne=m0;else{ne=h0;var Oe=f0}else k=C.nodeName,!k||k.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?N&&Bo(N.elementType)&&(ne=zh):ne=p0;if(ne&&(ne=ne(e,N))){jh(U,ne,a,M);break e}Oe&&Oe(e,C,N),e==="focusout"&&N&&C.type==="number"&&N.memoizedProps.value!=null&&Lo(C,"number",C.value)}switch(Oe=N?Qi(N):window,e){case"focusin":(Mh(Oe)||Oe.contentEditable==="true")&&(Ys=Oe,Po=N,ar=null);break;case"focusout":ar=Po=Ys=null;break;case"mousedown":ec=!0;break;case"contextmenu":case"mouseup":case"dragend":ec=!1,$h(U,a,M);break;case"selectionchange":if(y0)break;case"keydown":case"keyup":$h(U,a,M)}var ce;if(Jo)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Vs?Rh(e,a)&&(me="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(me="onCompositionStart");me&&(Nh&&a.locale!=="ko"&&(Vs||me!=="onCompositionStart"?me==="onCompositionEnd"&&Vs&&(ce=Th()):(ya=M,$o="value"in ya?ya.value:ya.textContent,Vs=!0)),Oe=El(N,me),0<Oe.length&&(me=new Eh(me,e,null,a,M),U.push({event:me,listeners:Oe}),ce?me.data=ce:(ce=Dh(a),ce!==null&&(me.data=ce)))),(ce=u0?l0(e,a):o0(e,a))&&(me=El(N,"onBeforeInput"),0<me.length&&(Oe=new Eh("onBeforeInput","beforeinput",null,a,M),U.push({event:Oe,listeners:me}),Oe.data=ce)),P0(U,e,N,a,M)}pg(U,t)})}function Rr(e,t,a){return{instance:e,listener:t,currentTarget:a}}function El(e,t){for(var a=t+"Capture",i=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=Ji(e,a),o!=null&&i.unshift(Rr(e,o,d)),o=Ji(e,t),o!=null&&i.push(Rr(e,o,d))),e.tag===3)return i;e=e.return}return[]}function gi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function gg(e,t,a,i,o){for(var d=t._reactName,h=[];a!==null&&a!==i;){var g=a,b=g.alternate,N=g.stateNode;if(g=g.tag,b!==null&&b===i)break;g!==5&&g!==26&&g!==27||N===null||(b=N,o?(N=Ji(a,d),N!=null&&h.unshift(Rr(a,N,b))):o||(N=Ji(a,d),N!=null&&h.push(Rr(a,N,b)))),a=a.return}h.length!==0&&e.push({event:t,listeners:h})}var ab=/\r\n?/g,sb=/\u0000|\uFFFD/g;function yg(e){return(typeof e=="string"?e:""+e).replace(ab,`
`).replace(sb,"")}function vg(e,t){return t=yg(t),yg(e)===t}function Ol(){}function Pe(e,t,a,i,o,d){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Gs(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Gs(e,""+i);break;case"className":Du(e,"class",i);break;case"tabIndex":Du(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Du(e,a,i);break;case"style":bh(e,i,d);break;case"data":if(t!=="object"){Du(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=zu(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&Pe(e,t,"name",o.name,o,null),Pe(e,t,"formEncType",o.formEncType,o,null),Pe(e,t,"formMethod",o.formMethod,o,null),Pe(e,t,"formTarget",o.formTarget,o,null)):(Pe(e,t,"encType",o.encType,o,null),Pe(e,t,"method",o.method,o,null),Pe(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=zu(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=Ol);break;case"onScroll":i!=null&&Re("scroll",e);break;case"onScrollEnd":i!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(u(61));if(a=i.__html,a!=null){if(o.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=zu(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":Re("beforetoggle",e),Re("toggle",e),Ru(e,"popover",i);break;case"xlinkActuate":$n(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":$n(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":$n(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":$n(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":$n(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":$n(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":$n(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":$n(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":$n(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Ru(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=j_.get(a)||a,Ru(e,a,i))}}function Td(e,t,a,i,o,d){switch(a){case"style":bh(e,i,d);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(u(61));if(a=i.__html,a!=null){if(o.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"children":typeof i=="string"?Gs(e,i):(typeof i=="number"||typeof i=="bigint")&&Gs(e,""+i);break;case"onScroll":i!=null&&Re("scroll",e);break;case"onScrollEnd":i!=null&&Re("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Ol);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),d=e[$t]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof i=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,o);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):Ru(e,a,i)}}}function Dt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var i=!1,o=!1,d;for(d in a)if(a.hasOwnProperty(d)){var h=a[d];if(h!=null)switch(d){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Pe(e,t,d,h,a,null)}}o&&Pe(e,t,"srcSet",a.srcSet,a,null),i&&Pe(e,t,"src",a.src,a,null);return;case"input":Re("invalid",e);var g=d=h=o=null,b=null,N=null;for(i in a)if(a.hasOwnProperty(i)){var M=a[i];if(M!=null)switch(i){case"name":o=M;break;case"type":h=M;break;case"checked":b=M;break;case"defaultChecked":N=M;break;case"value":d=M;break;case"defaultValue":g=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(u(137,t));break;default:Pe(e,t,i,M,a,null)}}gh(e,d,g,b,N,h,o,!1),Mu(e);return;case"select":Re("invalid",e),i=h=d=null;for(o in a)if(a.hasOwnProperty(o)&&(g=a[o],g!=null))switch(o){case"value":d=g;break;case"defaultValue":h=g;break;case"multiple":i=g;default:Pe(e,t,o,g,a,null)}t=d,a=h,e.multiple=!!i,t!=null?Hs(e,!!i,t,!1):a!=null&&Hs(e,!!i,a,!0);return;case"textarea":Re("invalid",e),d=o=i=null;for(h in a)if(a.hasOwnProperty(h)&&(g=a[h],g!=null))switch(h){case"value":i=g;break;case"defaultValue":o=g;break;case"children":d=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(u(91));break;default:Pe(e,t,h,g,a,null)}vh(e,i,o,d),Mu(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(i=a[b],i!=null))switch(b){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Pe(e,t,b,i,a,null)}return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(i=0;i<kr.length;i++)Re(kr[i],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(i=a[N],i!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Pe(e,t,N,i,a,null)}return;default:if(Bo(t)){for(M in a)a.hasOwnProperty(M)&&(i=a[M],i!==void 0&&Td(e,t,M,i,a,void 0));return}}for(g in a)a.hasOwnProperty(g)&&(i=a[g],i!=null&&Pe(e,t,g,i,a,null))}function ib(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,h=null,g=null,b=null,N=null,M=null;for(k in a){var U=a[k];if(a.hasOwnProperty(k)&&U!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":b=U;default:i.hasOwnProperty(k)||Pe(e,t,k,null,i,U)}}for(var C in i){var k=i[C];if(U=a[C],i.hasOwnProperty(C)&&(k!=null||U!=null))switch(C){case"type":d=k;break;case"name":o=k;break;case"checked":N=k;break;case"defaultChecked":M=k;break;case"value":h=k;break;case"defaultValue":g=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(u(137,t));break;default:k!==U&&Pe(e,t,C,k,i,U)}}Uo(e,h,g,b,N,M,d,o);return;case"select":k=h=g=C=null;for(d in a)if(b=a[d],a.hasOwnProperty(d)&&b!=null)switch(d){case"value":break;case"multiple":k=b;default:i.hasOwnProperty(d)||Pe(e,t,d,null,i,b)}for(o in i)if(d=i[o],b=a[o],i.hasOwnProperty(o)&&(d!=null||b!=null))switch(o){case"value":C=d;break;case"defaultValue":g=d;break;case"multiple":h=d;default:d!==b&&Pe(e,t,o,d,i,b)}t=g,a=h,i=k,C!=null?Hs(e,!!a,C,!1):!!i!=!!a&&(t!=null?Hs(e,!!a,t,!0):Hs(e,!!a,a?[]:"",!1));return;case"textarea":k=C=null;for(g in a)if(o=a[g],a.hasOwnProperty(g)&&o!=null&&!i.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:Pe(e,t,g,null,i,o)}for(h in i)if(o=i[h],d=a[h],i.hasOwnProperty(h)&&(o!=null||d!=null))switch(h){case"value":C=o;break;case"defaultValue":k=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(u(91));break;default:o!==d&&Pe(e,t,h,o,i,d)}yh(e,C,k);return;case"option":for(var ye in a)if(C=a[ye],a.hasOwnProperty(ye)&&C!=null&&!i.hasOwnProperty(ye))switch(ye){case"selected":e.selected=!1;break;default:Pe(e,t,ye,null,i,C)}for(b in i)if(C=i[b],k=a[b],i.hasOwnProperty(b)&&C!==k&&(C!=null||k!=null))switch(b){case"selected":e.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:Pe(e,t,b,C,i,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)C=a[pe],a.hasOwnProperty(pe)&&C!=null&&!i.hasOwnProperty(pe)&&Pe(e,t,pe,null,i,C);for(N in i)if(C=i[N],k=a[N],i.hasOwnProperty(N)&&C!==k&&(C!=null||k!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(u(137,t));break;default:Pe(e,t,N,C,i,k)}return;default:if(Bo(t)){for(var et in a)C=a[et],a.hasOwnProperty(et)&&C!==void 0&&!i.hasOwnProperty(et)&&Td(e,t,et,void 0,i,C);for(M in i)C=i[M],k=a[M],!i.hasOwnProperty(M)||C===k||C===void 0&&k===void 0||Td(e,t,M,C,i,k);return}}for(var E in a)C=a[E],a.hasOwnProperty(E)&&C!=null&&!i.hasOwnProperty(E)&&Pe(e,t,E,null,i,C);for(U in i)C=i[U],k=a[U],!i.hasOwnProperty(U)||C===k||C==null&&k==null||Pe(e,t,U,C,i,k)}var Ad=null,wd=null;function Nl(e){return e.nodeType===9?e:e.ownerDocument}function _g(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ed(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Od=null;function rb(){var e=window.event;return e&&e.type==="popstate"?e===Od?!1:(Od=e,!0):(Od=null,!1)}var Sg=typeof setTimeout=="function"?setTimeout:void 0,ub=typeof clearTimeout=="function"?clearTimeout:void 0,xg=typeof Promise=="function"?Promise:void 0,lb=typeof queueMicrotask=="function"?queueMicrotask:typeof xg<"u"?function(e){return xg.resolve(null).then(e).catch(ob)}:Sg;function ob(e){setTimeout(function(){throw e})}function Ma(e){return e==="head"}function Tg(e,t){var a=t,i=0,o=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<i&&8>i){a=i;var h=e.ownerDocument;if(a&1&&Dr(h.documentElement),a&2&&Dr(h.body),a&4)for(a=h.head,Dr(a),h=a.firstChild;h;){var g=h.nextSibling,b=h.nodeName;h[Xi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=g}}if(o===0){e.removeChild(d),qr(t);return}o--}else a==="$"||a==="$?"||a==="$!"?o++:i=a.charCodeAt(0)-48;else i=0;a=d}while(a);qr(t)}function Nd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nd(a),Mo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function cb(e,t,a,i){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Xi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=En(e.nextSibling),e===null)break}return null}function db(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=En(e.nextSibling),e===null))return null;return e}function Cd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function fb(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function En(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var kd=null;function Ag(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function wg(e,t,a){switch(t=Nl(a),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function Dr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Mo(e)}var vn=new Map,Eg=new Set;function Cl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var sa=K.d;K.d={f:hb,r:pb,D:mb,C:gb,L:yb,m:vb,X:bb,S:_b,M:Sb};function hb(){var e=sa.f(),t=bl();return e||t}function pb(e){var t=Us(e);t!==null&&t.tag===5&&t.type==="form"?Yp(t):sa.r(e)}var yi=typeof document>"u"?null:document;function Og(e,t,a){var i=yi;if(i&&typeof t=="string"&&t){var o=dn(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Eg.has(o)||(Eg.add(o),e={rel:e,crossOrigin:a,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),Dt(t,"link",e),At(t),i.head.appendChild(t)))}}function mb(e){sa.D(e),Og("dns-prefetch",e,null)}function gb(e,t){sa.C(e,t),Og("preconnect",e,t)}function yb(e,t,a){sa.L(e,t,a);var i=yi;if(i&&e&&t){var o='link[rel="preload"][as="'+dn(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+dn(a.imageSizes)+'"]')):o+='[href="'+dn(e)+'"]';var d=o;switch(t){case"style":d=vi(e);break;case"script":d=_i(e)}vn.has(d)||(e=v({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),vn.set(d,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(Mr(d))||t==="script"&&i.querySelector(jr(d))||(t=i.createElement("link"),Dt(t,"link",e),At(t),i.head.appendChild(t)))}}function vb(e,t){sa.m(e,t);var a=yi;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+dn(i)+'"][href="'+dn(e)+'"]',d=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=_i(e)}if(!vn.has(d)&&(e=v({rel:"modulepreload",href:e},t),vn.set(d,e),a.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jr(d)))return}i=a.createElement("link"),Dt(i,"link",e),At(i),a.head.appendChild(i)}}}function _b(e,t,a){sa.S(e,t,a);var i=yi;if(i&&e){var o=Ls(i).hoistableStyles,d=vi(e);t=t||"default";var h=o.get(d);if(!h){var g={loading:0,preload:null};if(h=i.querySelector(Mr(d)))g.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},a),(a=vn.get(d))&&Rd(e,a);var b=h=i.createElement("link");At(b),Dt(b,"link",e),b._p=new Promise(function(N,M){b.onload=N,b.onerror=M}),b.addEventListener("load",function(){g.loading|=1}),b.addEventListener("error",function(){g.loading|=2}),g.loading|=4,kl(h,t,i)}h={type:"stylesheet",instance:h,count:1,state:g},o.set(d,h)}}}function bb(e,t){sa.X(e,t);var a=yi;if(a&&e){var i=Ls(a).hoistableScripts,o=_i(e),d=i.get(o);d||(d=a.querySelector(jr(o)),d||(e=v({src:e,async:!0},t),(t=vn.get(o))&&Dd(e,t),d=a.createElement("script"),At(d),Dt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},i.set(o,d))}}function Sb(e,t){sa.M(e,t);var a=yi;if(a&&e){var i=Ls(a).hoistableScripts,o=_i(e),d=i.get(o);d||(d=a.querySelector(jr(o)),d||(e=v({src:e,async:!0,type:"module"},t),(t=vn.get(o))&&Dd(e,t),d=a.createElement("script"),At(d),Dt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},i.set(o,d))}}function Ng(e,t,a,i){var o=(o=Se.current)?Cl(o):null;if(!o)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=vi(a.href),a=Ls(o).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=vi(a.href);var d=Ls(o).hoistableStyles,h=d.get(e);if(h||(o=o.ownerDocument||o,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,h),(d=o.querySelector(Mr(e)))&&!d._p&&(h.instance=d,h.state.loading=5),vn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},vn.set(e,a),d||xb(o,e,a,h.state))),t&&i===null)throw Error(u(528,""));return h}if(t&&i!==null)throw Error(u(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=_i(a),a=Ls(o).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function vi(e){return'href="'+dn(e)+'"'}function Mr(e){return'link[rel="stylesheet"]['+e+"]"}function Cg(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function xb(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Dt(t,"link",a),At(t),e.head.appendChild(t))}function _i(e){return'[src="'+dn(e)+'"]'}function jr(e){return"script[async]"+e}function kg(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+dn(a.href)+'"]');if(i)return t.instance=i,At(i),i;var o=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),At(i),Dt(i,"style",o),kl(i,a.precedence,e),t.instance=i;case"stylesheet":o=vi(a.href);var d=e.querySelector(Mr(o));if(d)return t.state.loading|=4,t.instance=d,At(d),d;i=Cg(a),(o=vn.get(o))&&Rd(i,o),d=(e.ownerDocument||e).createElement("link"),At(d);var h=d;return h._p=new Promise(function(g,b){h.onload=g,h.onerror=b}),Dt(d,"link",i),t.state.loading|=4,kl(d,a.precedence,e),t.instance=d;case"script":return d=_i(a.src),(o=e.querySelector(jr(d)))?(t.instance=o,At(o),o):(i=a,(o=vn.get(d))&&(i=v({},a),Dd(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),At(o),Dt(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,kl(i,a.precedence,e));return t.instance}function kl(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,d=o,h=0;h<i.length;h++){var g=i[h];if(g.dataset.precedence===t)d=g;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Rd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Dd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Rl=null;function Rg(e,t,a){if(Rl===null){var i=new Map,o=Rl=new Map;o.set(a,i)}else o=Rl,i=o.get(a),i||(i=new Map,o.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var d=a[o];if(!(d[Xi]||d[jt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var h=d.getAttribute(t)||"";h=e+h;var g=i.get(h);g?g.push(d):i.set(h,[d])}}return i}function Dg(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Tb(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Mg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var zr=null;function Ab(){}function wb(e,t,a){if(zr===null)throw Error(u(475));var i=zr;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=vi(a.href),d=e.querySelector(Mr(o));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=Dl.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=d,At(d);return}d=e.ownerDocument||e,a=Cg(a),(o=vn.get(o))&&Rd(a,o),d=d.createElement("link"),At(d);var h=d;h._p=new Promise(function(g,b){h.onload=g,h.onerror=b}),Dt(d,"link",a),t.instance=d}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(i.count++,t=Dl.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function Eb(){if(zr===null)throw Error(u(475));var e=zr;return e.stylesheets&&e.count===0&&Md(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Md(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Dl(){if(this.count--,this.count===0){if(this.stylesheets)Md(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ml=null;function Md(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ml=new Map,t.forEach(Ob,e),Ml=null,Dl.call(e))}function Ob(e,t){if(!(t.state.loading&4)){var a=Ml.get(e);if(a)var i=a.get(null);else{a=new Map,Ml.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var h=o[d];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(a.set(h.dataset.precedence,h),i=h)}i&&a.set(null,i)}o=t.instance,h=o.getAttribute("data-precedence"),d=a.get(h)||i,d===i&&a.set(null,o),a.set(h,o),this.count++,i=Dl.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Zr={$$typeof:I,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function Nb(e,t,a,i,o,d,h,g){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Co(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Co(0),this.hiddenUpdates=Co(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=g,this.incompleteTransitions=new Map}function jg(e,t,a,i,o,d,h,g,b,N,M,U){return e=new Nb(e,t,a,h,g,b,N,U),t=1,d===!0&&(t|=24),d=Pt(3,null,null,t),e.current=d,d.stateNode=e,t=pc(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:i,isDehydrated:a,cache:t},vc(d),e}function zg(e){return e?(e=Ks,e):Ks}function Zg(e,t,a,i,o,d){o=zg(o),i.context===null?i.context=o:i.pendingContext=o,i=ba(t),i.payload={element:a},d=d===void 0?null:d,d!==null&&(i.callback=d),a=Sa(e,i,t),a!==null&&(sn(a,e,t),fr(a,e,t))}function Ug(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function jd(e,t){Ug(e,t),(e=e.alternate)&&Ug(e,t)}function Lg(e){if(e.tag===13){var t=Js(e,67108864);t!==null&&sn(t,e,67108864),jd(e,67108864)}}var jl=!0;function Cb(e,t,a,i){var o=R.T;R.T=null;var d=K.p;try{K.p=2,zd(e,t,a,i)}finally{K.p=d,R.T=o}}function kb(e,t,a,i){var o=R.T;R.T=null;var d=K.p;try{K.p=8,zd(e,t,a,i)}finally{K.p=d,R.T=o}}function zd(e,t,a,i){if(jl){var o=Zd(i);if(o===null)xd(e,t,i,zl,a),qg(e,i);else if(Db(o,e,t,a,i))i.stopPropagation();else if(qg(e,i),t&4&&-1<Rb.indexOf(e)){for(;o!==null;){var d=Us(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var h=es(d.pendingLanes);if(h!==0){var g=d;for(g.pendingLanes|=2,g.entangledLanes|=2;h;){var b=1<<31-Ft(h);g.entanglements[1]|=b,h&=~b}Ln(d),(Je&6)===0&&(vl=Mn()+500,Cr(0))}}break;case 13:g=Js(d,2),g!==null&&sn(g,d,2),bl(),jd(d,2)}if(d=Zd(i),d===null&&xd(e,t,i,zl,a),d===o)break;o=d}o!==null&&i.stopPropagation()}else xd(e,t,i,null,a)}}function Zd(e){return e=Ho(e),Ud(e)}var zl=null;function Ud(e){if(zl=null,e=Zs(e),e!==null){var t=c(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return zl=e,null}function Bg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(g_()){case Pf:return 2;case eh:return 8;case Ou:case y_:return 32;case th:return 268435456;default:return 32}default:return 32}}var Ld=!1,ja=null,za=null,Za=null,Ur=new Map,Lr=new Map,Ua=[],Rb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qg(e,t){switch(e){case"focusin":case"focusout":ja=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":Ur.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lr.delete(t.pointerId)}}function Br(e,t,a,i,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:d,targetContainers:[o]},t!==null&&(t=Us(t),t!==null&&Lg(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Db(e,t,a,i,o){switch(t){case"focusin":return ja=Br(ja,e,t,a,i,o),!0;case"dragenter":return za=Br(za,e,t,a,i,o),!0;case"mouseover":return Za=Br(Za,e,t,a,i,o),!0;case"pointerover":var d=o.pointerId;return Ur.set(d,Br(Ur.get(d)||null,e,t,a,i,o)),!0;case"gotpointercapture":return d=o.pointerId,Lr.set(d,Br(Lr.get(d)||null,e,t,a,i,o)),!0}return!1}function Hg(e){var t=Zs(e.target);if(t!==null){var a=c(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,w_(e.priority,function(){if(a.tag===13){var i=an();i=ko(i);var o=Js(a,i);o!==null&&sn(o,a,i),jd(a,i)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Zd(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);qo=i,a.target.dispatchEvent(i),qo=null}else return t=Us(a),t!==null&&Lg(t),e.blockedOn=a,!1;t.shift()}return!0}function Gg(e,t,a){Zl(e)&&a.delete(t)}function Mb(){Ld=!1,ja!==null&&Zl(ja)&&(ja=null),za!==null&&Zl(za)&&(za=null),Za!==null&&Zl(Za)&&(Za=null),Ur.forEach(Gg),Lr.forEach(Gg)}function Ul(e,t){e.blockedOn===t&&(e.blockedOn=null,Ld||(Ld=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Mb)))}var Ll=null;function Ig(e){Ll!==e&&(Ll=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ll===e&&(Ll=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(Ud(i||a)===null)continue;break}var d=Us(a);d!==null&&(e.splice(t,3),t-=3,Uc(d,{pending:!0,data:o,method:a.method,action:i},i,o))}}))}function qr(e){function t(b){return Ul(b,e)}ja!==null&&Ul(ja,e),za!==null&&Ul(za,e),Za!==null&&Ul(Za,e),Ur.forEach(t),Lr.forEach(t);for(var a=0;a<Ua.length;a++){var i=Ua[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Ua.length&&(a=Ua[0],a.blockedOn===null);)Hg(a),a.blockedOn===null&&Ua.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var o=a[i],d=a[i+1],h=o[$t]||null;if(typeof d=="function")h||Ig(a);else if(h){var g=null;if(d&&d.hasAttribute("formAction")){if(o=d,h=d[$t]||null)g=h.formAction;else if(Ud(o)!==null)continue}else g=h.action;typeof g=="function"?a[i+1]=g:(a.splice(i,3),i-=3),Ig(a)}}}function Bd(e){this._internalRoot=e}Bl.prototype.render=Bd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var a=t.current,i=an();Zg(a,i,e,t,null,null)},Bl.prototype.unmount=Bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zg(e.current,2,null,e,null,null),bl(),t[zs]=null}};function Bl(e){this._internalRoot=e}Bl.prototype.unstable_scheduleHydration=function(e){if(e){var t=rh();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ua.length&&t!==0&&t<Ua[a].priority;a++);Ua.splice(a,0,e),a===0&&Hg(e)}};var $g=n.version;if($g!=="19.1.0")throw Error(u(527,$g,"19.1.0"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=y(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var jb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{$i=ql.inject(jb),Kt=ql}catch{}}return Gr.createRoot=function(e,t){if(!l(e))throw Error(u(299));var a=!1,i="",o=rm,d=um,h=lm,g=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(g=t.unstable_transitionCallbacks)),t=jg(e,1,!1,null,null,a,i,o,d,h,g,null),e[zs]=t.current,Sd(e),new Bd(t)},Gr.hydrateRoot=function(e,t,a){if(!l(e))throw Error(u(299));var i=!1,o="",d=rm,h=um,g=lm,b=null,N=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(g=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(N=a.formState)),t=jg(e,1,!0,t,a??null,i,o,d,h,g,b,N),t.context=zg(null),a=t.current,i=an(),i=ko(i),o=ba(i),o.callback=null,Sa(a,o,i),a=i,t.current.lanes=a,Yi(t,a),Ln(t),e[zs]=t.current,Sd(e),new Bl(t)},Gr.version="19.1.0",Gr}var ty;function Xb(){if(ty)return Id.exports;ty=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Id.exports=Yb(),Id.exports}var Qb=Xb();function Jb({apiKey:r}){const[n,s]=fe.useState("Not connected"),[u,l]=fe.useState(null),[c,f]=fe.useState([]),p=fe.useRef(null),y=fe.useRef(null),m=fe.useRef(null),v=fe.useRef(null),[A,w]=fe.useState({}),[L,J]=fe.useState("");fe.useEffect(()=>{v.current&&(v.current.scrollTop=v.current.scrollHeight)},[c]);const ve=async()=>{s("Connecting..."),l(null),f([]);try{if(!r){l("Ephemeral API key is required."),s("Not connected");return}const Z=new RTCPeerConnection;y.current=Z;let I=p.current;I||(I=document.createElement("audio"),I.autoplay=!0,p.current=I),Z.ontrack=Le=>{f(Be=>[...Be,"Received remote audio track."]),console.log("ontrack event:",Le),I.srcObject=Le.streams[0],I.play().catch(Be=>{f(Tn=>[...Tn,`Audio play() error: ${Be.message}`]),console.error("Audio play() error:",Be)})};const oe=await navigator.mediaDevices.getUserMedia({audio:!0});Z.addTrack(oe.getTracks()[0]);const X=Z.createDataChannel("oai-events");m.current=X,X.addEventListener("message",Le=>{f(Be=>[...Be,`Received: ${Le.data}`]),console.log(Le)}),X.addEventListener("open",()=>{f(Le=>[...Le,"Data channel open"])}),X.addEventListener("close",()=>{f(Le=>[...Le,"Data channel closed"])}),X.addEventListener("error",Le=>{f(Be=>[...Be,`Data channel error: ${Le.message}`])});const we=await Z.createOffer();await Z.setLocalDescription(we);const lt=await fetch("https://api.openai.com/v1/realtime?model=gpt-4o-realtime-preview-2025-06-03",{method:"POST",body:we.sdp,headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/sdp"}});if(!lt.ok)throw new Error(`SDP response error: ${lt.status} ${lt.statusText}`);const ot={type:"answer",sdp:await lt.text()};await Z.setRemoteDescription(ot),s("Connected"),f(Le=>[...Le,"WebRTC connection established."])}catch(Z){l(Z.message),s("Error"),f(I=>[...I,`Error: ${Z.message}`])}},le=()=>{m.current&&(m.current.close(),m.current=null),y.current&&(y.current.getSenders().forEach(Z=>{Z.track&&Z.track.stop()}),y.current.close(),y.current=null),p.current&&(p.current.srcObject=null),s("Disconnected"),f(Z=>[...Z,"Disconnected from peer and ended session."])},G=Z=>{w(I=>({...I,[Z]:!I[Z]}))};return D.jsxs("div",{className:"text-gray-700",children:[D.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Lesson 1: WebRTC Realtime API Demo"}),D.jsx("button",{className:"bg-[#10a37f] hover:bg-[#0e8c6c] transition text-white px-3 py-1 rounded-lg font-medium shadow-sm cursor-pointer mb-2",onClick:ve,disabled:!r||n==="Connecting..."||n==="Connected",children:n==="Connected"?"Connected":"Connect to Realtime API"}),(n==="Connected"||n==="Connecting...")&&D.jsx("button",{className:"ml-2 bg-red-500 hover:bg-red-600 transition text-white px-3 py-1 rounded-lg font-medium shadow-sm cursor-pointer mb-2",onClick:le,children:"Disconnect"}),D.jsxs("div",{className:"mb-2",children:["Status: ",D.jsx("span",{className:"font-mono text-xs",children:n})]}),u&&D.jsxs("div",{className:"text-red-600 text-xs mb-2",children:["Error: ",u]}),D.jsxs("div",{className:"mb-2",children:[D.jsx("strong",{children:"Event Log:"}),D.jsx("div",{ref:v,className:"bg-gray-100 p-2 rounded text-xs h-64 overflow-y-auto mt-1",children:c.length===0?D.jsx("div",{children:"No events yet."}):c.map((Z,I)=>{let oe;try{oe=JSON.parse(Z.replace(/^Received: /,""))}catch{oe=null}return oe&&typeof oe=="object"&&oe.type?D.jsxs("div",{className:"mb-1",children:[D.jsxs("button",{className:"text-[#10a37f] underline bg-white rounded p-1 border border-gray-200 text-left w-full hover:bg-green-50 transition",onClick:()=>G(I),style:{fontFamily:"inherit"},children:[A[I]?" ":" ",oe.type]}),A[I]&&D.jsx("pre",{className:"whitespace-pre-wrap text-left bg-white rounded p-1 border border-gray-200 overflow-x-auto mt-1",children:JSON.stringify(oe,null,2)})]},I):D.jsx("div",{className:"mb-1",children:D.jsx("span",{children:Z})},I)})}),n==="Connected"&&!c.some(Z=>Z.includes("Received remote audio track"))&&D.jsx("div",{className:"text-yellow-600 text-xs mt-2",children:"No remote audio track received yet."}),n==="Connected"&&D.jsxs("form",{className:"mt-2 flex gap-2",onSubmit:async Z=>{if(Z.preventDefault(),!m.current||!L.trim())return;const I={type:"conversation.item.create",item:{type:"message",role:"user",content:[{type:"input_text",text:L}]}};m.current.send(JSON.stringify(I)),f(X=>[...X,`Sent: ${L}`]),J("");const oe={type:"response.create",response:{modalities:["text"]}};m.current.send(JSON.stringify(oe)),f(X=>[...X,"Requested model response (text)"])},children:[D.jsx("input",{className:"flex-1 border rounded px-2 py-1",type:"text",value:L,onChange:Z=>J(Z.target.value),placeholder:"Type your message...",disabled:n!=="Connected"}),D.jsx("button",{className:"bg-[#10a37f] hover:bg-[#0e8c6c] text-white px-3 py-1 rounded",type:"submit",disabled:!L.trim()||n!=="Connected",children:"Send"})]})]}),D.jsx("audio",{ref:p,style:{display:"none"}})]})}function Kb({apiKey:r}){const[n,s]=fe.useState("Not connected"),[u,l]=fe.useState(null),[c,f]=fe.useState([]),[p,y]=fe.useState(""),[m,v]=fe.useState(""),A=fe.useRef(null),w=fe.useRef(null),L=fe.useRef(null),J=fe.useRef(null),[ve,le]=fe.useState({});fe.useEffect(()=>{J.current&&(J.current.scrollTop=J.current.scrollHeight)},[c]);const G=async()=>{s("Connecting..."),l(null),f([]);try{if(!r){l("Ephemeral API key is required."),s("Not connected");return}const X=new RTCPeerConnection;w.current=X;let we=A.current;we||(we=document.createElement("audio"),we.autoplay=!0,A.current=we),X.ontrack=vt=>{f(it=>[...it,"Received remote audio track."]),we.srcObject=vt.streams[0],we.play().catch(it=>{f(R=>[...R,`Audio play() error: ${it.message}`])})};const Ve=await navigator.mediaDevices.getUserMedia({audio:!0});X.addTrack(Ve.getTracks()[0]);const tt=X.createDataChannel("oai-events");L.current=tt,tt.addEventListener("message",vt=>{var it;f(R=>[...R,`Received: ${vt.data}`]);try{const R=JSON.parse(vt.data);R.type==="session.updated"&&((it=R.session)!=null&&it.instructions)&&y(R.session.instructions)}catch(R){f(K=>[...K,`Error parsing event: ${R.message}`])}}),tt.addEventListener("open",()=>{f(vt=>[...vt,"Data channel open"])}),tt.addEventListener("close",()=>{f(vt=>[...vt,"Data channel closed"])}),tt.addEventListener("error",vt=>{f(it=>[...it,`Data channel error: ${vt.message}`])});const lt=await X.createOffer();await X.setLocalDescription(lt);const Be=await fetch("https://api.openai.com/v1/realtime?model=gpt-4o-realtime-preview-2025-06-03",{method:"POST",body:lt.sdp,headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/sdp"}});if(!Be.ok)throw new Error(`SDP response error: ${Be.status} ${Be.statusText}`);const Tn={type:"answer",sdp:await Be.text()};await X.setRemoteDescription(Tn),s("Connected"),f(vt=>[...vt,"WebRTC connection established."])}catch(X){l(X.message),s("Error"),f(we=>[...we,`Error: ${X.message}`])}},Z=()=>{L.current&&(L.current.close(),L.current=null),w.current&&(w.current.getSenders().forEach(X=>{X.track&&X.track.stop()}),w.current.close(),w.current=null),A.current&&(A.current.srcObject=null),s("Disconnected"),f(X=>[...X,"Disconnected from peer and ended session."])},I=X=>{if(X.preventDefault(),!L.current||!m.trim())return;const we={type:"session.update",session:{instructions:m}};L.current.send(JSON.stringify(we)),f(Ve=>[...Ve,`Sent session.update: ${m}`]),v("")},oe=X=>{le(we=>({...we,[X]:!we[X]}))};return D.jsxs("div",{className:"text-gray-700",children:[D.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Lesson 2: Prompting and steering"}),D.jsx("button",{className:"bg-[#10a37f] hover:bg-[#0e8c6c] transition text-white px-3 py-1 rounded-lg font-medium shadow-sm cursor-pointer mb-2",onClick:G,disabled:!r||n==="Connecting..."||n==="Connected",children:n==="Connected"?"Connected":"Connect to Realtime API"}),(n==="Connected"||n==="Connecting...")&&D.jsx("button",{className:"ml-2 bg-red-500 hover:bg-red-600 transition text-white px-3 py-1 rounded-lg font-medium shadow-sm cursor-pointer mb-2",onClick:Z,children:"Disconnect"}),D.jsxs("div",{className:"mb-2",children:["Status: ",D.jsx("span",{className:"font-mono text-xs",children:n})]}),u&&D.jsxs("div",{className:"text-red-600 text-xs mb-2",children:["Error: ",u]}),D.jsxs("div",{className:"mb-2",children:[D.jsx("strong",{children:"Current instructions:"}),D.jsx("div",{className:"bg-gray-100 p-2 rounded text-xs mt-1 min-h-[2em]",children:p||D.jsx("span",{className:"text-gray-400",children:"(none set)"})})]}),n==="Connected"&&D.jsxs("form",{className:"mb-2 flex gap-2",onSubmit:I,children:[D.jsx("input",{className:"flex-1 border rounded px-2 py-1",type:"text",value:m,onChange:X=>v(X.target.value),placeholder:"Set new instructions (e.g. Talk like a pirate!)",disabled:n!=="Connected"}),D.jsx("button",{className:"bg-[#10a37f] hover:bg-[#0e8c6c] text-white px-3 py-1 rounded",type:"submit",disabled:!m.trim()||n!=="Connected",children:"Update"})]}),D.jsxs("div",{className:"mb-2",children:[D.jsx("strong",{children:"Event Log:"}),D.jsx("div",{ref:J,className:"bg-gray-100 p-2 rounded text-xs h-64 overflow-y-auto mt-1",children:c.length===0?D.jsx("div",{children:"No events yet."}):c.map((X,we)=>{let Ve;try{Ve=JSON.parse(X.replace(/^Received: /,""))}catch{Ve=null}return Ve&&typeof Ve=="object"&&Ve.type?D.jsxs("div",{className:"mb-1",children:[D.jsxs("button",{className:"text-[#10a37f] underline bg-white rounded p-1 border border-gray-200 text-left w-full hover:bg-green-50 transition",onClick:()=>oe(we),style:{fontFamily:"inherit"},children:[ve[we]?" ":" ",Ve.type]}),ve[we]&&D.jsx("pre",{className:"whitespace-pre-wrap text-left bg-white rounded p-1 border border-gray-200 overflow-x-auto mt-1",children:JSON.stringify(Ve,null,2)})]},we):D.jsx("div",{className:"mb-1",children:D.jsx("span",{children:X})},we)})})]}),D.jsx("audio",{ref:A,style:{display:"none"}})]})}function Fb({apiKey:r}){const[n,s]=fe.useState("Not connected"),[u,l]=fe.useState(null),[c,f]=fe.useState([]),p=fe.useRef(null),y=fe.useRef(null),m=fe.useRef(null),v=fe.useRef(null),[A,w]=fe.useState({});fe.useEffect(()=>{v.current&&(v.current.scrollTop=v.current.scrollHeight)},[c]);const L=async()=>{s("Connecting..."),l(null),f([]);try{if(!r){l("Ephemeral API key is required."),s("Not connected");return}const G=new RTCPeerConnection;y.current=G;let Z=p.current;Z||(Z=document.createElement("audio"),Z.autoplay=!0,p.current=Z),G.ontrack=ot=>{f(Le=>[...Le,"Received remote audio track."]),Z.srcObject=ot.streams[0],Z.play().catch(Le=>{f(Be=>[...Be,`Audio play() error: ${Le.message}`])})};const I=await navigator.mediaDevices.getUserMedia({audio:!0});G.addTrack(I.getTracks()[0]);const oe=G.createDataChannel("oai-events");m.current=oe,oe.addEventListener("message",ot=>{f(Le=>[...Le,`Received: ${ot.data}`])}),oe.addEventListener("open",()=>{f(ot=>[...ot,"Data channel open"])}),oe.addEventListener("close",()=>{f(ot=>[...ot,"Data channel closed"])}),oe.addEventListener("error",ot=>{f(Le=>[...Le,`Data channel error: ${ot.message}`])});const X=await G.createOffer();await G.setLocalDescription(X);const tt=await fetch("https://api.openai.com/v1/realtime?model=gpt-4o-realtime-preview-2025-06-03",{method:"POST",body:X.sdp,headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/sdp"}});if(!tt.ok)throw new Error(`SDP response error: ${tt.status} ${tt.statusText}`);const lt={type:"answer",sdp:await tt.text()};await G.setRemoteDescription(lt),s("Connected"),f(ot=>[...ot,"WebRTC connection established."])}catch(G){l(G.message),s("Error"),f(Z=>[...Z,`Error: ${G.message}`])}},J=()=>{m.current&&(m.current.close(),m.current=null),y.current&&(y.current.getSenders().forEach(G=>{G.track&&G.track.stop()}),y.current.close(),y.current=null),p.current&&(p.current.srcObject=null),s("Disconnected"),f(G=>[...G,"Disconnected from peer and ended session."])},ve=()=>{if(!m.current)return;const G={type:"output_audio_buffer.clear"};m.current.send(JSON.stringify(G)),f(Z=>[...Z,"Sent output_audio_buffer.clear (interrupt)"])},le=G=>{w(Z=>({...Z,[G]:!Z[G]}))};return D.jsxs("div",{className:"text-gray-700",children:[D.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Lesson 3: Interruptions"}),D.jsx("button",{className:"bg-[#10a37f] hover:bg-[#0e8c6c] transition text-white px-3 py-1 rounded-lg font-medium shadow-sm cursor-pointer mb-2",onClick:L,disabled:!r||n==="Connecting..."||n==="Connected",children:n==="Connected"?"Connected":"Connect to Realtime API"}),(n==="Connected"||n==="Connecting...")&&D.jsx("button",{className:"ml-2 bg-red-500 hover:bg-red-600 transition text-white px-3 py-1 rounded-lg font-medium shadow-sm cursor-pointer mb-2",onClick:J,children:"Disconnect"}),n==="Connected"&&D.jsx("button",{className:"ml-2 bg-yellow-500 hover:bg-yellow-600 transition text-white px-3 py-1 rounded-lg font-medium shadow-sm cursor-pointer mb-2",onClick:ve,children:"Interrupt Model Response"}),D.jsxs("div",{className:"mb-2",children:["Status: ",D.jsx("span",{className:"font-mono text-xs",children:n})]}),u&&D.jsxs("div",{className:"text-red-600 text-xs mb-2",children:["Error: ",u]}),D.jsxs("div",{className:"mb-2",children:[D.jsx("strong",{children:"Event Log:"}),D.jsx("div",{ref:v,className:"bg-gray-100 p-2 rounded text-xs h-64 overflow-y-auto mt-1",children:c.length===0?D.jsx("div",{children:"No events yet."}):c.map((G,Z)=>{let I;try{I=JSON.parse(G.replace(/^Received: /,""))}catch{I=null}return I&&typeof I=="object"&&I.type?D.jsxs("div",{className:"mb-1",children:[D.jsxs("button",{className:"text-[#10a37f] underline bg-white rounded p-1 border border-gray-200 text-left w-full hover:bg-green-50 transition",onClick:()=>le(Z),style:{fontFamily:"inherit"},children:[A[Z]?" ":" ",I.type]}),A[Z]&&D.jsx("pre",{className:"whitespace-pre-wrap text-left bg-white rounded p-1 border border-gray-200 overflow-x-auto mt-1",children:JSON.stringify(I,null,2)})]},Z):D.jsx("div",{className:"mb-1",children:D.jsx("span",{children:G})},Z)})})]}),D.jsx("audio",{ref:p,style:{display:"none"}})]})}const af={version:"0.0.2"};function Wb(r){const n=atob(r),s=n.length,u=new Uint8Array(s);for(let l=0;l<s;l++)u[l]=n.charCodeAt(l);return u.buffer}function Pb(r){const n=String.fromCharCode(...new Uint8Array(r));return btoa(n)}function eS(r){if(typeof r>"u"||r===null||typeof r!="object"||!("type"in r)||typeof r.type!="string"||!r.type||r.type!=="message"||!("content"in r)||!Array.isArray(r.content)||r.content.length<1)return;const n=r.content[r.content.length-1];if(!(!("type"in n)||typeof n.type!="string")){if(n.type==="text")return typeof n.text=="string"?n.text:void 0;if(n.type==="audio")return typeof n.transcript=="string"?n.transcript:void 0}}function tS(r,n){const s=r.filter(c=>!n.some(f=>f.itemId===c.itemId)),u=n.filter(c=>!r.some(f=>f.itemId===c.itemId)),l=n.filter(c=>r.some(f=>f.itemId===c.itemId&&JSON.stringify(f)!==JSON.stringify(c)));return{removals:s,additions:u,updates:l}}function nS(){return typeof window>"u"?!1:typeof window.RTCPeerConnection<"u"}function ny(r){return r.role==="system"?r:r.role==="assistant"?{...r,content:r.content.map(n=>n.type==="audio"?{...n,audio:null}:n)}:r.role==="user"?{...r,content:r.content.map(n=>n.type==="input_audio"?{...n,audio:null}:n)}:r}function aS(r,n,s){const u=!s&&n.type==="message"?ny(n):n,l=r.findIndex(c=>c.itemId===n.itemId);if(l!==-1)return r.map((c,f)=>f===l?u:!s&&c.type==="message"?ny(c):c);if(n.previousItemId){const c=r.findIndex(f=>f.itemId===n.previousItemId);return c!==-1?[...r.slice(0,c+1),u,...r.slice(c+1)]:[...r,u]}else return[...r,u]}const sS={"User-Agent":`Agents/JavaScript ${af.version}`,"X-OpenAI-Agents-SDK":`openai-agents-sdk.${af.version}`},iS=`openai-agents-sdk.${af.version}`;var Hl={exports:{}},Xd,ay;function rS(){if(ay)return Xd;ay=1;var r=1e3,n=r*60,s=n*60,u=s*24,l=u*7,c=u*365.25;Xd=function(v,A){A=A||{};var w=typeof v;if(w==="string"&&v.length>0)return f(v);if(w==="number"&&isFinite(v))return A.long?y(v):p(v);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(v))};function f(v){if(v=String(v),!(v.length>100)){var A=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(v);if(A){var w=parseFloat(A[1]),L=(A[2]||"ms").toLowerCase();switch(L){case"years":case"year":case"yrs":case"yr":case"y":return w*c;case"weeks":case"week":case"w":return w*l;case"days":case"day":case"d":return w*u;case"hours":case"hour":case"hrs":case"hr":case"h":return w*s;case"minutes":case"minute":case"mins":case"min":case"m":return w*n;case"seconds":case"second":case"secs":case"sec":case"s":return w*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}function p(v){var A=Math.abs(v);return A>=u?Math.round(v/u)+"d":A>=s?Math.round(v/s)+"h":A>=n?Math.round(v/n)+"m":A>=r?Math.round(v/r)+"s":v+"ms"}function y(v){var A=Math.abs(v);return A>=u?m(v,A,u,"day"):A>=s?m(v,A,s,"hour"):A>=n?m(v,A,n,"minute"):A>=r?m(v,A,r,"second"):v+" ms"}function m(v,A,w,L){var J=A>=w*1.5;return Math.round(v/w)+" "+L+(J?"s":"")}return Xd}var Qd,sy;function uS(){if(sy)return Qd;sy=1;function r(n){u.debug=u,u.default=u,u.coerce=m,u.disable=p,u.enable=c,u.enabled=y,u.humanize=rS(),u.destroy=v,Object.keys(n).forEach(A=>{u[A]=n[A]}),u.names=[],u.skips=[],u.formatters={};function s(A){let w=0;for(let L=0;L<A.length;L++)w=(w<<5)-w+A.charCodeAt(L),w|=0;return u.colors[Math.abs(w)%u.colors.length]}u.selectColor=s;function u(A){let w,L=null,J,ve;function le(...G){if(!le.enabled)return;const Z=le,I=Number(new Date),oe=I-(w||I);Z.diff=oe,Z.prev=w,Z.curr=I,w=I,G[0]=u.coerce(G[0]),typeof G[0]!="string"&&G.unshift("%O");let X=0;G[0]=G[0].replace(/%([a-zA-Z%])/g,(Ve,tt)=>{if(Ve==="%%")return"%";X++;const lt=u.formatters[tt];if(typeof lt=="function"){const ot=G[X];Ve=lt.call(Z,ot),G.splice(X,1),X--}return Ve}),u.formatArgs.call(Z,G),(Z.log||u.log).apply(Z,G)}return le.namespace=A,le.useColors=u.useColors(),le.color=u.selectColor(A),le.extend=l,le.destroy=u.destroy,Object.defineProperty(le,"enabled",{enumerable:!0,configurable:!1,get:()=>L!==null?L:(J!==u.namespaces&&(J=u.namespaces,ve=u.enabled(A)),ve),set:G=>{L=G}}),typeof u.init=="function"&&u.init(le),le}function l(A,w){const L=u(this.namespace+(typeof w>"u"?":":w)+A);return L.log=this.log,L}function c(A){u.save(A),u.namespaces=A,u.names=[],u.skips=[];const w=(typeof A=="string"?A:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const L of w)L[0]==="-"?u.skips.push(L.slice(1)):u.names.push(L)}function f(A,w){let L=0,J=0,ve=-1,le=0;for(;L<A.length;)if(J<w.length&&(w[J]===A[L]||w[J]==="*"))w[J]==="*"?(ve=J,le=L,J++):(L++,J++);else if(ve!==-1)J=ve+1,le++,L=le;else return!1;for(;J<w.length&&w[J]==="*";)J++;return J===w.length}function p(){const A=[...u.names,...u.skips.map(w=>"-"+w)].join(",");return u.enable(""),A}function y(A){for(const w of u.skips)if(f(A,w))return!1;for(const w of u.names)if(f(A,w))return!0;return!1}function m(A){return A instanceof Error?A.stack||A.message:A}function v(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return u.enable(u.load()),u}return Qd=r,Qd}var iy;function lS(){return iy||(iy=1,function(r,n){var s={};n.formatArgs=l,n.save=c,n.load=f,n.useColors=u,n.storage=p(),n.destroy=(()=>{let m=!1;return()=>{m||(m=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function u(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let m;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(m=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(m[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function l(m){if(m[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+m[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const v="color: "+this.color;m.splice(1,0,v,"color: inherit");let A=0,w=0;m[0].replace(/%[a-zA-Z%]/g,L=>{L!=="%%"&&(A++,L==="%c"&&(w=A))}),m.splice(w,0,v)}n.log=console.debug||console.log||(()=>{});function c(m){try{m?n.storage.setItem("debug",m):n.storage.removeItem("debug")}catch{}}function f(){let m;try{m=n.storage.getItem("debug")||n.storage.getItem("DEBUG")}catch{}return!m&&typeof process<"u"&&"env"in process&&(m=s.DEBUG),m}function p(){try{return localStorage}catch{}}r.exports=uS()(n);const{formatters:y}=r.exports;y.j=function(m){try{return JSON.stringify(m)}catch(v){return"[UnexpectedJSONParseError]: "+v.message}}}(Hl,Hl.exports)),Hl.exports}var oS=lS();const cS=dv(oS);async function Zf(r){try{return[null,await r()]}catch(n){return[n,null]}}function dS(r,n){const s={...r};return Object.defineProperties(s,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:n,enumerable:!1}}),s}const fS=Symbol("Let zodToJsonSchema decide on which parser to use"),ry={name:void 0,$refStrategy:"root",effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",nullableStrategy:"from-target",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},hS=r=>typeof r=="string"?{...ry,basePath:["#"],definitions:{},name:r}:{...ry,basePath:["#"],definitions:{},...r},sf=r=>"_def"in r?r._def:r;function pS(r){if(!r)return!0;for(const n in r)return!1;return!0}const mS=r=>{const n=hS(r),s=n.name!==void 0?[...n.basePath,n.definitionPath,n.name]:n.basePath;return{...n,currentPath:s,propertyPath:void 0,seenRefs:new Set,seen:new Map(Object.entries(n.definitions).map(([u,l])=>[sf(l),{def:sf(l),path:[...n.basePath,n.definitionPath,u],jsonSchema:void 0}]))}};function fv(r,n,s,u){u!=null&&u.errorMessages&&s&&(r.errorMessage={...r.errorMessage,[n]:s})}function Fe(r,n,s,u,l){r[n]=s,fv(r,n,u,l)}var Ie;(function(r){r.assertEqual=l=>{};function n(l){}r.assertIs=n;function s(l){throw new Error}r.assertNever=s,r.arrayToEnum=l=>{const c={};for(const f of l)c[f]=f;return c},r.getValidEnumValues=l=>{const c=r.objectKeys(l).filter(p=>typeof l[l[p]]!="number"),f={};for(const p of c)f[p]=l[p];return r.objectValues(f)},r.objectValues=l=>r.objectKeys(l).map(function(c){return l[c]}),r.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const c=[];for(const f in l)Object.prototype.hasOwnProperty.call(l,f)&&c.push(f);return c},r.find=(l,c)=>{for(const f of l)if(c(f))return f},r.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&Number.isFinite(l)&&Math.floor(l)===l;function u(l,c=" | "){return l.map(f=>typeof f=="string"?`'${f}'`:f).join(c)}r.joinValues=u,r.jsonStringifyReplacer=(l,c)=>typeof c=="bigint"?c.toString():c})(Ie||(Ie={}));var uy;(function(r){r.mergeShapes=(n,s)=>({...n,...s})})(uy||(uy={}));const se=Ie.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ha=r=>{switch(typeof r){case"undefined":return se.undefined;case"string":return se.string;case"number":return Number.isNaN(r)?se.nan:se.number;case"boolean":return se.boolean;case"function":return se.function;case"bigint":return se.bigint;case"symbol":return se.symbol;case"object":return Array.isArray(r)?se.array:r===null?se.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?se.promise:typeof Map<"u"&&r instanceof Map?se.map:typeof Set<"u"&&r instanceof Set?se.set:typeof Date<"u"&&r instanceof Date?se.date:se.object;default:return se.unknown}},Y=Ie.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);let ws=class hv extends Error{get errors(){return this.issues}constructor(n){super(),this.issues=[],this.addIssue=u=>{this.issues=[...this.issues,u]},this.addIssues=(u=[])=>{this.issues=[...this.issues,...u]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=n}format(n){const s=n||function(c){return c.message},u={_errors:[]},l=c=>{for(const f of c.issues)if(f.code==="invalid_union")f.unionErrors.map(l);else if(f.code==="invalid_return_type")l(f.returnTypeError);else if(f.code==="invalid_arguments")l(f.argumentsError);else if(f.path.length===0)u._errors.push(s(f));else{let p=u,y=0;for(;y<f.path.length;){const m=f.path[y];y===f.path.length-1?(p[m]=p[m]||{_errors:[]},p[m]._errors.push(s(f))):p[m]=p[m]||{_errors:[]},p=p[m],y++}}};return l(this),u}static assert(n){if(!(n instanceof hv))throw new Error(`Not a ZodError: ${n}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ie.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(n=s=>s.message){const s={},u=[];for(const l of this.issues)l.path.length>0?(s[l.path[0]]=s[l.path[0]]||[],s[l.path[0]].push(n(l))):u.push(n(l));return{formErrors:u,fieldErrors:s}}get formErrors(){return this.flatten()}};ws.create=r=>new ws(r);const rf=(r,n)=>{let s;switch(r.code){case Y.invalid_type:r.received===se.undefined?s="Required":s=`Expected ${r.expected}, received ${r.received}`;break;case Y.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(r.expected,Ie.jsonStringifyReplacer)}`;break;case Y.unrecognized_keys:s=`Unrecognized key(s) in object: ${Ie.joinValues(r.keys,", ")}`;break;case Y.invalid_union:s="Invalid input";break;case Y.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${Ie.joinValues(r.options)}`;break;case Y.invalid_enum_value:s=`Invalid enum value. Expected ${Ie.joinValues(r.options)}, received '${r.received}'`;break;case Y.invalid_arguments:s="Invalid function arguments";break;case Y.invalid_return_type:s="Invalid function return type";break;case Y.invalid_date:s="Invalid date";break;case Y.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(s=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?s=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?s=`Invalid input: must end with "${r.validation.endsWith}"`:Ie.assertNever(r.validation):r.validation!=="regex"?s=`Invalid ${r.validation}`:s="Invalid";break;case Y.too_small:r.type==="array"?s=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?s=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?s=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?s=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:s="Invalid input";break;case Y.too_big:r.type==="array"?s=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?s=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?s=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?s=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?s=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:s="Invalid input";break;case Y.custom:s="Invalid input";break;case Y.invalid_intersection_types:s="Intersection results could not be merged";break;case Y.not_multiple_of:s=`Number must be a multiple of ${r.multipleOf}`;break;case Y.not_finite:s="Number must be finite";break;default:s=n.defaultError,Ie.assertNever(r)}return{message:s}};let gS=rf;function yS(){return gS}const vS=r=>{const{data:n,path:s,errorMaps:u,issueData:l}=r,c=[...s,...l.path||[]],f={...l,path:c};if(l.message!==void 0)return{...l,path:c,message:l.message};let p="";const y=u.filter(m=>!!m).slice().reverse();for(const m of y)p=m(f,{data:n,defaultError:p}).message;return{...l,path:c,message:p}};function P(r,n){const s=yS(),u=vS({issueData:n,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,s,s===rf?void 0:rf].filter(l=>!!l)});r.common.issues.push(u)}let Dn=class pv{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(n,s){const u=[];for(const l of s){if(l.status==="aborted")return xe;l.status==="dirty"&&n.dirty(),u.push(l.value)}return{status:n.value,value:u}}static async mergeObjectAsync(n,s){const u=[];for(const l of s){const c=await l.key,f=await l.value;u.push({key:c,value:f})}return pv.mergeObjectSync(n,u)}static mergeObjectSync(n,s){const u={};for(const l of s){const{key:c,value:f}=l;if(c.status==="aborted"||f.status==="aborted")return xe;c.status==="dirty"&&n.dirty(),f.status==="dirty"&&n.dirty(),c.value!=="__proto__"&&(typeof f.value<"u"||l.alwaysSet)&&(u[c.value]=f.value)}return{status:n.value,value:u}}};const xe=Object.freeze({status:"aborted"}),Ir=r=>({status:"dirty",value:r}),bn=r=>({status:"valid",value:r}),ly=r=>r.status==="aborted",oy=r=>r.status==="dirty",Zi=r=>r.status==="valid",Kl=r=>typeof Promise<"u"&&r instanceof Promise;var ie;(function(r){r.errToObj=n=>typeof n=="string"?{message:n}:n||{},r.toString=n=>typeof n=="string"?n:n==null?void 0:n.message})(ie||(ie={}));let Ka=class{constructor(n,s,u,l){this._cachedPath=[],this.parent=n,this.data=s,this._path=u,this._key=l}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};const cy=(r,n)=>{if(Zi(n))return{success:!0,data:n.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new ws(r.common.issues);return this._error=s,this._error}}};function Ce(r){if(!r)return{};const{errorMap:n,invalid_type_error:s,required_error:u,description:l}=r;if(n&&(s||u))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return n?{errorMap:n,description:l}:{errorMap:(f,p)=>{const{message:y}=r;return f.code==="invalid_enum_value"?{message:y??p.defaultError}:typeof p.data>"u"?{message:y??u??p.defaultError}:f.code!=="invalid_type"?{message:p.defaultError}:{message:y??s??p.defaultError}},description:l}}let Ue=class{get description(){return this._def.description}_getType(n){return Ha(n.data)}_getOrReturnCtx(n,s){return s||{common:n.parent.common,data:n.data,parsedType:Ha(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}_processInputParams(n){return{status:new Dn,ctx:{common:n.parent.common,data:n.data,parsedType:Ha(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}}_parseSync(n){const s=this._parse(n);if(Kl(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(n){const s=this._parse(n);return Promise.resolve(s)}parse(n,s){const u=this.safeParse(n,s);if(u.success)return u.data;throw u.error}safeParse(n,s){const u={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:Ha(n)},l=this._parseSync({data:n,path:u.path,parent:u});return cy(u,l)}"~validate"(n){var u,l;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:Ha(n)};if(!this["~standard"].async)try{const c=this._parseSync({data:n,path:[],parent:s});return Zi(c)?{value:c.value}:{issues:s.common.issues}}catch(c){(l=(u=c==null?void 0:c.message)==null?void 0:u.toLowerCase())!=null&&l.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:n,path:[],parent:s}).then(c=>Zi(c)?{value:c.value}:{issues:s.common.issues})}async parseAsync(n,s){const u=await this.safeParseAsync(n,s);if(u.success)return u.data;throw u.error}async safeParseAsync(n,s){const u={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:Ha(n)},l=this._parse({data:n,path:u.path,parent:u}),c=await(Kl(l)?l:Promise.resolve(l));return cy(u,c)}refine(n,s){const u=l=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(l):s;return this._refinement((l,c)=>{const f=n(l),p=()=>c.addIssue({code:Y.custom,...u(l)});return typeof Promise<"u"&&f instanceof Promise?f.then(y=>y?!0:(p(),!1)):f?!0:(p(),!1)})}refinement(n,s){return this._refinement((u,l)=>n(u)?!0:(l.addIssue(typeof s=="function"?s(u,l):s),!1))}_refinement(n){return new Li({schema:this,typeName:Q.ZodEffects,effect:{type:"refinement",refinement:n}})}superRefine(n){return this._refinement(n)}constructor(n){this.spa=this.safeParseAsync,this._def=n,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Ja.create(this,this._def)}nullable(){return Bi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ui.create(this)}promise(){return Pl.create(this,this._def)}or(n){return Fl.create([this,n],this._def)}and(n){return Wl.create(this,n,this._def)}transform(n){return new Li({...Ce(this._def),schema:this,typeName:Q.ZodEffects,effect:{type:"transform",transform:n}})}default(n){const s=typeof n=="function"?n:()=>n;return new hf({...Ce(this._def),innerType:this,defaultValue:s,typeName:Q.ZodDefault})}brand(){return new HS({typeName:Q.ZodBranded,type:this,...Ce(this._def)})}catch(n){const s=typeof n=="function"?n:()=>n;return new pf({...Ce(this._def),innerType:this,catchValue:s,typeName:Q.ZodCatch})}describe(n){const s=this.constructor;return new s({...this._def,description:n})}pipe(n){return GS.create(this,n)}readonly(){return mf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};const _S=/^c[^\s-]{8,}$/i,bS=/^[0-9a-z]+$/,SS=/^[0-9A-HJKMNP-TV-Z]{26}$/i,xS=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,TS=/^[a-z0-9_-]{21}$/i,AS=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,wS=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ES=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,OS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Jd;const NS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,CS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,kS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,RS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,DS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,MS=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,mv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",jS=new RegExp(`^${mv}$`);function gv(r){let n="[0-5]\\d";r.precision?n=`${n}\\.\\d{${r.precision}}`:r.precision==null&&(n=`${n}(\\.\\d+)?`);const s=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${n})${s}`}function zS(r){return new RegExp(`^${gv(r)}$`)}function ZS(r){let n=`${mv}T${gv(r)}`;const s=[];return s.push(r.local?"Z?":"Z"),r.offset&&s.push("([+-]\\d{2}:?\\d{2})"),n=`${n}(${s.join("|")})`,new RegExp(`^${n}$`)}function US(r,n){return!!((n==="v4"||!n)&&NS.test(r)||(n==="v6"||!n)&&kS.test(r))}function LS(r,n){if(!AS.test(r))return!1;try{const[s]=r.split("."),u=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),l=JSON.parse(atob(u));return!(typeof l!="object"||l===null||"typ"in l&&(l==null?void 0:l.typ)!=="JWT"||!l.alg||n&&l.alg!==n)}catch{return!1}}function BS(r,n){return!!((n==="v4"||!n)&&CS.test(r)||(n==="v6"||!n)&&RS.test(r))}let dy=class $r extends Ue{_parse(n){if(this._def.coerce&&(n.data=String(n.data)),this._getType(n)!==se.string){const c=this._getOrReturnCtx(n);return P(c,{code:Y.invalid_type,expected:se.string,received:c.parsedType}),xe}const u=new Dn;let l;for(const c of this._def.checks)if(c.kind==="min")n.data.length<c.value&&(l=this._getOrReturnCtx(n,l),P(l,{code:Y.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),u.dirty());else if(c.kind==="max")n.data.length>c.value&&(l=this._getOrReturnCtx(n,l),P(l,{code:Y.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),u.dirty());else if(c.kind==="length"){const f=n.data.length>c.value,p=n.data.length<c.value;(f||p)&&(l=this._getOrReturnCtx(n,l),f?P(l,{code:Y.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):p&&P(l,{code:Y.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),u.dirty())}else if(c.kind==="email")ES.test(n.data)||(l=this._getOrReturnCtx(n,l),P(l,{validation:"email",code:Y.invalid_string,message:c.message}),u.dirty());else if(c.kind==="emoji")Jd||(Jd=new RegExp(OS,"u")),Jd.test(n.data)||(l=this._getOrReturnCtx(n,l),P(l,{validation:"emoji",code:Y.invalid_string,message:c.message}),u.dirty());else if(c.kind==="uuid")xS.test(n.data)||(l=this._getOrReturnCtx(n,l),P(l,{validation:"uuid",code:Y.invalid_string,message:c.message}),u.dirty());else if(c.kind==="nanoid")TS.test(n.data)||(l=this._getOrReturnCtx(n,l),P(l,{validation:"nanoid",code:Y.invalid_string,message:c.message}),u.dirty());else if(c.kind==="cuid")_S.test(n.data)||(l=this._getOrReturnCtx(n,l),P(l,{validation:"cuid",code:Y.invalid_string,message:c.message}),u.dirty());else if(c.kind==="cuid2")bS.test(n.data)||(l=this._getOrReturnCtx(n,l),P(l,{validation:"cuid2",code:Y.invalid_string,message:c.message}),u.dirty());else if(c.kind==="ulid")SS.test(n.data)||(l=this._getOrReturnCtx(n,l),P(l,{validation:"ulid",code:Y.invalid_string,message:c.message}),u.dirty());else if(c.kind==="url")try{new URL(n.data)}catch{l=this._getOrReturnCtx(n,l),P(l,{validation:"url",code:Y.invalid_string,message:c.message}),u.dirty()}else c.kind==="regex"?(c.regex.lastIndex=0,c.regex.test(n.data)||(l=this._getOrReturnCtx(n,l),P(l,{validation:"regex",code:Y.invalid_string,message:c.message}),u.dirty())):c.kind==="trim"?n.data=n.data.trim():c.kind==="includes"?n.data.includes(c.value,c.position)||(l=this._getOrReturnCtx(n,l),P(l,{code:Y.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),u.dirty()):c.kind==="toLowerCase"?n.data=n.data.toLowerCase():c.kind==="toUpperCase"?n.data=n.data.toUpperCase():c.kind==="startsWith"?n.data.startsWith(c.value)||(l=this._getOrReturnCtx(n,l),P(l,{code:Y.invalid_string,validation:{startsWith:c.value},message:c.message}),u.dirty()):c.kind==="endsWith"?n.data.endsWith(c.value)||(l=this._getOrReturnCtx(n,l),P(l,{code:Y.invalid_string,validation:{endsWith:c.value},message:c.message}),u.dirty()):c.kind==="datetime"?ZS(c).test(n.data)||(l=this._getOrReturnCtx(n,l),P(l,{code:Y.invalid_string,validation:"datetime",message:c.message}),u.dirty()):c.kind==="date"?jS.test(n.data)||(l=this._getOrReturnCtx(n,l),P(l,{code:Y.invalid_string,validation:"date",message:c.message}),u.dirty()):c.kind==="time"?zS(c).test(n.data)||(l=this._getOrReturnCtx(n,l),P(l,{code:Y.invalid_string,validation:"time",message:c.message}),u.dirty()):c.kind==="duration"?wS.test(n.data)||(l=this._getOrReturnCtx(n,l),P(l,{validation:"duration",code:Y.invalid_string,message:c.message}),u.dirty()):c.kind==="ip"?US(n.data,c.version)||(l=this._getOrReturnCtx(n,l),P(l,{validation:"ip",code:Y.invalid_string,message:c.message}),u.dirty()):c.kind==="jwt"?LS(n.data,c.alg)||(l=this._getOrReturnCtx(n,l),P(l,{validation:"jwt",code:Y.invalid_string,message:c.message}),u.dirty()):c.kind==="cidr"?BS(n.data,c.version)||(l=this._getOrReturnCtx(n,l),P(l,{validation:"cidr",code:Y.invalid_string,message:c.message}),u.dirty()):c.kind==="base64"?DS.test(n.data)||(l=this._getOrReturnCtx(n,l),P(l,{validation:"base64",code:Y.invalid_string,message:c.message}),u.dirty()):c.kind==="base64url"?MS.test(n.data)||(l=this._getOrReturnCtx(n,l),P(l,{validation:"base64url",code:Y.invalid_string,message:c.message}),u.dirty()):Ie.assertNever(c);return{status:u.value,value:n.data}}_regex(n,s,u){return this.refinement(l=>n.test(l),{validation:s,code:Y.invalid_string,...ie.errToObj(u)})}_addCheck(n){return new $r({...this._def,checks:[...this._def.checks,n]})}email(n){return this._addCheck({kind:"email",...ie.errToObj(n)})}url(n){return this._addCheck({kind:"url",...ie.errToObj(n)})}emoji(n){return this._addCheck({kind:"emoji",...ie.errToObj(n)})}uuid(n){return this._addCheck({kind:"uuid",...ie.errToObj(n)})}nanoid(n){return this._addCheck({kind:"nanoid",...ie.errToObj(n)})}cuid(n){return this._addCheck({kind:"cuid",...ie.errToObj(n)})}cuid2(n){return this._addCheck({kind:"cuid2",...ie.errToObj(n)})}ulid(n){return this._addCheck({kind:"ulid",...ie.errToObj(n)})}base64(n){return this._addCheck({kind:"base64",...ie.errToObj(n)})}base64url(n){return this._addCheck({kind:"base64url",...ie.errToObj(n)})}jwt(n){return this._addCheck({kind:"jwt",...ie.errToObj(n)})}ip(n){return this._addCheck({kind:"ip",...ie.errToObj(n)})}cidr(n){return this._addCheck({kind:"cidr",...ie.errToObj(n)})}datetime(n){return typeof n=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:n}):this._addCheck({kind:"datetime",precision:typeof(n==null?void 0:n.precision)>"u"?null:n==null?void 0:n.precision,offset:(n==null?void 0:n.offset)??!1,local:(n==null?void 0:n.local)??!1,...ie.errToObj(n==null?void 0:n.message)})}date(n){return this._addCheck({kind:"date",message:n})}time(n){return typeof n=="string"?this._addCheck({kind:"time",precision:null,message:n}):this._addCheck({kind:"time",precision:typeof(n==null?void 0:n.precision)>"u"?null:n==null?void 0:n.precision,...ie.errToObj(n==null?void 0:n.message)})}duration(n){return this._addCheck({kind:"duration",...ie.errToObj(n)})}regex(n,s){return this._addCheck({kind:"regex",regex:n,...ie.errToObj(s)})}includes(n,s){return this._addCheck({kind:"includes",value:n,position:s==null?void 0:s.position,...ie.errToObj(s==null?void 0:s.message)})}startsWith(n,s){return this._addCheck({kind:"startsWith",value:n,...ie.errToObj(s)})}endsWith(n,s){return this._addCheck({kind:"endsWith",value:n,...ie.errToObj(s)})}min(n,s){return this._addCheck({kind:"min",value:n,...ie.errToObj(s)})}max(n,s){return this._addCheck({kind:"max",value:n,...ie.errToObj(s)})}length(n,s){return this._addCheck({kind:"length",value:n,...ie.errToObj(s)})}nonempty(n){return this.min(1,ie.errToObj(n))}trim(){return new $r({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new $r({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new $r({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(n=>n.kind==="datetime")}get isDate(){return!!this._def.checks.find(n=>n.kind==="date")}get isTime(){return!!this._def.checks.find(n=>n.kind==="time")}get isDuration(){return!!this._def.checks.find(n=>n.kind==="duration")}get isEmail(){return!!this._def.checks.find(n=>n.kind==="email")}get isURL(){return!!this._def.checks.find(n=>n.kind==="url")}get isEmoji(){return!!this._def.checks.find(n=>n.kind==="emoji")}get isUUID(){return!!this._def.checks.find(n=>n.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(n=>n.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(n=>n.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(n=>n.kind==="cuid2")}get isULID(){return!!this._def.checks.find(n=>n.kind==="ulid")}get isIP(){return!!this._def.checks.find(n=>n.kind==="ip")}get isCIDR(){return!!this._def.checks.find(n=>n.kind==="cidr")}get isBase64(){return!!this._def.checks.find(n=>n.kind==="base64")}get isBase64url(){return!!this._def.checks.find(n=>n.kind==="base64url")}get minLength(){let n=null;for(const s of this._def.checks)s.kind==="min"&&(n===null||s.value>n)&&(n=s.value);return n}get maxLength(){let n=null;for(const s of this._def.checks)s.kind==="max"&&(n===null||s.value<n)&&(n=s.value);return n}};dy.create=r=>new dy({checks:[],typeName:Q.ZodString,coerce:(r==null?void 0:r.coerce)??!1,...Ce(r)});function qS(r,n){const s=(r.toString().split(".")[1]||"").length,u=(n.toString().split(".")[1]||"").length,l=s>u?s:u,c=Number.parseInt(r.toFixed(l).replace(".","")),f=Number.parseInt(n.toFixed(l).replace(".",""));return c%f/10**l}let uf=class lf extends Ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(n){if(this._def.coerce&&(n.data=Number(n.data)),this._getType(n)!==se.number){const c=this._getOrReturnCtx(n);return P(c,{code:Y.invalid_type,expected:se.number,received:c.parsedType}),xe}let u;const l=new Dn;for(const c of this._def.checks)c.kind==="int"?Ie.isInteger(n.data)||(u=this._getOrReturnCtx(n,u),P(u,{code:Y.invalid_type,expected:"integer",received:"float",message:c.message}),l.dirty()):c.kind==="min"?(c.inclusive?n.data<c.value:n.data<=c.value)&&(u=this._getOrReturnCtx(n,u),P(u,{code:Y.too_small,minimum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),l.dirty()):c.kind==="max"?(c.inclusive?n.data>c.value:n.data>=c.value)&&(u=this._getOrReturnCtx(n,u),P(u,{code:Y.too_big,maximum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),l.dirty()):c.kind==="multipleOf"?qS(n.data,c.value)!==0&&(u=this._getOrReturnCtx(n,u),P(u,{code:Y.not_multiple_of,multipleOf:c.value,message:c.message}),l.dirty()):c.kind==="finite"?Number.isFinite(n.data)||(u=this._getOrReturnCtx(n,u),P(u,{code:Y.not_finite,message:c.message}),l.dirty()):Ie.assertNever(c);return{status:l.value,value:n.data}}gte(n,s){return this.setLimit("min",n,!0,ie.toString(s))}gt(n,s){return this.setLimit("min",n,!1,ie.toString(s))}lte(n,s){return this.setLimit("max",n,!0,ie.toString(s))}lt(n,s){return this.setLimit("max",n,!1,ie.toString(s))}setLimit(n,s,u,l){return new lf({...this._def,checks:[...this._def.checks,{kind:n,value:s,inclusive:u,message:ie.toString(l)}]})}_addCheck(n){return new lf({...this._def,checks:[...this._def.checks,n]})}int(n){return this._addCheck({kind:"int",message:ie.toString(n)})}positive(n){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ie.toString(n)})}negative(n){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ie.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ie.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ie.toString(n)})}multipleOf(n,s){return this._addCheck({kind:"multipleOf",value:n,message:ie.toString(s)})}finite(n){return this._addCheck({kind:"finite",message:ie.toString(n)})}safe(n){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ie.toString(n)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ie.toString(n)})}get minValue(){let n=null;for(const s of this._def.checks)s.kind==="min"&&(n===null||s.value>n)&&(n=s.value);return n}get maxValue(){let n=null;for(const s of this._def.checks)s.kind==="max"&&(n===null||s.value<n)&&(n=s.value);return n}get isInt(){return!!this._def.checks.find(n=>n.kind==="int"||n.kind==="multipleOf"&&Ie.isInteger(n.value))}get isFinite(){let n=null,s=null;for(const u of this._def.checks){if(u.kind==="finite"||u.kind==="int"||u.kind==="multipleOf")return!0;u.kind==="min"?(s===null||u.value>s)&&(s=u.value):u.kind==="max"&&(n===null||u.value<n)&&(n=u.value)}return Number.isFinite(s)&&Number.isFinite(n)}};uf.create=r=>new uf({checks:[],typeName:Q.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...Ce(r)});let fy=class of extends Ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(n){if(this._def.coerce)try{n.data=BigInt(n.data)}catch{return this._getInvalidInput(n)}if(this._getType(n)!==se.bigint)return this._getInvalidInput(n);let u;const l=new Dn;for(const c of this._def.checks)c.kind==="min"?(c.inclusive?n.data<c.value:n.data<=c.value)&&(u=this._getOrReturnCtx(n,u),P(u,{code:Y.too_small,type:"bigint",minimum:c.value,inclusive:c.inclusive,message:c.message}),l.dirty()):c.kind==="max"?(c.inclusive?n.data>c.value:n.data>=c.value)&&(u=this._getOrReturnCtx(n,u),P(u,{code:Y.too_big,type:"bigint",maximum:c.value,inclusive:c.inclusive,message:c.message}),l.dirty()):c.kind==="multipleOf"?n.data%c.value!==BigInt(0)&&(u=this._getOrReturnCtx(n,u),P(u,{code:Y.not_multiple_of,multipleOf:c.value,message:c.message}),l.dirty()):Ie.assertNever(c);return{status:l.value,value:n.data}}_getInvalidInput(n){const s=this._getOrReturnCtx(n);return P(s,{code:Y.invalid_type,expected:se.bigint,received:s.parsedType}),xe}gte(n,s){return this.setLimit("min",n,!0,ie.toString(s))}gt(n,s){return this.setLimit("min",n,!1,ie.toString(s))}lte(n,s){return this.setLimit("max",n,!0,ie.toString(s))}lt(n,s){return this.setLimit("max",n,!1,ie.toString(s))}setLimit(n,s,u,l){return new of({...this._def,checks:[...this._def.checks,{kind:n,value:s,inclusive:u,message:ie.toString(l)}]})}_addCheck(n){return new of({...this._def,checks:[...this._def.checks,n]})}positive(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ie.toString(n)})}negative(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ie.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ie.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ie.toString(n)})}multipleOf(n,s){return this._addCheck({kind:"multipleOf",value:n,message:ie.toString(s)})}get minValue(){let n=null;for(const s of this._def.checks)s.kind==="min"&&(n===null||s.value>n)&&(n=s.value);return n}get maxValue(){let n=null;for(const s of this._def.checks)s.kind==="max"&&(n===null||s.value<n)&&(n=s.value);return n}};fy.create=r=>new fy({checks:[],typeName:Q.ZodBigInt,coerce:(r==null?void 0:r.coerce)??!1,...Ce(r)});let hy=class extends Ue{_parse(n){if(this._def.coerce&&(n.data=!!n.data),this._getType(n)!==se.boolean){const u=this._getOrReturnCtx(n);return P(u,{code:Y.invalid_type,expected:se.boolean,received:u.parsedType}),xe}return bn(n.data)}};hy.create=r=>new hy({typeName:Q.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...Ce(r)});let py=class yv extends Ue{_parse(n){if(this._def.coerce&&(n.data=new Date(n.data)),this._getType(n)!==se.date){const c=this._getOrReturnCtx(n);return P(c,{code:Y.invalid_type,expected:se.date,received:c.parsedType}),xe}if(Number.isNaN(n.data.getTime())){const c=this._getOrReturnCtx(n);return P(c,{code:Y.invalid_date}),xe}const u=new Dn;let l;for(const c of this._def.checks)c.kind==="min"?n.data.getTime()<c.value&&(l=this._getOrReturnCtx(n,l),P(l,{code:Y.too_small,message:c.message,inclusive:!0,exact:!1,minimum:c.value,type:"date"}),u.dirty()):c.kind==="max"?n.data.getTime()>c.value&&(l=this._getOrReturnCtx(n,l),P(l,{code:Y.too_big,message:c.message,inclusive:!0,exact:!1,maximum:c.value,type:"date"}),u.dirty()):Ie.assertNever(c);return{status:u.value,value:new Date(n.data.getTime())}}_addCheck(n){return new yv({...this._def,checks:[...this._def.checks,n]})}min(n,s){return this._addCheck({kind:"min",value:n.getTime(),message:ie.toString(s)})}max(n,s){return this._addCheck({kind:"max",value:n.getTime(),message:ie.toString(s)})}get minDate(){let n=null;for(const s of this._def.checks)s.kind==="min"&&(n===null||s.value>n)&&(n=s.value);return n!=null?new Date(n):null}get maxDate(){let n=null;for(const s of this._def.checks)s.kind==="max"&&(n===null||s.value<n)&&(n=s.value);return n!=null?new Date(n):null}};py.create=r=>new py({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:Q.ZodDate,...Ce(r)});let my=class extends Ue{_parse(n){if(this._getType(n)!==se.symbol){const u=this._getOrReturnCtx(n);return P(u,{code:Y.invalid_type,expected:se.symbol,received:u.parsedType}),xe}return bn(n.data)}};my.create=r=>new my({typeName:Q.ZodSymbol,...Ce(r)});let gy=class extends Ue{_parse(n){if(this._getType(n)!==se.undefined){const u=this._getOrReturnCtx(n);return P(u,{code:Y.invalid_type,expected:se.undefined,received:u.parsedType}),xe}return bn(n.data)}};gy.create=r=>new gy({typeName:Q.ZodUndefined,...Ce(r)});let yy=class extends Ue{_parse(n){if(this._getType(n)!==se.null){const u=this._getOrReturnCtx(n);return P(u,{code:Y.invalid_type,expected:se.null,received:u.parsedType}),xe}return bn(n.data)}};yy.create=r=>new yy({typeName:Q.ZodNull,...Ce(r)});let vy=class extends Ue{constructor(){super(...arguments),this._any=!0}_parse(n){return bn(n.data)}};vy.create=r=>new vy({typeName:Q.ZodAny,...Ce(r)});let _y=class extends Ue{constructor(){super(...arguments),this._unknown=!0}_parse(n){return bn(n.data)}};_y.create=r=>new _y({typeName:Q.ZodUnknown,...Ce(r)});let Fa=class extends Ue{_parse(n){const s=this._getOrReturnCtx(n);return P(s,{code:Y.invalid_type,expected:se.never,received:s.parsedType}),xe}};Fa.create=r=>new Fa({typeName:Q.ZodNever,...Ce(r)});let by=class extends Ue{_parse(n){if(this._getType(n)!==se.undefined){const u=this._getOrReturnCtx(n);return P(u,{code:Y.invalid_type,expected:se.void,received:u.parsedType}),xe}return bn(n.data)}};by.create=r=>new by({typeName:Q.ZodVoid,...Ce(r)});let Ui=class Vl extends Ue{_parse(n){const{ctx:s,status:u}=this._processInputParams(n),l=this._def;if(s.parsedType!==se.array)return P(s,{code:Y.invalid_type,expected:se.array,received:s.parsedType}),xe;if(l.exactLength!==null){const f=s.data.length>l.exactLength.value,p=s.data.length<l.exactLength.value;(f||p)&&(P(s,{code:f?Y.too_big:Y.too_small,minimum:p?l.exactLength.value:void 0,maximum:f?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),u.dirty())}if(l.minLength!==null&&s.data.length<l.minLength.value&&(P(s,{code:Y.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),u.dirty()),l.maxLength!==null&&s.data.length>l.maxLength.value&&(P(s,{code:Y.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),u.dirty()),s.common.async)return Promise.all([...s.data].map((f,p)=>l.type._parseAsync(new Ka(s,f,s.path,p)))).then(f=>Dn.mergeArray(u,f));const c=[...s.data].map((f,p)=>l.type._parseSync(new Ka(s,f,s.path,p)));return Dn.mergeArray(u,c)}get element(){return this._def.type}min(n,s){return new Vl({...this._def,minLength:{value:n,message:ie.toString(s)}})}max(n,s){return new Vl({...this._def,maxLength:{value:n,message:ie.toString(s)}})}length(n,s){return new Vl({...this._def,exactLength:{value:n,message:ie.toString(s)}})}nonempty(n){return this.min(1,n)}};Ui.create=(r,n)=>new Ui({type:r,minLength:null,maxLength:null,exactLength:null,typeName:Q.ZodArray,...Ce(n)});function bi(r){if(r instanceof fa){const n={};for(const s in r.shape){const u=r.shape[s];n[s]=Ja.create(bi(u))}return new fa({...r._def,shape:()=>n})}else return r instanceof Ui?new Ui({...r._def,type:bi(r.element)}):r instanceof Ja?Ja.create(bi(r.unwrap())):r instanceof Bi?Bi.create(bi(r.unwrap())):r instanceof Qr?Qr.create(r.items.map(n=>bi(n))):r}let fa=class Cn extends Ue{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const n=this._def.shape(),s=Ie.objectKeys(n);return this._cached={shape:n,keys:s},this._cached}_parse(n){if(this._getType(n)!==se.object){const m=this._getOrReturnCtx(n);return P(m,{code:Y.invalid_type,expected:se.object,received:m.parsedType}),xe}const{status:u,ctx:l}=this._processInputParams(n),{shape:c,keys:f}=this._getCached(),p=[];if(!(this._def.catchall instanceof Fa&&this._def.unknownKeys==="strip"))for(const m in l.data)f.includes(m)||p.push(m);const y=[];for(const m of f){const v=c[m],A=l.data[m];y.push({key:{status:"valid",value:m},value:v._parse(new Ka(l,A,l.path,m)),alwaysSet:m in l.data})}if(this._def.catchall instanceof Fa){const m=this._def.unknownKeys;if(m==="passthrough")for(const v of p)y.push({key:{status:"valid",value:v},value:{status:"valid",value:l.data[v]}});else if(m==="strict")p.length>0&&(P(l,{code:Y.unrecognized_keys,keys:p}),u.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const v of p){const A=l.data[v];y.push({key:{status:"valid",value:v},value:m._parse(new Ka(l,A,l.path,v)),alwaysSet:v in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const m=[];for(const v of y){const A=await v.key,w=await v.value;m.push({key:A,value:w,alwaysSet:v.alwaysSet})}return m}).then(m=>Dn.mergeObjectSync(u,m)):Dn.mergeObjectSync(u,y)}get shape(){return this._def.shape()}strict(n){return ie.errToObj,new Cn({...this._def,unknownKeys:"strict",...n!==void 0?{errorMap:(s,u)=>{var c,f;const l=((f=(c=this._def).errorMap)==null?void 0:f.call(c,s,u).message)??u.defaultError;return s.code==="unrecognized_keys"?{message:ie.errToObj(n).message??l}:{message:l}}}:{}})}strip(){return new Cn({...this._def,unknownKeys:"strip"})}passthrough(){return new Cn({...this._def,unknownKeys:"passthrough"})}extend(n){return new Cn({...this._def,shape:()=>({...this._def.shape(),...n})})}merge(n){return new Cn({unknownKeys:n._def.unknownKeys,catchall:n._def.catchall,shape:()=>({...this._def.shape(),...n._def.shape()}),typeName:Q.ZodObject})}setKey(n,s){return this.augment({[n]:s})}catchall(n){return new Cn({...this._def,catchall:n})}pick(n){const s={};for(const u of Ie.objectKeys(n))n[u]&&this.shape[u]&&(s[u]=this.shape[u]);return new Cn({...this._def,shape:()=>s})}omit(n){const s={};for(const u of Ie.objectKeys(this.shape))n[u]||(s[u]=this.shape[u]);return new Cn({...this._def,shape:()=>s})}deepPartial(){return bi(this)}partial(n){const s={};for(const u of Ie.objectKeys(this.shape)){const l=this.shape[u];n&&!n[u]?s[u]=l:s[u]=l.optional()}return new Cn({...this._def,shape:()=>s})}required(n){const s={};for(const u of Ie.objectKeys(this.shape))if(n&&!n[u])s[u]=this.shape[u];else{let c=this.shape[u];for(;c instanceof Ja;)c=c._def.innerType;s[u]=c}return new Cn({...this._def,shape:()=>s})}keyof(){return _v(Ie.objectKeys(this.shape))}};fa.create=(r,n)=>new fa({shape:()=>r,unknownKeys:"strip",catchall:Fa.create(),typeName:Q.ZodObject,...Ce(n)});fa.strictCreate=(r,n)=>new fa({shape:()=>r,unknownKeys:"strict",catchall:Fa.create(),typeName:Q.ZodObject,...Ce(n)});fa.lazycreate=(r,n)=>new fa({shape:r,unknownKeys:"strip",catchall:Fa.create(),typeName:Q.ZodObject,...Ce(n)});let Fl=class extends Ue{_parse(n){const{ctx:s}=this._processInputParams(n),u=this._def.options;function l(c){for(const p of c)if(p.result.status==="valid")return p.result;for(const p of c)if(p.result.status==="dirty")return s.common.issues.push(...p.ctx.common.issues),p.result;const f=c.map(p=>new ws(p.ctx.common.issues));return P(s,{code:Y.invalid_union,unionErrors:f}),xe}if(s.common.async)return Promise.all(u.map(async c=>{const f={...s,common:{...s.common,issues:[]},parent:null};return{result:await c._parseAsync({data:s.data,path:s.path,parent:f}),ctx:f}})).then(l);{let c;const f=[];for(const y of u){const m={...s,common:{...s.common,issues:[]},parent:null},v=y._parseSync({data:s.data,path:s.path,parent:m});if(v.status==="valid")return v;v.status==="dirty"&&!c&&(c={result:v,ctx:m}),m.common.issues.length&&f.push(m.common.issues)}if(c)return s.common.issues.push(...c.ctx.common.issues),c.result;const p=f.map(y=>new ws(y));return P(s,{code:Y.invalid_union,unionErrors:p}),xe}}get options(){return this._def.options}};Fl.create=(r,n)=>new Fl({options:r,typeName:Q.ZodUnion,...Ce(n)});function cf(r,n){const s=Ha(r),u=Ha(n);if(r===n)return{valid:!0,data:r};if(s===se.object&&u===se.object){const l=Ie.objectKeys(n),c=Ie.objectKeys(r).filter(p=>l.indexOf(p)!==-1),f={...r,...n};for(const p of c){const y=cf(r[p],n[p]);if(!y.valid)return{valid:!1};f[p]=y.data}return{valid:!0,data:f}}else if(s===se.array&&u===se.array){if(r.length!==n.length)return{valid:!1};const l=[];for(let c=0;c<r.length;c++){const f=r[c],p=n[c],y=cf(f,p);if(!y.valid)return{valid:!1};l.push(y.data)}return{valid:!0,data:l}}else return s===se.date&&u===se.date&&+r==+n?{valid:!0,data:r}:{valid:!1}}let Wl=class extends Ue{_parse(n){const{status:s,ctx:u}=this._processInputParams(n),l=(c,f)=>{if(ly(c)||ly(f))return xe;const p=cf(c.value,f.value);return p.valid?((oy(c)||oy(f))&&s.dirty(),{status:s.value,value:p.data}):(P(u,{code:Y.invalid_intersection_types}),xe)};return u.common.async?Promise.all([this._def.left._parseAsync({data:u.data,path:u.path,parent:u}),this._def.right._parseAsync({data:u.data,path:u.path,parent:u})]).then(([c,f])=>l(c,f)):l(this._def.left._parseSync({data:u.data,path:u.path,parent:u}),this._def.right._parseSync({data:u.data,path:u.path,parent:u}))}};Wl.create=(r,n,s)=>new Wl({left:r,right:n,typeName:Q.ZodIntersection,...Ce(s)});let Qr=class vv extends Ue{_parse(n){const{status:s,ctx:u}=this._processInputParams(n);if(u.parsedType!==se.array)return P(u,{code:Y.invalid_type,expected:se.array,received:u.parsedType}),xe;if(u.data.length<this._def.items.length)return P(u,{code:Y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),xe;!this._def.rest&&u.data.length>this._def.items.length&&(P(u,{code:Y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const c=[...u.data].map((f,p)=>{const y=this._def.items[p]||this._def.rest;return y?y._parse(new Ka(u,f,u.path,p)):null}).filter(f=>!!f);return u.common.async?Promise.all(c).then(f=>Dn.mergeArray(s,f)):Dn.mergeArray(s,c)}get items(){return this._def.items}rest(n){return new vv({...this._def,rest:n})}};Qr.create=(r,n)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qr({items:r,typeName:Q.ZodTuple,rest:null,...Ce(n)})};let Sy=class extends Ue{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){const{status:s,ctx:u}=this._processInputParams(n);if(u.parsedType!==se.map)return P(u,{code:Y.invalid_type,expected:se.map,received:u.parsedType}),xe;const l=this._def.keyType,c=this._def.valueType,f=[...u.data.entries()].map(([p,y],m)=>({key:l._parse(new Ka(u,p,u.path,[m,"key"])),value:c._parse(new Ka(u,y,u.path,[m,"value"]))}));if(u.common.async){const p=new Map;return Promise.resolve().then(async()=>{for(const y of f){const m=await y.key,v=await y.value;if(m.status==="aborted"||v.status==="aborted")return xe;(m.status==="dirty"||v.status==="dirty")&&s.dirty(),p.set(m.value,v.value)}return{status:s.value,value:p}})}else{const p=new Map;for(const y of f){const m=y.key,v=y.value;if(m.status==="aborted"||v.status==="aborted")return xe;(m.status==="dirty"||v.status==="dirty")&&s.dirty(),p.set(m.value,v.value)}return{status:s.value,value:p}}}};Sy.create=(r,n,s)=>new Sy({valueType:n,keyType:r,typeName:Q.ZodMap,...Ce(s)});let xy=class df extends Ue{_parse(n){const{status:s,ctx:u}=this._processInputParams(n);if(u.parsedType!==se.set)return P(u,{code:Y.invalid_type,expected:se.set,received:u.parsedType}),xe;const l=this._def;l.minSize!==null&&u.data.size<l.minSize.value&&(P(u,{code:Y.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),s.dirty()),l.maxSize!==null&&u.data.size>l.maxSize.value&&(P(u,{code:Y.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),s.dirty());const c=this._def.valueType;function f(y){const m=new Set;for(const v of y){if(v.status==="aborted")return xe;v.status==="dirty"&&s.dirty(),m.add(v.value)}return{status:s.value,value:m}}const p=[...u.data.values()].map((y,m)=>c._parse(new Ka(u,y,u.path,m)));return u.common.async?Promise.all(p).then(y=>f(y)):f(p)}min(n,s){return new df({...this._def,minSize:{value:n,message:ie.toString(s)}})}max(n,s){return new df({...this._def,maxSize:{value:n,message:ie.toString(s)}})}size(n,s){return this.min(n,s).max(n,s)}nonempty(n){return this.min(1,n)}};xy.create=(r,n)=>new xy({valueType:r,minSize:null,maxSize:null,typeName:Q.ZodSet,...Ce(n)});let Ty=class extends Ue{get schema(){return this._def.getter()}_parse(n){const{ctx:s}=this._processInputParams(n);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}};Ty.create=(r,n)=>new Ty({getter:r,typeName:Q.ZodLazy,...Ce(n)});let Ay=class extends Ue{_parse(n){if(n.data!==this._def.value){const s=this._getOrReturnCtx(n);return P(s,{received:s.data,code:Y.invalid_literal,expected:this._def.value}),xe}return{status:"valid",value:n.data}}get value(){return this._def.value}};Ay.create=(r,n)=>new Ay({value:r,typeName:Q.ZodLiteral,...Ce(n)});function _v(r,n){return new Uf({values:r,typeName:Q.ZodEnum,...Ce(n)})}let Uf=class ff extends Ue{_parse(n){if(typeof n.data!="string"){const s=this._getOrReturnCtx(n),u=this._def.values;return P(s,{expected:Ie.joinValues(u),received:s.parsedType,code:Y.invalid_type}),xe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(n.data)){const s=this._getOrReturnCtx(n),u=this._def.values;return P(s,{received:s.data,code:Y.invalid_enum_value,options:u}),xe}return bn(n.data)}get options(){return this._def.values}get enum(){const n={};for(const s of this._def.values)n[s]=s;return n}get Values(){const n={};for(const s of this._def.values)n[s]=s;return n}get Enum(){const n={};for(const s of this._def.values)n[s]=s;return n}extract(n,s=this._def){return ff.create(n,{...this._def,...s})}exclude(n,s=this._def){return ff.create(this.options.filter(u=>!n.includes(u)),{...this._def,...s})}};Uf.create=_v;let wy=class extends Ue{_parse(n){const s=Ie.getValidEnumValues(this._def.values),u=this._getOrReturnCtx(n);if(u.parsedType!==se.string&&u.parsedType!==se.number){const l=Ie.objectValues(s);return P(u,{expected:Ie.joinValues(l),received:u.parsedType,code:Y.invalid_type}),xe}if(this._cache||(this._cache=new Set(Ie.getValidEnumValues(this._def.values))),!this._cache.has(n.data)){const l=Ie.objectValues(s);return P(u,{received:u.data,code:Y.invalid_enum_value,options:l}),xe}return bn(n.data)}get enum(){return this._def.values}};wy.create=(r,n)=>new wy({values:r,typeName:Q.ZodNativeEnum,...Ce(n)});let Pl=class extends Ue{unwrap(){return this._def.type}_parse(n){const{ctx:s}=this._processInputParams(n);if(s.parsedType!==se.promise&&s.common.async===!1)return P(s,{code:Y.invalid_type,expected:se.promise,received:s.parsedType}),xe;const u=s.parsedType===se.promise?s.data:Promise.resolve(s.data);return bn(u.then(l=>this._def.type.parseAsync(l,{path:s.path,errorMap:s.common.contextualErrorMap})))}};Pl.create=(r,n)=>new Pl({type:r,typeName:Q.ZodPromise,...Ce(n)});let Li=class extends Ue{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Q.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(n){const{status:s,ctx:u}=this._processInputParams(n),l=this._def.effect||null,c={addIssue:f=>{P(u,f),f.fatal?s.abort():s.dirty()},get path(){return u.path}};if(c.addIssue=c.addIssue.bind(c),l.type==="preprocess"){const f=l.transform(u.data,c);if(u.common.async)return Promise.resolve(f).then(async p=>{if(s.value==="aborted")return xe;const y=await this._def.schema._parseAsync({data:p,path:u.path,parent:u});return y.status==="aborted"?xe:y.status==="dirty"||s.value==="dirty"?Ir(y.value):y});{if(s.value==="aborted")return xe;const p=this._def.schema._parseSync({data:f,path:u.path,parent:u});return p.status==="aborted"?xe:p.status==="dirty"||s.value==="dirty"?Ir(p.value):p}}if(l.type==="refinement"){const f=p=>{const y=l.refinement(p,c);if(u.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return p};if(u.common.async===!1){const p=this._def.schema._parseSync({data:u.data,path:u.path,parent:u});return p.status==="aborted"?xe:(p.status==="dirty"&&s.dirty(),f(p.value),{status:s.value,value:p.value})}else return this._def.schema._parseAsync({data:u.data,path:u.path,parent:u}).then(p=>p.status==="aborted"?xe:(p.status==="dirty"&&s.dirty(),f(p.value).then(()=>({status:s.value,value:p.value}))))}if(l.type==="transform")if(u.common.async===!1){const f=this._def.schema._parseSync({data:u.data,path:u.path,parent:u});if(!Zi(f))return xe;const p=l.transform(f.value,c);if(p instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:p}}else return this._def.schema._parseAsync({data:u.data,path:u.path,parent:u}).then(f=>Zi(f)?Promise.resolve(l.transform(f.value,c)).then(p=>({status:s.value,value:p})):xe);Ie.assertNever(l)}};Li.create=(r,n,s)=>new Li({schema:r,typeName:Q.ZodEffects,effect:n,...Ce(s)});Li.createWithPreprocess=(r,n,s)=>new Li({schema:n,effect:{type:"preprocess",transform:r},typeName:Q.ZodEffects,...Ce(s)});let Ja=class extends Ue{_parse(n){return this._getType(n)===se.undefined?bn(void 0):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}};Ja.create=(r,n)=>new Ja({innerType:r,typeName:Q.ZodOptional,...Ce(n)});let Bi=class extends Ue{_parse(n){return this._getType(n)===se.null?bn(null):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}};Bi.create=(r,n)=>new Bi({innerType:r,typeName:Q.ZodNullable,...Ce(n)});let hf=class extends Ue{_parse(n){const{ctx:s}=this._processInputParams(n);let u=s.data;return s.parsedType===se.undefined&&(u=this._def.defaultValue()),this._def.innerType._parse({data:u,path:s.path,parent:s})}removeDefault(){return this._def.innerType}};hf.create=(r,n)=>new hf({innerType:r,typeName:Q.ZodDefault,defaultValue:typeof n.default=="function"?n.default:()=>n.default,...Ce(n)});let pf=class extends Ue{_parse(n){const{ctx:s}=this._processInputParams(n),u={...s,common:{...s.common,issues:[]}},l=this._def.innerType._parse({data:u.data,path:u.path,parent:{...u}});return Kl(l)?l.then(c=>({status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new ws(u.common.issues)},input:u.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new ws(u.common.issues)},input:u.data})}}removeCatch(){return this._def.innerType}};pf.create=(r,n)=>new pf({innerType:r,typeName:Q.ZodCatch,catchValue:typeof n.catch=="function"?n.catch:()=>n.catch,...Ce(n)});let Ey=class extends Ue{_parse(n){if(this._getType(n)!==se.nan){const u=this._getOrReturnCtx(n);return P(u,{code:Y.invalid_type,expected:se.nan,received:u.parsedType}),xe}return{status:"valid",value:n.data}}};Ey.create=r=>new Ey({typeName:Q.ZodNaN,...Ce(r)});let HS=class extends Ue{_parse(n){const{ctx:s}=this._processInputParams(n),u=s.data;return this._def.type._parse({data:u,path:s.path,parent:s})}unwrap(){return this._def.type}},GS=class bv extends Ue{_parse(n){const{status:s,ctx:u}=this._processInputParams(n);if(u.common.async)return(async()=>{const c=await this._def.in._parseAsync({data:u.data,path:u.path,parent:u});return c.status==="aborted"?xe:c.status==="dirty"?(s.dirty(),Ir(c.value)):this._def.out._parseAsync({data:c.value,path:u.path,parent:u})})();{const l=this._def.in._parseSync({data:u.data,path:u.path,parent:u});return l.status==="aborted"?xe:l.status==="dirty"?(s.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:u.path,parent:u})}}static create(n,s){return new bv({in:n,out:s,typeName:Q.ZodPipeline})}},mf=class extends Ue{_parse(n){const s=this._def.innerType._parse(n),u=l=>(Zi(l)&&(l.value=Object.freeze(l.value)),l);return Kl(s)?s.then(l=>u(l)):u(s)}unwrap(){return this._def.innerType}};mf.create=(r,n)=>new mf({innerType:r,typeName:Q.ZodReadonly,...Ce(n)});var Q;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(Q||(Q={}));const Oy=uf.create;Fa.create;Ui.create;const IS=fa.create;Fl.create;Wl.create;Qr.create;Uf.create;Pl.create;Ja.create;Bi.create;function $S(){return{}}function VS(r,n){var u,l;const s={type:"array"};return((l=(u=r.type)==null?void 0:u._def)==null?void 0:l.typeName)!==Q.ZodAny&&(s.items=$e(r.type._def,{...n,currentPath:[...n.currentPath,"items"]})),r.minLength&&Fe(s,"minItems",r.minLength.value,r.minLength.message,n),r.maxLength&&Fe(s,"maxItems",r.maxLength.value,r.maxLength.message,n),r.exactLength&&(Fe(s,"minItems",r.exactLength.value,r.exactLength.message,n),Fe(s,"maxItems",r.exactLength.value,r.exactLength.message,n)),s}function YS(r,n){const s={type:"integer",format:"int64"};if(!r.checks)return s;for(const u of r.checks)switch(u.kind){case"min":n.target==="jsonSchema7"?u.inclusive?Fe(s,"minimum",u.value,u.message,n):Fe(s,"exclusiveMinimum",u.value,u.message,n):(u.inclusive||(s.exclusiveMinimum=!0),Fe(s,"minimum",u.value,u.message,n));break;case"max":n.target==="jsonSchema7"?u.inclusive?Fe(s,"maximum",u.value,u.message,n):Fe(s,"exclusiveMaximum",u.value,u.message,n):(u.inclusive||(s.exclusiveMaximum=!0),Fe(s,"maximum",u.value,u.message,n));break;case"multipleOf":Fe(s,"multipleOf",u.value,u.message,n);break}return s}function XS(){return{type:"boolean"}}function QS(r,n){return $e(r.type._def,n)}const JS=(r,n)=>$e(r.innerType._def,n);function Sv(r,n,s){const u=s??n.dateStrategy;if(Array.isArray(u))return{anyOf:u.map((l,c)=>Sv(r,n,l))};switch(u){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return KS(r,n)}}const KS=(r,n)=>{const s={type:"integer",format:"unix-time"};if(n.target==="openApi3")return s;for(const u of r.checks)switch(u.kind){case"min":Fe(s,"minimum",u.value,u.message,n);break;case"max":Fe(s,"maximum",u.value,u.message,n);break}return s};function FS(r,n){return{...$e(r.innerType._def,n),default:r.defaultValue()}}function WS(r,n,s){return n.effectStrategy==="input"?$e(r.schema._def,n,s):{}}function PS(r){return{type:"string",enum:[...r.values]}}const ex=r=>"type"in r&&r.type==="string"?!1:"allOf"in r;function tx(r,n){const s=[$e(r.left._def,{...n,currentPath:[...n.currentPath,"allOf","0"]}),$e(r.right._def,{...n,currentPath:[...n.currentPath,"allOf","1"]})].filter(c=>!!c);let u=n.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const l=[];return s.forEach(c=>{if(ex(c))l.push(...c.allOf),c.unevaluatedProperties===void 0&&(u=void 0);else{let f=c;if("additionalProperties"in c&&c.additionalProperties===!1){const{additionalProperties:p,...y}=c;f=y}else u=void 0;l.push(f)}}),l.length?{allOf:l,...u}:void 0}function nx(r,n){const s=typeof r.value;return s!=="bigint"&&s!=="number"&&s!=="boolean"&&s!=="string"?{type:Array.isArray(r.value)?"array":"object"}:n.target==="openApi3"?{type:s==="bigint"?"integer":s,enum:[r.value]}:{type:s==="bigint"?"integer":s,const:r.value}}let Kd;const vs={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Kd===void 0&&(Kd=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Kd),base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function xv(r,n){const s={type:"string"};function u(l){return n.patternStrategy==="escape"?ax(l):l}if(r.checks)for(const l of r.checks)switch(l.kind){case"min":Fe(s,"minLength",typeof s.minLength=="number"?Math.max(s.minLength,l.value):l.value,l.message,n);break;case"max":Fe(s,"maxLength",typeof s.maxLength=="number"?Math.min(s.maxLength,l.value):l.value,l.message,n);break;case"email":switch(n.emailStrategy){case"format:email":On(s,"email",l.message,n);break;case"format:idn-email":On(s,"idn-email",l.message,n);break;case"pattern:zod":Nn(s,vs.email,l.message,n);break}break;case"url":On(s,"uri",l.message,n);break;case"uuid":On(s,"uuid",l.message,n);break;case"regex":Nn(s,l.regex,l.message,n);break;case"cuid":Nn(s,vs.cuid,l.message,n);break;case"cuid2":Nn(s,vs.cuid2,l.message,n);break;case"startsWith":Nn(s,RegExp(`^${u(l.value)}`),l.message,n);break;case"endsWith":Nn(s,RegExp(`${u(l.value)}$`),l.message,n);break;case"datetime":On(s,"date-time",l.message,n);break;case"date":On(s,"date",l.message,n);break;case"time":On(s,"time",l.message,n);break;case"duration":On(s,"duration",l.message,n);break;case"length":Fe(s,"minLength",typeof s.minLength=="number"?Math.max(s.minLength,l.value):l.value,l.message,n),Fe(s,"maxLength",typeof s.maxLength=="number"?Math.min(s.maxLength,l.value):l.value,l.message,n);break;case"includes":{Nn(s,RegExp(u(l.value)),l.message,n);break}case"ip":{l.version!=="v6"&&On(s,"ipv4",l.message,n),l.version!=="v4"&&On(s,"ipv6",l.message,n);break}case"emoji":Nn(s,vs.emoji,l.message,n);break;case"ulid":{Nn(s,vs.ulid,l.message,n);break}case"base64":{switch(n.base64Strategy){case"format:binary":{On(s,"binary",l.message,n);break}case"contentEncoding:base64":{Fe(s,"contentEncoding","base64",l.message,n);break}case"pattern:zod":{Nn(s,vs.base64,l.message,n);break}}break}case"nanoid":Nn(s,vs.nanoid,l.message,n)}return s}const ax=r=>Array.from(r).map(n=>/[a-zA-Z0-9]/.test(n)?n:`\\${n}`).join(""),On=(r,n,s,u)=>{var l;r.format||(l=r.anyOf)!=null&&l.some(c=>c.format)?(r.anyOf||(r.anyOf=[]),r.format&&(r.anyOf.push({format:r.format,...r.errorMessage&&u.errorMessages&&{errorMessage:{format:r.errorMessage.format}}}),delete r.format,r.errorMessage&&(delete r.errorMessage.format,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.anyOf.push({format:n,...s&&u.errorMessages&&{errorMessage:{format:s}}})):Fe(r,"format",n,s,u)},Nn=(r,n,s,u)=>{var l;r.pattern||(l=r.allOf)!=null&&l.some(c=>c.pattern)?(r.allOf||(r.allOf=[]),r.pattern&&(r.allOf.push({pattern:r.pattern,...r.errorMessage&&u.errorMessages&&{errorMessage:{pattern:r.errorMessage.pattern}}}),delete r.pattern,r.errorMessage&&(delete r.errorMessage.pattern,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.allOf.push({pattern:Ny(n,u),...s&&u.errorMessages&&{errorMessage:{pattern:s}}})):Fe(r,"pattern",Ny(n,u),s,u)},Ny=(r,n)=>{var m;const s=typeof r=="function"?r():r;if(!n.applyRegexFlags||!s.flags)return s.source;const u={i:s.flags.includes("i"),m:s.flags.includes("m"),s:s.flags.includes("s")},l=u.i?s.source.toLowerCase():s.source;let c="",f=!1,p=!1,y=!1;for(let v=0;v<l.length;v++){if(f){c+=l[v],f=!1;continue}if(u.i){if(p){if(l[v].match(/[a-z]/)){y?(c+=l[v],c+=`${l[v-2]}-${l[v]}`.toUpperCase(),y=!1):l[v+1]==="-"&&((m=l[v+2])!=null&&m.match(/[a-z]/))?(c+=l[v],y=!0):c+=`${l[v]}${l[v].toUpperCase()}`;continue}}else if(l[v].match(/[a-z]/)){c+=`[${l[v]}${l[v].toUpperCase()}]`;continue}}if(u.m){if(l[v]==="^"){c+=`(^|(?<=[\r
]))`;continue}else if(l[v]==="$"){c+=`($|(?=[\r
]))`;continue}}if(u.s&&l[v]==="."){c+=p?`${l[v]}\r
`:`[${l[v]}\r
]`;continue}c+=l[v],l[v]==="\\"?f=!0:p&&l[v]==="]"?p=!1:!p&&l[v]==="["&&(p=!0)}try{const v=new RegExp(c)}catch{return console.warn(`Could not convert regex pattern at ${n.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),s.source}return c};function Tv(r,n){var u,l,c,f;if(n.target==="openApi3"&&((u=r.keyType)==null?void 0:u._def.typeName)===Q.ZodEnum)return{type:"object",required:r.keyType._def.values,properties:r.keyType._def.values.reduce((p,y)=>({...p,[y]:$e(r.valueType._def,{...n,currentPath:[...n.currentPath,"properties",y]})??{}}),{}),additionalProperties:!1};const s={type:"object",additionalProperties:$e(r.valueType._def,{...n,currentPath:[...n.currentPath,"additionalProperties"]})??{}};if(n.target==="openApi3")return s;if(((l=r.keyType)==null?void 0:l._def.typeName)===Q.ZodString&&((c=r.keyType._def.checks)!=null&&c.length)){const p=Object.entries(xv(r.keyType._def,n)).reduce((y,[m,v])=>m==="type"?y:{...y,[m]:v},{});return{...s,propertyNames:p}}else if(((f=r.keyType)==null?void 0:f._def.typeName)===Q.ZodEnum)return{...s,propertyNames:{enum:r.keyType._def.values}};return s}function sx(r,n){if(n.mapStrategy==="record")return Tv(r,n);const s=$e(r.keyType._def,{...n,currentPath:[...n.currentPath,"items","items","0"]})||{},u=$e(r.valueType._def,{...n,currentPath:[...n.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[s,u],minItems:2,maxItems:2}}}function ix(r){const n=r.values,u=Object.keys(r.values).filter(c=>typeof n[n[c]]!="number").map(c=>n[c]),l=Array.from(new Set(u.map(c=>typeof c)));return{type:l.length===1?l[0]==="string"?"string":"number":["string","number"],enum:u}}function rx(){return{not:{}}}function ux(r){return r.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const eo={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function lx(r,n){if(n.target==="openApi3")return Cy(r,n);const s=r.options instanceof Map?Array.from(r.options.values()):r.options;if(s.every(u=>u._def.typeName in eo&&(!u._def.checks||!u._def.checks.length))){const u=s.reduce((l,c)=>{const f=eo[c._def.typeName];return f&&!l.includes(f)?[...l,f]:l},[]);return{type:u.length>1?u:u[0]}}else if(s.every(u=>u._def.typeName==="ZodLiteral"&&!u.description)){const u=s.reduce((l,c)=>{const f=typeof c._def.value;switch(f){case"string":case"number":case"boolean":return[...l,f];case"bigint":return[...l,"integer"];case"object":if(c._def.value===null)return[...l,"null"];case"symbol":case"undefined":case"function":default:return l}},[]);if(u.length===s.length){const l=u.filter((c,f,p)=>p.indexOf(c)===f);return{type:l.length>1?l:l[0],enum:s.reduce((c,f)=>c.includes(f._def.value)?c:[...c,f._def.value],[])}}}else if(s.every(u=>u._def.typeName==="ZodEnum"))return{type:"string",enum:s.reduce((u,l)=>[...u,...l._def.values.filter(c=>!u.includes(c))],[])};return Cy(r,n)}const Cy=(r,n)=>{const s=(r.options instanceof Map?Array.from(r.options.values()):r.options).map((u,l)=>$e(u._def,{...n,currentPath:[...n.currentPath,"anyOf",`${l}`]})).filter(u=>!!u&&(!n.strictUnions||typeof u=="object"&&Object.keys(u).length>0));return s.length?{anyOf:s}:void 0};function ox(r,n){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(r.innerType._def.typeName)&&(!r.innerType._def.checks||!r.innerType._def.checks.length))return n.target==="openApi3"||n.nullableStrategy==="property"?{type:eo[r.innerType._def.typeName],nullable:!0}:{type:[eo[r.innerType._def.typeName],"null"]};if(n.target==="openApi3"){const u=$e(r.innerType._def,{...n,currentPath:[...n.currentPath]});return u&&"$ref"in u?{allOf:[u],nullable:!0}:u&&{...u,nullable:!0}}const s=$e(r.innerType._def,{...n,currentPath:[...n.currentPath,"anyOf","0"]});return s&&{anyOf:[s,{type:"null"}]}}function cx(r,n){const s={type:"number"};if(!r.checks)return s;for(const u of r.checks)switch(u.kind){case"int":s.type="integer",fv(s,"type",u.message,n);break;case"min":n.target==="jsonSchema7"?u.inclusive?Fe(s,"minimum",u.value,u.message,n):Fe(s,"exclusiveMinimum",u.value,u.message,n):(u.inclusive||(s.exclusiveMinimum=!0),Fe(s,"minimum",u.value,u.message,n));break;case"max":n.target==="jsonSchema7"?u.inclusive?Fe(s,"maximum",u.value,u.message,n):Fe(s,"exclusiveMaximum",u.value,u.message,n):(u.inclusive||(s.exclusiveMaximum=!0),Fe(s,"maximum",u.value,u.message,n));break;case"multipleOf":Fe(s,"multipleOf",u.value,u.message,n);break}return s}function dx(r,n){return n.removeAdditionalStrategy==="strict"?r.catchall._def.typeName==="ZodNever"?r.unknownKeys!=="strict":$e(r.catchall._def,{...n,currentPath:[...n.currentPath,"additionalProperties"]})??!0:r.catchall._def.typeName==="ZodNever"?r.unknownKeys==="passthrough":$e(r.catchall._def,{...n,currentPath:[...n.currentPath,"additionalProperties"]})??!0}function fx(r,n){const s={type:"object",...Object.entries(r.shape()).reduce((u,[l,c])=>{var y;if(c===void 0||c._def===void 0)return u;const f=[...n.currentPath,"properties",l],p=$e(c._def,{...n,currentPath:f,propertyPath:f});if(p===void 0)return u;if(n.openaiStrictMode&&c.isOptional()&&!c.isNullable()&&typeof((y=c._def)==null?void 0:y.defaultValue)>"u")throw new Error(`Zod field at \`${f.join("/")}\` uses \`.optional()\` without \`.nullable()\` which is not supported by the API. See: https://platform.openai.com/docs/guides/structured-outputs?api-mode=responses#all-fields-must-be-required`);return{properties:{...u.properties,[l]:p},required:c.isOptional()&&!n.openaiStrictMode?u.required:[...u.required,l]}},{properties:{},required:[]}),additionalProperties:dx(r,n)};return s.required.length||delete s.required,s}const hx=(r,n)=>{var u;if(n.currentPath.toString()===((u=n.propertyPath)==null?void 0:u.toString()))return $e(r.innerType._def,n);const s=$e(r.innerType._def,{...n,currentPath:[...n.currentPath,"anyOf","1"]});return s?{anyOf:[{not:{}},s]}:{}},px=(r,n)=>{if(n.pipeStrategy==="input")return $e(r.in._def,n);if(n.pipeStrategy==="output")return $e(r.out._def,n);const s=$e(r.in._def,{...n,currentPath:[...n.currentPath,"allOf","0"]}),u=$e(r.out._def,{...n,currentPath:[...n.currentPath,"allOf",s?"1":"0"]});return{allOf:[s,u].filter(l=>l!==void 0)}};function mx(r,n){return $e(r.type._def,n)}function gx(r,n){const u={type:"array",uniqueItems:!0,items:$e(r.valueType._def,{...n,currentPath:[...n.currentPath,"items"]})};return r.minSize&&Fe(u,"minItems",r.minSize.value,r.minSize.message,n),r.maxSize&&Fe(u,"maxItems",r.maxSize.value,r.maxSize.message,n),u}function yx(r,n){return r.rest?{type:"array",minItems:r.items.length,items:r.items.map((s,u)=>$e(s._def,{...n,currentPath:[...n.currentPath,"items",`${u}`]})).reduce((s,u)=>u===void 0?s:[...s,u],[]),additionalItems:$e(r.rest._def,{...n,currentPath:[...n.currentPath,"additionalItems"]})}:{type:"array",minItems:r.items.length,maxItems:r.items.length,items:r.items.map((s,u)=>$e(s._def,{...n,currentPath:[...n.currentPath,"items",`${u}`]})).reduce((s,u)=>u===void 0?s:[...s,u],[])}}function vx(){return{not:{}}}function _x(){return{}}const bx=(r,n)=>$e(r.innerType._def,n);function $e(r,n,s=!1){var f;const u=n.seen.get(r);if(n.override){const p=(f=n.override)==null?void 0:f.call(n,r,n,u,s);if(p!==fS)return p}if(u&&!s){const p=Sx(u,n);if(p!==void 0)return"$ref"in p&&n.seenRefs.add(p.$ref),p}const l={def:r,path:n.currentPath,jsonSchema:void 0};n.seen.set(r,l);const c=Tx(r,r.typeName,n,s);return c&&Ax(r,n,c),l.jsonSchema=c,c}const Sx=(r,n)=>{switch(n.$refStrategy){case"root":return{$ref:r.path.join("/")};case"extract-to-root":const s=r.path.slice(n.basePath.length+1).join("_");return s!==n.name&&n.nameStrategy==="duplicate-ref"&&(n.definitions[s]=r.def),{$ref:[...n.basePath,n.definitionPath,s].join("/")};case"relative":return{$ref:xx(n.currentPath,r.path)};case"none":case"seen":return r.path.length<n.currentPath.length&&r.path.every((u,l)=>n.currentPath[l]===u)?(console.warn(`Recursive reference detected at ${n.currentPath.join("/")}! Defaulting to any`),{}):n.$refStrategy==="seen"?{}:void 0}},xx=(r,n)=>{let s=0;for(;s<r.length&&s<n.length&&r[s]===n[s];s++);return[(r.length-s).toString(),...n.slice(s)].join("/")},Tx=(r,n,s,u)=>{switch(n){case Q.ZodString:return xv(r,s);case Q.ZodNumber:return cx(r,s);case Q.ZodObject:return fx(r,s);case Q.ZodBigInt:return YS(r,s);case Q.ZodBoolean:return XS();case Q.ZodDate:return Sv(r,s);case Q.ZodUndefined:return vx();case Q.ZodNull:return ux(s);case Q.ZodArray:return VS(r,s);case Q.ZodUnion:case Q.ZodDiscriminatedUnion:return lx(r,s);case Q.ZodIntersection:return tx(r,s);case Q.ZodTuple:return yx(r,s);case Q.ZodRecord:return Tv(r,s);case Q.ZodLiteral:return nx(r,s);case Q.ZodEnum:return PS(r);case Q.ZodNativeEnum:return ix(r);case Q.ZodNullable:return ox(r,s);case Q.ZodOptional:return hx(r,s);case Q.ZodMap:return sx(r,s);case Q.ZodSet:return gx(r,s);case Q.ZodLazy:return $e(r.getter()._def,s);case Q.ZodPromise:return mx(r,s);case Q.ZodNaN:case Q.ZodNever:return rx();case Q.ZodEffects:return WS(r,s,u);case Q.ZodAny:return $S();case Q.ZodUnknown:return _x();case Q.ZodDefault:return FS(r,s);case Q.ZodBranded:return QS(r,s);case Q.ZodReadonly:return bx(r,s);case Q.ZodCatch:return JS(r,s);case Q.ZodPipeline:return px(r,s);case Q.ZodFunction:case Q.ZodVoid:case Q.ZodSymbol:return;default:return(l=>{})()}},Ax=(r,n,s)=>(r.description&&(s.description=r.description,n.markdownDescription&&(s.markdownDescription=r.description)),s),wx=(r,n)=>{const s=mS(n),u=typeof n=="string"?n:(n==null?void 0:n.nameStrategy)==="title"||n==null?void 0:n.name,l=$e(r._def,u===void 0?s:{...s,currentPath:[...s.basePath,s.definitionPath,u]},!1)??{},c=typeof n=="object"&&n.name!==void 0&&n.nameStrategy==="title"?n.name:void 0;c!==void 0&&(l.title=c);const f=(()=>{if(pS(s.definitions))return;const y={},m=new Set;for(let v=0;v<500;v++){const A=Object.entries(s.definitions).filter(([w])=>!m.has(w));if(A.length===0)break;for(const[w,L]of A)y[w]=$e(sf(L),{...s,currentPath:[...s.basePath,s.definitionPath,w]},!0)??{},m.add(w)}return y})(),p=u===void 0?f?{...l,[s.definitionPath]:f}:l:s.nameStrategy==="duplicate-ref"?{...l,...f||s.seenRefs.size?{[s.definitionPath]:{...f,...s.seenRefs.size?{[u]:l}:void 0}}:void 0}:{$ref:[...s.$refStrategy==="relative"?[]:s.basePath,s.definitionPath,u].join("/"),[s.definitionPath]:{...f,[u]:l}};return s.target==="jsonSchema7"?p.$schema="http://json-schema.org/draft-07/schema#":s.target==="jsonSchema2019-09"&&(p.$schema="https://json-schema.org/draft/2019-09/schema#"),p};function Ex(r,{parser:n,callback:s}){const u={...r};return Object.defineProperties(u,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:n,enumerable:!1},$callback:{value:s,enumerable:!1}}),u}function Av(r,n){return wx(r,{openaiStrictMode:!0,name:n.name,nameStrategy:"duplicate-ref",$refStrategy:"extract-to-root",nullableStrategy:"property"})}function Ox(r,n,s){return dS({type:"json_schema",...s,name:n,strict:!0,schema:Av(r,{name:n})},u=>r.parse(JSON.parse(u)))}function Nx(r){return Ex({type:"function",name:r.name,parameters:Av(r.parameters,{name:r.name}),strict:!0},{callback:r.function,parser:n=>r.parameters.parse(JSON.parse(n))})}class Pa extends Error{constructor(s,u){super(s);q(this,"state");this.state=u}}class Cx extends Pa{}class ky extends Pa{}class Rn extends Pa{}class Ct extends Pa{}class Ry extends Pa{constructor(s,u,l){super(s,l);q(this,"error");this.error=u}}class kx extends Pa{constructor(s,u,l){super(s,l);q(this,"error");this.error=u}}class Dy extends Pa{constructor(s,u,l){super(s,l);q(this,"result");this.result=u}}class gf extends Pa{constructor(s,u,l){super(s,l);q(this,"result");this.result=u}}function Es(r){return typeof r=="object"&&r!==null&&"_def"in r&&typeof r._def=="object"&&r._def!==null&&"typeName"in r._def&&r._def.typeName==="ZodObject"}function Rx(r){return typeof r=="object"&&r!==null&&"input"in r&&typeof r.input=="string"}function to(r){if(r=r.replace(/\s/g,"_"),r=r.replace(/[^a-zA-Z0-9]/g,"_"),r.length===0)throw new Error("Tool name cannot be empty");return r}function Lf(r,n){const s=u=>JSON.parse(u);if(Es(r)){const u=Nx({name:n,parameters:r,function:()=>{}});return{schema:u.parameters,parser:u.$parseRaw}}else if(typeof r=="object"&&r!==null)return{schema:r,parser:s};throw new Ct("Input type is not a ZodObject or a valid JSON schema")}function My(r){if(r==="text")return"text";if(Es(r)){const n=Ox(r,"output");return{type:n.type,name:n.name,strict:n.strict||!1,schema:n.schema}}return r}let jy;function Gn(){return jy??(jy=new R1),jy}function Jr(){const r=Gn().getStore();return r!=null&&r.trace?r.trace:null}function Kr(){const r=Gn().getStore();return r!=null&&r.span?r.span:null}function wv(r){return async()=>{const n=Jr();if(!n)throw new Error("No trace found");await n.start();const s=await r(n);return await n.end(),s}}async function Dx(r,n,s={}){const u=typeof r=="string"?Sn().createTrace({...s,name:r}):r;return Gn().run({trace:u},wv(n))}async function Mx(r,n={}){if(Jr())return await r();const u=Sn().createTrace(n);return Gn().run({trace:u},wv(r))}function Yl(r){const n=Gn().getStore();if(!n)throw new Error("No existing trace found");n.span&&(n.span.previousSpan=n.previousSpan,n.previousSpan=n.span),n.span=r,Gn().enterWith(n)}function Vr(){var n;const r=Gn().getStore();r&&(r.span=r.previousSpan,r.previousSpan=(n=r.previousSpan)==null?void 0:n.previousSpan,Gn().enterWith(r))}function Fr(r){const n=Kr();n&&n.setError(r)}function jx(r){var n,s,u;return{trace:(n=r.trace)==null?void 0:n.clone(),span:(s=r.span)==null?void 0:s.clone(),previousSpan:(u=r.previousSpan)==null?void 0:u.clone()}}function yf(r){const n=Gn().getStore();if(!n)throw new Error("No existing trace found");const s=jx(n);return Gn().run(s,r)}class zx{async export(n){if(Zv.disabled){de.debug("Tracing is disabled. Skipping export");return}for(const s of n)s.type==="trace"?console.log(`[Exporter] Export trace traceId=${s.traceId} name=${s.name}`):console.log(`[Exporter] Export span: ${JSON.stringify(s)}`)}}var au,wi,su,iu,Ei,Ut,ua,Ia,$a,ru,ln,vf,Ev,Si;class Zx{constructor(n,{maxQueueSize:s=1e3,maxBatchSize:u=100,scheduleDelay:l=5e3,exportTriggerRatio:c=.8}={}){ae(this,ln);ae(this,au);ae(this,wi);ae(this,su);ae(this,iu);ae(this,Ei);ae(this,Ut,[]);ae(this,ua);ae(this,Ia,null);ae(this,$a,!1);ae(this,ru,new AbortController);V(this,au,s),V(this,wi,u),V(this,su,l),V(this,iu,s*c),V(this,Ei,n),V(this,ua,M1),de.warn("BatchTraceProcessor is not supported in the browser. Traces will not be exported.")}async onTraceStart(n){await ze(this,ln,vf).call(this,n)}async onTraceEnd(n){}async onSpanStart(n){}async onSpanEnd(n){await ze(this,ln,vf).call(this,n)}async shutdown(n){for(n&&_(this,ua).setTimeout(()=>{_(this,ru).abort()},n),de.debug("Shutting down gracefully");_(this,Ut).length>0;){if(de.debug(`Waiting for buffer to empty. Items left: ${_(this,Ut).length}`),_(this,$a)||await ze(this,ln,Si).call(this,!0),_(this,ru).signal.aborted){de.debug("Timeout reached, force flushing"),await ze(this,ln,Si).call(this,!0);break}await new Promise(s=>_(this,ua).setTimeout(s,500))}de.debug("Buffer empty. Exiting"),_(this,ua)&&_(this,Ia)&&_(this,ua).clearTimeout(_(this,Ia))}async forceFlush(){_(this,Ut).length>0&&await ze(this,ln,Si).call(this,!0)}}au=new WeakMap,wi=new WeakMap,su=new WeakMap,iu=new WeakMap,Ei=new WeakMap,Ut=new WeakMap,ua=new WeakMap,Ia=new WeakMap,$a=new WeakMap,ru=new WeakMap,ln=new WeakSet,vf=async function(n){if(_(this,Ut).length+1>_(this,au)){de.error("Dropping trace because buffer is full");return}_(this,Ut).push(n),_(this,Ut).length>_(this,iu)&&await ze(this,ln,Si).call(this)},Ev=function(){V(this,Ia,_(this,ua).setTimeout(async()=>{await ze(this,ln,Si).call(this),ze(this,ln,Ev).call(this)},_(this,su))),typeof _(this,Ia).unref=="function"&&_(this,Ia).unref()},Si=async function(n=!1){if(_(this,Ut).length!==0){if(de.debug(`Exporting batches. Force: ${n}. Buffer size: ${_(this,Ut).length}`),n||_(this,Ut).length<_(this,wi)){const s=[..._(this,Ut)];V(this,Ut,[]),V(this,$a,!0),await _(this,Ei).export(s),V(this,$a,!1)}else if(_(this,Ut).length>0){const s=_(this,Ut).splice(0,_(this,wi));V(this,$a,!0),await _(this,Ei).export(s),V(this,$a,!1)}}};var _n;class Ux{constructor(){ae(this,_n,[])}addTraceProcessor(n){_(this,_n).push(n)}setProcessors(n){de.debug("Shutting down old processors");for(const s of _(this,_n))s.shutdown();V(this,_n,n)}async onTraceStart(n){for(const s of _(this,_n))await s.onTraceStart(n)}async onTraceEnd(n){for(const s of _(this,_n))await s.onTraceEnd(n)}async onSpanStart(n){for(const s of _(this,_n))await s.onSpanStart(n)}async onSpanEnd(n){for(const s of _(this,_n))await s.onSpanEnd(n)}async shutdown(n){for(const s of _(this,_n))await s.shutdown(n)}async forceFlush(){for(const n of _(this,_n))await n.forceFlush()}}_n=new WeakMap;let Fd=null,Wd=null;function Lx(){return Fd||(Fd=new zx),Fd}function Ov(){return Wd||(Wd=new Zx(Lx())),Wd}function zy(){return new Date().toISOString()}function Nv(){return`trace_${jv().replace(/-/g,"")}`}function Bx(){return`span_${jv().replace(/-/g,"").slice(0,24)}`}function qx(r){return Object.fromEntries(Object.entries(r).filter(([n])=>!n.startsWith("_")))}var uu,lu,ou,cu,bs,Va,Ya,Ss,du;const Ff=class Ff{constructor(n,s){q(this,"type","trace.span");ae(this,uu);ae(this,lu);ae(this,ou);ae(this,cu);ae(this,bs);ae(this,Va);ae(this,Ya);ae(this,Ss);ae(this,du);V(this,lu,n.traceId),V(this,ou,n.spanId??Bx()),V(this,uu,n.data),V(this,bs,s),V(this,cu,n.parentId??null),V(this,Ss,n.error??null),V(this,Va,n.startedAt??null),V(this,Ya,n.endedAt??null)}get traceId(){return _(this,lu)}get spanData(){return _(this,uu)}get spanId(){return _(this,ou)}get parentId(){return _(this,cu)}get previousSpan(){return _(this,du)}set previousSpan(n){V(this,du,n)}start(){if(_(this,Va)){de.warn("Span already started");return}V(this,Va,zy()),_(this,bs).onSpanStart(this)}end(){if(_(this,Ya)){de.debug("Span already finished",this.spanData);return}V(this,Ya,zy()),_(this,bs).onSpanEnd(this)}setError(n){V(this,Ss,n)}get error(){return _(this,Ss)}get startedAt(){return _(this,Va)}get endedAt(){return _(this,Ya)}clone(){var s;const n=new Ff({traceId:this.traceId,spanId:this.spanId,parentId:this.parentId??void 0,data:this.spanData,startedAt:_(this,Va)??void 0,endedAt:_(this,Ya)??void 0,error:_(this,Ss)??void 0},_(this,bs));return n.previousSpan=(s=this.previousSpan)==null?void 0:s.clone(),n}toJSON(){return{object:this.type,id:this.spanId,trace_id:this.traceId,parent_id:this.parentId,started_at:this.startedAt,ended_at:this.endedAt,span_data:qx(this.spanData),error:this.error}}};uu=new WeakMap,lu=new WeakMap,ou=new WeakMap,cu=new WeakMap,bs=new WeakMap,Va=new WeakMap,Ya=new WeakMap,Ss=new WeakMap,du=new WeakMap;let Wr=Ff;class Ba extends Wr{constructor(n,s){super({traceId:"no-op",spanId:"no-op",data:n},s)}start(){}end(){}setError(){}toJSON(){return null}}var Oi,la;const Wf=class Wf{constructor(n,s){q(this,"type","trace");q(this,"traceId");q(this,"name");q(this,"groupId",null);q(this,"metadata");ae(this,Oi);ae(this,la);this.traceId=n.traceId??Nv(),this.name=n.name??"Agent workflow",this.groupId=n.groupId??null,this.metadata=n.metadata??{},V(this,Oi,s??Ov()),V(this,la,n.started??!1)}async start(){_(this,la)||(V(this,la,!0),await _(this,Oi).onTraceStart(this))}async end(){_(this,la)&&(V(this,la,!1),await _(this,Oi).onTraceEnd(this))}clone(){return new Wf({traceId:this.traceId,name:this.name,groupId:this.groupId??void 0,metadata:this.metadata,started:_(this,la)})}toJSON(){return{object:this.type,id:this.traceId,workflow_name:this.name,group_id:this.groupId,metadata:this.metadata}}};Oi=new WeakMap,la=new WeakMap;let Pr=Wf;class Pd extends Pr{constructor(){super({})}async start(){}async end(){}toJSON(){return null}}var qt,Xa;class Hx{constructor(){ae(this,qt);ae(this,Xa);V(this,qt,new Ux),V(this,Xa,Zv.disabled),zv().NODE_ENV==="test"&&V(this,Xa,!0)}registerProcessor(n){_(this,qt).addTraceProcessor(n)}setProcessors(n){_(this,qt).setProcessors(n)}getCurrentTrace(){return Jr()}getCurrentSpan(){return Kr()}setDisabled(n){V(this,Xa,n)}createTrace(n){if(_(this,Xa))return de.debug("Tracing is disabled, Not creating trace %o",n),new Pd;const s=n.traceId??Nv(),u=n.name??"Agent workflow";return de.debug("Creating trace %s with name %s",s,u),new Pr({...n,name:u,traceId:s},_(this,qt))}createSpan(n,s){if(_(this,Xa)||n.disabled)return de.debug("Tracing is disabled, Not creating span %o",n),new Ba(n.data,_(this,qt));let u,l;if(s){if(s instanceof Pr){if(s instanceof Pd)return de.debug("Parent trace is no-op, returning NoopSpan"),new Ba(n.data,_(this,qt));l=s.traceId}else if(s instanceof Wr){if(s instanceof Ba)return de.debug("Parent span is no-op, returning NoopSpan"),new Ba(n.data,_(this,qt));u=s.spanId,l=s.traceId}}else{const c=Jr(),f=Kr();if(!c)return de.error("No active trace. Make sure to start a trace with `withTrace()` first. Returning NoopSpan."),new Ba(n.data,_(this,qt));if(f instanceof Ba||c instanceof Pd)return de.debug(`Parent ${f} or ${c} is no-op, returning NoopSpan`),new Ba(n.data,_(this,qt));l=c.traceId,f?(de.debug("Using parent span %s",f.spanId),u=f.spanId):de.debug("No parent span, using current trace %s",c.traceId)}return l?(de.debug(`Creating span ${JSON.stringify(n.data)} with id ${n.spanId??l}`),new Wr({...n,traceId:l,parentId:u},_(this,qt))):(de.error("No traceId found. Make sure to start a trace with `withTrace()` first. Returning NoopSpan."),new Ba(n.data,_(this,qt)))}shutdown(n){try{de.debug("Shutting down tracing provider"),_(this,qt).shutdown(n)}catch(s){de.error("Error shutting down tracing provider %o",s)}}}qt=new WeakMap,Xa=new WeakMap;let ef;function Sn(){return ef||(ef=new Hx),ef}function _o(r){return async(n,...s)=>yf(async()=>{const u=r(...s);Yl(u);try{return u.start(),await n(u)}catch(l){throw u.setError({message:l.message,data:l.data}),l}finally{u.end(),Vr()}})}function Zy(r,n){var s;return Sn().createSpan({...r,data:{type:"agent",name:((s=r==null?void 0:r.data)==null?void 0:s.name)??"Agent",...r==null?void 0:r.data}},n)}function Gx(r,n){var s,u;return Sn().createSpan({...r,data:{type:"function",input:((s=r==null?void 0:r.data)==null?void 0:s.input)??"",output:((u=r==null?void 0:r.data)==null?void 0:u.output)??"",...r==null?void 0:r.data}},n)}const Uy=_o(Gx);function Ix(r,n){return Sn().createSpan({...r,data:{type:"handoff",...r==null?void 0:r.data}},n)}const $x=_o(Ix);function Vx(r,n){return Sn().createSpan({...r,data:{type:"guardrail",triggered:!1,...r==null?void 0:r.data}},n)}const Ly=_o(Vx);function Yx(r,n){return Sn().createSpan({...r,data:{type:"mcp_tools",...r==null?void 0:r.data}},n)}const Xx=_o(Yx);function Qx(r){Sn().registerProcessor(r)}const Gl=async()=>{await Sn().shutdown()};typeof process<"u"&&typeof process.on=="function"&&(process.on("beforeExit",Gl),process.on("SIGINT",Gl),process.on("SIGTERM",Gl),process.on("unhandledRejection",(r,n)=>{de.error("Unhandled rejection",r,n),Gl()}));function Os(r){if(r==null)return String(r);if(typeof r=="string")return r;if(typeof r=="object")try{return JSON.stringify(r)}catch{return"[object with circular references]"}return String(r)}function Jx(r,n){return`An error occurred while running the tool. Please try again. Error: ${n instanceof Error?n.toString():String(n)}`}function no(r){const n=r.name?to(r.name):to(r.execute.name),s=typeof r.errorFunction>"u"?Jx:r.errorFunction;if(!n)throw new Error("Tool name cannot be empty. Either name your function or provide a name in the options.");const u=r.strict??!0;if(!u&&Es(r.parameters))throw new Ct("Strict mode is required for Zod parameters");const{parser:l,schema:c}=Lf(r.parameters,n);async function f(m,v){const[A,w]=await Zf(()=>l(v));if(A!==null)throw de.dontLogToolData?de.debug(`Invalid JSON input for tool ${n}`):de.debug(`Invalid JSON input for tool ${n}: ${v}`),new Rn("Invalid JSON input for tool");de.dontLogToolData?de.debug(`Invoking tool ${n}`):de.debug(`Invoking tool ${n} with input ${v}`);const L=await r.execute(w,m),J=Os(L);return de.dontLogToolData?de.debug(`Tool ${n} completed`):de.debug(`Tool ${n} returned: ${J}`),L}async function p(m,v){return f(m,v).catch(A=>{if(s){const w=Kr();return w==null||w.setError({message:"Error running tool (non-fatal)",data:{tool_name:n,error:A.toString()}}),s(m,A)}throw A})}const y=typeof r.needsApproval=="function"?r.needsApproval:async()=>typeof r.needsApproval=="boolean"?r.needsApproval:!1;return{type:"function",name:n,description:r.description,parameters:c,strict:u,invoke:p,needsApproval:y}}var Ze;(function(r){r.assertEqual=l=>{};function n(l){}r.assertIs=n;function s(l){throw new Error}r.assertNever=s,r.arrayToEnum=l=>{const c={};for(const f of l)c[f]=f;return c},r.getValidEnumValues=l=>{const c=r.objectKeys(l).filter(p=>typeof l[l[p]]!="number"),f={};for(const p of c)f[p]=l[p];return r.objectValues(f)},r.objectValues=l=>r.objectKeys(l).map(function(c){return l[c]}),r.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const c=[];for(const f in l)Object.prototype.hasOwnProperty.call(l,f)&&c.push(f);return c},r.find=(l,c)=>{for(const f of l)if(c(f))return f},r.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&Number.isFinite(l)&&Math.floor(l)===l;function u(l,c=" | "){return l.map(f=>typeof f=="string"?`'${f}'`:f).join(c)}r.joinValues=u,r.jsonStringifyReplacer=(l,c)=>typeof c=="bigint"?c.toString():c})(Ze||(Ze={}));var By;(function(r){r.mergeShapes=(n,s)=>({...n,...s})})(By||(By={}));const te=Ze.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ga=r=>{switch(typeof r){case"undefined":return te.undefined;case"string":return te.string;case"number":return Number.isNaN(r)?te.nan:te.number;case"boolean":return te.boolean;case"function":return te.function;case"bigint":return te.bigint;case"symbol":return te.symbol;case"object":return Array.isArray(r)?te.array:r===null?te.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?te.promise:typeof Map<"u"&&r instanceof Map?te.map:typeof Set<"u"&&r instanceof Set?te.set:typeof Date<"u"&&r instanceof Date?te.date:te.object;default:return te.unknown}},$=Ze.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ha extends Error{get errors(){return this.issues}constructor(n){super(),this.issues=[],this.addIssue=u=>{this.issues=[...this.issues,u]},this.addIssues=(u=[])=>{this.issues=[...this.issues,...u]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=n}format(n){const s=n||function(c){return c.message},u={_errors:[]},l=c=>{for(const f of c.issues)if(f.code==="invalid_union")f.unionErrors.map(l);else if(f.code==="invalid_return_type")l(f.returnTypeError);else if(f.code==="invalid_arguments")l(f.argumentsError);else if(f.path.length===0)u._errors.push(s(f));else{let p=u,y=0;for(;y<f.path.length;){const m=f.path[y];y===f.path.length-1?(p[m]=p[m]||{_errors:[]},p[m]._errors.push(s(f))):p[m]=p[m]||{_errors:[]},p=p[m],y++}}};return l(this),u}static assert(n){if(!(n instanceof ha))throw new Error(`Not a ZodError: ${n}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ze.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(n=s=>s.message){const s={},u=[];for(const l of this.issues)l.path.length>0?(s[l.path[0]]=s[l.path[0]]||[],s[l.path[0]].push(n(l))):u.push(n(l));return{formErrors:u,fieldErrors:s}}get formErrors(){return this.flatten()}}ha.create=r=>new ha(r);const _f=(r,n)=>{let s;switch(r.code){case $.invalid_type:r.received===te.undefined?s="Required":s=`Expected ${r.expected}, received ${r.received}`;break;case $.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(r.expected,Ze.jsonStringifyReplacer)}`;break;case $.unrecognized_keys:s=`Unrecognized key(s) in object: ${Ze.joinValues(r.keys,", ")}`;break;case $.invalid_union:s="Invalid input";break;case $.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${Ze.joinValues(r.options)}`;break;case $.invalid_enum_value:s=`Invalid enum value. Expected ${Ze.joinValues(r.options)}, received '${r.received}'`;break;case $.invalid_arguments:s="Invalid function arguments";break;case $.invalid_return_type:s="Invalid function return type";break;case $.invalid_date:s="Invalid date";break;case $.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(s=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?s=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?s=`Invalid input: must end with "${r.validation.endsWith}"`:Ze.assertNever(r.validation):r.validation!=="regex"?s=`Invalid ${r.validation}`:s="Invalid";break;case $.too_small:r.type==="array"?s=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?s=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?s=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?s=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:s="Invalid input";break;case $.too_big:r.type==="array"?s=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?s=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?s=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?s=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?s=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:s="Invalid input";break;case $.custom:s="Invalid input";break;case $.invalid_intersection_types:s="Intersection results could not be merged";break;case $.not_multiple_of:s=`Number must be a multiple of ${r.multipleOf}`;break;case $.not_finite:s="Number must be finite";break;default:s=n.defaultError,Ze.assertNever(r)}return{message:s}};let Kx=_f;function Fx(){return Kx}const Wx=r=>{const{data:n,path:s,errorMaps:u,issueData:l}=r,c=[...s,...l.path||[]],f={...l,path:c};if(l.message!==void 0)return{...l,path:c,message:l.message};let p="";const y=u.filter(m=>!!m).slice().reverse();for(const m of y)p=m(f,{data:n,defaultError:p}).message;return{...l,path:c,message:p}};function F(r,n){const s=Fx(),u=Wx({issueData:n,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,s,s===_f?void 0:_f].filter(l=>!!l)});r.common.issues.push(u)}class It{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(n,s){const u=[];for(const l of s){if(l.status==="aborted")return _e;l.status==="dirty"&&n.dirty(),u.push(l.value)}return{status:n.value,value:u}}static async mergeObjectAsync(n,s){const u=[];for(const l of s){const c=await l.key,f=await l.value;u.push({key:c,value:f})}return It.mergeObjectSync(n,u)}static mergeObjectSync(n,s){const u={};for(const l of s){const{key:c,value:f}=l;if(c.status==="aborted"||f.status==="aborted")return _e;c.status==="dirty"&&n.dirty(),f.status==="dirty"&&n.dirty(),c.value!=="__proto__"&&(typeof f.value<"u"||l.alwaysSet)&&(u[c.value]=f.value)}return{status:n.value,value:u}}}const _e=Object.freeze({status:"aborted"}),Yr=r=>({status:"dirty",value:r}),xn=r=>({status:"valid",value:r}),qy=r=>r.status==="aborted",Hy=r=>r.status==="dirty",qi=r=>r.status==="valid",ao=r=>typeof Promise<"u"&&r instanceof Promise;var re;(function(r){r.errToObj=n=>typeof n=="string"?{message:n}:n||{},r.toString=n=>typeof n=="string"?n:n==null?void 0:n.message})(re||(re={}));class In{constructor(n,s,u,l){this._cachedPath=[],this.parent=n,this.data=s,this._path=u,this._key=l}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Gy=(r,n)=>{if(qi(n))return{success:!0,data:n.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new ha(r.common.issues);return this._error=s,this._error}}};function Ae(r){if(!r)return{};const{errorMap:n,invalid_type_error:s,required_error:u,description:l}=r;if(n&&(s||u))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return n?{errorMap:n,description:l}:{errorMap:(f,p)=>{const{message:y}=r;return f.code==="invalid_enum_value"?{message:y??p.defaultError}:typeof p.data>"u"?{message:y??u??p.defaultError}:f.code!=="invalid_type"?{message:p.defaultError}:{message:y??s??p.defaultError}},description:l}}class Me{get description(){return this._def.description}_getType(n){return Ga(n.data)}_getOrReturnCtx(n,s){return s||{common:n.parent.common,data:n.data,parsedType:Ga(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}_processInputParams(n){return{status:new It,ctx:{common:n.parent.common,data:n.data,parsedType:Ga(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}}_parseSync(n){const s=this._parse(n);if(ao(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(n){const s=this._parse(n);return Promise.resolve(s)}parse(n,s){const u=this.safeParse(n,s);if(u.success)return u.data;throw u.error}safeParse(n,s){const u={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:Ga(n)},l=this._parseSync({data:n,path:u.path,parent:u});return Gy(u,l)}"~validate"(n){var u,l;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:Ga(n)};if(!this["~standard"].async)try{const c=this._parseSync({data:n,path:[],parent:s});return qi(c)?{value:c.value}:{issues:s.common.issues}}catch(c){(l=(u=c==null?void 0:c.message)==null?void 0:u.toLowerCase())!=null&&l.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:n,path:[],parent:s}).then(c=>qi(c)?{value:c.value}:{issues:s.common.issues})}async parseAsync(n,s){const u=await this.safeParseAsync(n,s);if(u.success)return u.data;throw u.error}async safeParseAsync(n,s){const u={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:Ga(n)},l=this._parse({data:n,path:u.path,parent:u}),c=await(ao(l)?l:Promise.resolve(l));return Gy(u,c)}refine(n,s){const u=l=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(l):s;return this._refinement((l,c)=>{const f=n(l),p=()=>c.addIssue({code:$.custom,...u(l)});return typeof Promise<"u"&&f instanceof Promise?f.then(y=>y?!0:(p(),!1)):f?!0:(p(),!1)})}refinement(n,s){return this._refinement((u,l)=>n(u)?!0:(l.addIssue(typeof s=="function"?s(u,l):s),!1))}_refinement(n){return new ks({schema:this,typeName:be.ZodEffects,effect:{type:"refinement",refinement:n}})}superRefine(n){return this._refinement(n)}constructor(n){this.spa=this.safeParseAsync,this._def=n,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return da.create(this,this._def)}nullable(){return Rs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Hn.create(this)}promise(){return co.create(this,this._def)}or(n){return io.create([this,n],this._def)}and(n){return ro.create(this,n,this._def)}transform(n){return new ks({...Ae(this._def),schema:this,typeName:be.ZodEffects,effect:{type:"transform",transform:n}})}default(n){const s=typeof n=="function"?n:()=>n;return new fo({...Ae(this._def),innerType:this,defaultValue:s,typeName:be.ZodDefault})}brand(){return new Dv({typeName:be.ZodBranded,type:this,...Ae(this._def)})}catch(n){const s=typeof n=="function"?n:()=>n;return new ho({...Ae(this._def),innerType:this,catchValue:s,typeName:be.ZodCatch})}describe(n){const s=this.constructor;return new s({...this._def,description:n})}pipe(n){return qf.create(this,n)}readonly(){return po.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Px=/^c[^\s-]{8,}$/i,e1=/^[0-9a-z]+$/,t1=/^[0-9A-HJKMNP-TV-Z]{26}$/i,n1=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,a1=/^[a-z0-9_-]{21}$/i,s1=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,i1=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,r1=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,u1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let tf;const l1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,o1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,c1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,d1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,f1=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,h1=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Cv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",p1=new RegExp(`^${Cv}$`);function kv(r){let n="[0-5]\\d";r.precision?n=`${n}\\.\\d{${r.precision}}`:r.precision==null&&(n=`${n}(\\.\\d+)?`);const s=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${n})${s}`}function m1(r){return new RegExp(`^${kv(r)}$`)}function g1(r){let n=`${Cv}T${kv(r)}`;const s=[];return s.push(r.local?"Z?":"Z"),r.offset&&s.push("([+-]\\d{2}:?\\d{2})"),n=`${n}(${s.join("|")})`,new RegExp(`^${n}$`)}function y1(r,n){return!!((n==="v4"||!n)&&l1.test(r)||(n==="v6"||!n)&&c1.test(r))}function v1(r,n){if(!s1.test(r))return!1;try{const[s]=r.split("."),u=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),l=JSON.parse(atob(u));return!(typeof l!="object"||l===null||"typ"in l&&(l==null?void 0:l.typ)!=="JWT"||!l.alg||n&&l.alg!==n)}catch{return!1}}function _1(r,n){return!!((n==="v4"||!n)&&o1.test(r)||(n==="v6"||!n)&&d1.test(r))}class ca extends Me{_parse(n){if(this._def.coerce&&(n.data=String(n.data)),this._getType(n)!==te.string){const c=this._getOrReturnCtx(n);return F(c,{code:$.invalid_type,expected:te.string,received:c.parsedType}),_e}const u=new It;let l;for(const c of this._def.checks)if(c.kind==="min")n.data.length<c.value&&(l=this._getOrReturnCtx(n,l),F(l,{code:$.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),u.dirty());else if(c.kind==="max")n.data.length>c.value&&(l=this._getOrReturnCtx(n,l),F(l,{code:$.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),u.dirty());else if(c.kind==="length"){const f=n.data.length>c.value,p=n.data.length<c.value;(f||p)&&(l=this._getOrReturnCtx(n,l),f?F(l,{code:$.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):p&&F(l,{code:$.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),u.dirty())}else if(c.kind==="email")r1.test(n.data)||(l=this._getOrReturnCtx(n,l),F(l,{validation:"email",code:$.invalid_string,message:c.message}),u.dirty());else if(c.kind==="emoji")tf||(tf=new RegExp(u1,"u")),tf.test(n.data)||(l=this._getOrReturnCtx(n,l),F(l,{validation:"emoji",code:$.invalid_string,message:c.message}),u.dirty());else if(c.kind==="uuid")n1.test(n.data)||(l=this._getOrReturnCtx(n,l),F(l,{validation:"uuid",code:$.invalid_string,message:c.message}),u.dirty());else if(c.kind==="nanoid")a1.test(n.data)||(l=this._getOrReturnCtx(n,l),F(l,{validation:"nanoid",code:$.invalid_string,message:c.message}),u.dirty());else if(c.kind==="cuid")Px.test(n.data)||(l=this._getOrReturnCtx(n,l),F(l,{validation:"cuid",code:$.invalid_string,message:c.message}),u.dirty());else if(c.kind==="cuid2")e1.test(n.data)||(l=this._getOrReturnCtx(n,l),F(l,{validation:"cuid2",code:$.invalid_string,message:c.message}),u.dirty());else if(c.kind==="ulid")t1.test(n.data)||(l=this._getOrReturnCtx(n,l),F(l,{validation:"ulid",code:$.invalid_string,message:c.message}),u.dirty());else if(c.kind==="url")try{new URL(n.data)}catch{l=this._getOrReturnCtx(n,l),F(l,{validation:"url",code:$.invalid_string,message:c.message}),u.dirty()}else c.kind==="regex"?(c.regex.lastIndex=0,c.regex.test(n.data)||(l=this._getOrReturnCtx(n,l),F(l,{validation:"regex",code:$.invalid_string,message:c.message}),u.dirty())):c.kind==="trim"?n.data=n.data.trim():c.kind==="includes"?n.data.includes(c.value,c.position)||(l=this._getOrReturnCtx(n,l),F(l,{code:$.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),u.dirty()):c.kind==="toLowerCase"?n.data=n.data.toLowerCase():c.kind==="toUpperCase"?n.data=n.data.toUpperCase():c.kind==="startsWith"?n.data.startsWith(c.value)||(l=this._getOrReturnCtx(n,l),F(l,{code:$.invalid_string,validation:{startsWith:c.value},message:c.message}),u.dirty()):c.kind==="endsWith"?n.data.endsWith(c.value)||(l=this._getOrReturnCtx(n,l),F(l,{code:$.invalid_string,validation:{endsWith:c.value},message:c.message}),u.dirty()):c.kind==="datetime"?g1(c).test(n.data)||(l=this._getOrReturnCtx(n,l),F(l,{code:$.invalid_string,validation:"datetime",message:c.message}),u.dirty()):c.kind==="date"?p1.test(n.data)||(l=this._getOrReturnCtx(n,l),F(l,{code:$.invalid_string,validation:"date",message:c.message}),u.dirty()):c.kind==="time"?m1(c).test(n.data)||(l=this._getOrReturnCtx(n,l),F(l,{code:$.invalid_string,validation:"time",message:c.message}),u.dirty()):c.kind==="duration"?i1.test(n.data)||(l=this._getOrReturnCtx(n,l),F(l,{validation:"duration",code:$.invalid_string,message:c.message}),u.dirty()):c.kind==="ip"?y1(n.data,c.version)||(l=this._getOrReturnCtx(n,l),F(l,{validation:"ip",code:$.invalid_string,message:c.message}),u.dirty()):c.kind==="jwt"?v1(n.data,c.alg)||(l=this._getOrReturnCtx(n,l),F(l,{validation:"jwt",code:$.invalid_string,message:c.message}),u.dirty()):c.kind==="cidr"?_1(n.data,c.version)||(l=this._getOrReturnCtx(n,l),F(l,{validation:"cidr",code:$.invalid_string,message:c.message}),u.dirty()):c.kind==="base64"?f1.test(n.data)||(l=this._getOrReturnCtx(n,l),F(l,{validation:"base64",code:$.invalid_string,message:c.message}),u.dirty()):c.kind==="base64url"?h1.test(n.data)||(l=this._getOrReturnCtx(n,l),F(l,{validation:"base64url",code:$.invalid_string,message:c.message}),u.dirty()):Ze.assertNever(c);return{status:u.value,value:n.data}}_regex(n,s,u){return this.refinement(l=>n.test(l),{validation:s,code:$.invalid_string,...re.errToObj(u)})}_addCheck(n){return new ca({...this._def,checks:[...this._def.checks,n]})}email(n){return this._addCheck({kind:"email",...re.errToObj(n)})}url(n){return this._addCheck({kind:"url",...re.errToObj(n)})}emoji(n){return this._addCheck({kind:"emoji",...re.errToObj(n)})}uuid(n){return this._addCheck({kind:"uuid",...re.errToObj(n)})}nanoid(n){return this._addCheck({kind:"nanoid",...re.errToObj(n)})}cuid(n){return this._addCheck({kind:"cuid",...re.errToObj(n)})}cuid2(n){return this._addCheck({kind:"cuid2",...re.errToObj(n)})}ulid(n){return this._addCheck({kind:"ulid",...re.errToObj(n)})}base64(n){return this._addCheck({kind:"base64",...re.errToObj(n)})}base64url(n){return this._addCheck({kind:"base64url",...re.errToObj(n)})}jwt(n){return this._addCheck({kind:"jwt",...re.errToObj(n)})}ip(n){return this._addCheck({kind:"ip",...re.errToObj(n)})}cidr(n){return this._addCheck({kind:"cidr",...re.errToObj(n)})}datetime(n){return typeof n=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:n}):this._addCheck({kind:"datetime",precision:typeof(n==null?void 0:n.precision)>"u"?null:n==null?void 0:n.precision,offset:(n==null?void 0:n.offset)??!1,local:(n==null?void 0:n.local)??!1,...re.errToObj(n==null?void 0:n.message)})}date(n){return this._addCheck({kind:"date",message:n})}time(n){return typeof n=="string"?this._addCheck({kind:"time",precision:null,message:n}):this._addCheck({kind:"time",precision:typeof(n==null?void 0:n.precision)>"u"?null:n==null?void 0:n.precision,...re.errToObj(n==null?void 0:n.message)})}duration(n){return this._addCheck({kind:"duration",...re.errToObj(n)})}regex(n,s){return this._addCheck({kind:"regex",regex:n,...re.errToObj(s)})}includes(n,s){return this._addCheck({kind:"includes",value:n,position:s==null?void 0:s.position,...re.errToObj(s==null?void 0:s.message)})}startsWith(n,s){return this._addCheck({kind:"startsWith",value:n,...re.errToObj(s)})}endsWith(n,s){return this._addCheck({kind:"endsWith",value:n,...re.errToObj(s)})}min(n,s){return this._addCheck({kind:"min",value:n,...re.errToObj(s)})}max(n,s){return this._addCheck({kind:"max",value:n,...re.errToObj(s)})}length(n,s){return this._addCheck({kind:"length",value:n,...re.errToObj(s)})}nonempty(n){return this.min(1,re.errToObj(n))}trim(){return new ca({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ca({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ca({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(n=>n.kind==="datetime")}get isDate(){return!!this._def.checks.find(n=>n.kind==="date")}get isTime(){return!!this._def.checks.find(n=>n.kind==="time")}get isDuration(){return!!this._def.checks.find(n=>n.kind==="duration")}get isEmail(){return!!this._def.checks.find(n=>n.kind==="email")}get isURL(){return!!this._def.checks.find(n=>n.kind==="url")}get isEmoji(){return!!this._def.checks.find(n=>n.kind==="emoji")}get isUUID(){return!!this._def.checks.find(n=>n.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(n=>n.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(n=>n.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(n=>n.kind==="cuid2")}get isULID(){return!!this._def.checks.find(n=>n.kind==="ulid")}get isIP(){return!!this._def.checks.find(n=>n.kind==="ip")}get isCIDR(){return!!this._def.checks.find(n=>n.kind==="cidr")}get isBase64(){return!!this._def.checks.find(n=>n.kind==="base64")}get isBase64url(){return!!this._def.checks.find(n=>n.kind==="base64url")}get minLength(){let n=null;for(const s of this._def.checks)s.kind==="min"&&(n===null||s.value>n)&&(n=s.value);return n}get maxLength(){let n=null;for(const s of this._def.checks)s.kind==="max"&&(n===null||s.value<n)&&(n=s.value);return n}}ca.create=r=>new ca({checks:[],typeName:be.ZodString,coerce:(r==null?void 0:r.coerce)??!1,...Ae(r)});function b1(r,n){const s=(r.toString().split(".")[1]||"").length,u=(n.toString().split(".")[1]||"").length,l=s>u?s:u,c=Number.parseInt(r.toFixed(l).replace(".","")),f=Number.parseInt(n.toFixed(l).replace(".",""));return c%f/10**l}class Hi extends Me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(n){if(this._def.coerce&&(n.data=Number(n.data)),this._getType(n)!==te.number){const c=this._getOrReturnCtx(n);return F(c,{code:$.invalid_type,expected:te.number,received:c.parsedType}),_e}let u;const l=new It;for(const c of this._def.checks)c.kind==="int"?Ze.isInteger(n.data)||(u=this._getOrReturnCtx(n,u),F(u,{code:$.invalid_type,expected:"integer",received:"float",message:c.message}),l.dirty()):c.kind==="min"?(c.inclusive?n.data<c.value:n.data<=c.value)&&(u=this._getOrReturnCtx(n,u),F(u,{code:$.too_small,minimum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),l.dirty()):c.kind==="max"?(c.inclusive?n.data>c.value:n.data>=c.value)&&(u=this._getOrReturnCtx(n,u),F(u,{code:$.too_big,maximum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),l.dirty()):c.kind==="multipleOf"?b1(n.data,c.value)!==0&&(u=this._getOrReturnCtx(n,u),F(u,{code:$.not_multiple_of,multipleOf:c.value,message:c.message}),l.dirty()):c.kind==="finite"?Number.isFinite(n.data)||(u=this._getOrReturnCtx(n,u),F(u,{code:$.not_finite,message:c.message}),l.dirty()):Ze.assertNever(c);return{status:l.value,value:n.data}}gte(n,s){return this.setLimit("min",n,!0,re.toString(s))}gt(n,s){return this.setLimit("min",n,!1,re.toString(s))}lte(n,s){return this.setLimit("max",n,!0,re.toString(s))}lt(n,s){return this.setLimit("max",n,!1,re.toString(s))}setLimit(n,s,u,l){return new Hi({...this._def,checks:[...this._def.checks,{kind:n,value:s,inclusive:u,message:re.toString(l)}]})}_addCheck(n){return new Hi({...this._def,checks:[...this._def.checks,n]})}int(n){return this._addCheck({kind:"int",message:re.toString(n)})}positive(n){return this._addCheck({kind:"min",value:0,inclusive:!1,message:re.toString(n)})}negative(n){return this._addCheck({kind:"max",value:0,inclusive:!1,message:re.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:0,inclusive:!0,message:re.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:0,inclusive:!0,message:re.toString(n)})}multipleOf(n,s){return this._addCheck({kind:"multipleOf",value:n,message:re.toString(s)})}finite(n){return this._addCheck({kind:"finite",message:re.toString(n)})}safe(n){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:re.toString(n)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:re.toString(n)})}get minValue(){let n=null;for(const s of this._def.checks)s.kind==="min"&&(n===null||s.value>n)&&(n=s.value);return n}get maxValue(){let n=null;for(const s of this._def.checks)s.kind==="max"&&(n===null||s.value<n)&&(n=s.value);return n}get isInt(){return!!this._def.checks.find(n=>n.kind==="int"||n.kind==="multipleOf"&&Ze.isInteger(n.value))}get isFinite(){let n=null,s=null;for(const u of this._def.checks){if(u.kind==="finite"||u.kind==="int"||u.kind==="multipleOf")return!0;u.kind==="min"?(s===null||u.value>s)&&(s=u.value):u.kind==="max"&&(n===null||u.value<n)&&(n=u.value)}return Number.isFinite(s)&&Number.isFinite(n)}}Hi.create=r=>new Hi({checks:[],typeName:be.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...Ae(r)});class eu extends Me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(n){if(this._def.coerce)try{n.data=BigInt(n.data)}catch{return this._getInvalidInput(n)}if(this._getType(n)!==te.bigint)return this._getInvalidInput(n);let u;const l=new It;for(const c of this._def.checks)c.kind==="min"?(c.inclusive?n.data<c.value:n.data<=c.value)&&(u=this._getOrReturnCtx(n,u),F(u,{code:$.too_small,type:"bigint",minimum:c.value,inclusive:c.inclusive,message:c.message}),l.dirty()):c.kind==="max"?(c.inclusive?n.data>c.value:n.data>=c.value)&&(u=this._getOrReturnCtx(n,u),F(u,{code:$.too_big,type:"bigint",maximum:c.value,inclusive:c.inclusive,message:c.message}),l.dirty()):c.kind==="multipleOf"?n.data%c.value!==BigInt(0)&&(u=this._getOrReturnCtx(n,u),F(u,{code:$.not_multiple_of,multipleOf:c.value,message:c.message}),l.dirty()):Ze.assertNever(c);return{status:l.value,value:n.data}}_getInvalidInput(n){const s=this._getOrReturnCtx(n);return F(s,{code:$.invalid_type,expected:te.bigint,received:s.parsedType}),_e}gte(n,s){return this.setLimit("min",n,!0,re.toString(s))}gt(n,s){return this.setLimit("min",n,!1,re.toString(s))}lte(n,s){return this.setLimit("max",n,!0,re.toString(s))}lt(n,s){return this.setLimit("max",n,!1,re.toString(s))}setLimit(n,s,u,l){return new eu({...this._def,checks:[...this._def.checks,{kind:n,value:s,inclusive:u,message:re.toString(l)}]})}_addCheck(n){return new eu({...this._def,checks:[...this._def.checks,n]})}positive(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:re.toString(n)})}negative(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:re.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:re.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:re.toString(n)})}multipleOf(n,s){return this._addCheck({kind:"multipleOf",value:n,message:re.toString(s)})}get minValue(){let n=null;for(const s of this._def.checks)s.kind==="min"&&(n===null||s.value>n)&&(n=s.value);return n}get maxValue(){let n=null;for(const s of this._def.checks)s.kind==="max"&&(n===null||s.value<n)&&(n=s.value);return n}}eu.create=r=>new eu({checks:[],typeName:be.ZodBigInt,coerce:(r==null?void 0:r.coerce)??!1,...Ae(r)});class bf extends Me{_parse(n){if(this._def.coerce&&(n.data=!!n.data),this._getType(n)!==te.boolean){const u=this._getOrReturnCtx(n);return F(u,{code:$.invalid_type,expected:te.boolean,received:u.parsedType}),_e}return xn(n.data)}}bf.create=r=>new bf({typeName:be.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...Ae(r)});class so extends Me{_parse(n){if(this._def.coerce&&(n.data=new Date(n.data)),this._getType(n)!==te.date){const c=this._getOrReturnCtx(n);return F(c,{code:$.invalid_type,expected:te.date,received:c.parsedType}),_e}if(Number.isNaN(n.data.getTime())){const c=this._getOrReturnCtx(n);return F(c,{code:$.invalid_date}),_e}const u=new It;let l;for(const c of this._def.checks)c.kind==="min"?n.data.getTime()<c.value&&(l=this._getOrReturnCtx(n,l),F(l,{code:$.too_small,message:c.message,inclusive:!0,exact:!1,minimum:c.value,type:"date"}),u.dirty()):c.kind==="max"?n.data.getTime()>c.value&&(l=this._getOrReturnCtx(n,l),F(l,{code:$.too_big,message:c.message,inclusive:!0,exact:!1,maximum:c.value,type:"date"}),u.dirty()):Ze.assertNever(c);return{status:u.value,value:new Date(n.data.getTime())}}_addCheck(n){return new so({...this._def,checks:[...this._def.checks,n]})}min(n,s){return this._addCheck({kind:"min",value:n.getTime(),message:re.toString(s)})}max(n,s){return this._addCheck({kind:"max",value:n.getTime(),message:re.toString(s)})}get minDate(){let n=null;for(const s of this._def.checks)s.kind==="min"&&(n===null||s.value>n)&&(n=s.value);return n!=null?new Date(n):null}get maxDate(){let n=null;for(const s of this._def.checks)s.kind==="max"&&(n===null||s.value<n)&&(n=s.value);return n!=null?new Date(n):null}}so.create=r=>new so({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:be.ZodDate,...Ae(r)});class Iy extends Me{_parse(n){if(this._getType(n)!==te.symbol){const u=this._getOrReturnCtx(n);return F(u,{code:$.invalid_type,expected:te.symbol,received:u.parsedType}),_e}return xn(n.data)}}Iy.create=r=>new Iy({typeName:be.ZodSymbol,...Ae(r)});class Sf extends Me{_parse(n){if(this._getType(n)!==te.undefined){const u=this._getOrReturnCtx(n);return F(u,{code:$.invalid_type,expected:te.undefined,received:u.parsedType}),_e}return xn(n.data)}}Sf.create=r=>new Sf({typeName:be.ZodUndefined,...Ae(r)});class xf extends Me{_parse(n){if(this._getType(n)!==te.null){const u=this._getOrReturnCtx(n);return F(u,{code:$.invalid_type,expected:te.null,received:u.parsedType}),_e}return xn(n.data)}}xf.create=r=>new xf({typeName:be.ZodNull,...Ae(r)});class Tf extends Me{constructor(){super(...arguments),this._any=!0}_parse(n){return xn(n.data)}}Tf.create=r=>new Tf({typeName:be.ZodAny,...Ae(r)});class $y extends Me{constructor(){super(...arguments),this._unknown=!0}_parse(n){return xn(n.data)}}$y.create=r=>new $y({typeName:be.ZodUnknown,...Ae(r)});class Wa extends Me{_parse(n){const s=this._getOrReturnCtx(n);return F(s,{code:$.invalid_type,expected:te.never,received:s.parsedType}),_e}}Wa.create=r=>new Wa({typeName:be.ZodNever,...Ae(r)});class Vy extends Me{_parse(n){if(this._getType(n)!==te.undefined){const u=this._getOrReturnCtx(n);return F(u,{code:$.invalid_type,expected:te.void,received:u.parsedType}),_e}return xn(n.data)}}Vy.create=r=>new Vy({typeName:be.ZodVoid,...Ae(r)});class Hn extends Me{_parse(n){const{ctx:s,status:u}=this._processInputParams(n),l=this._def;if(s.parsedType!==te.array)return F(s,{code:$.invalid_type,expected:te.array,received:s.parsedType}),_e;if(l.exactLength!==null){const f=s.data.length>l.exactLength.value,p=s.data.length<l.exactLength.value;(f||p)&&(F(s,{code:f?$.too_big:$.too_small,minimum:p?l.exactLength.value:void 0,maximum:f?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),u.dirty())}if(l.minLength!==null&&s.data.length<l.minLength.value&&(F(s,{code:$.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),u.dirty()),l.maxLength!==null&&s.data.length>l.maxLength.value&&(F(s,{code:$.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),u.dirty()),s.common.async)return Promise.all([...s.data].map((f,p)=>l.type._parseAsync(new In(s,f,s.path,p)))).then(f=>It.mergeArray(u,f));const c=[...s.data].map((f,p)=>l.type._parseSync(new In(s,f,s.path,p)));return It.mergeArray(u,c)}get element(){return this._def.type}min(n,s){return new Hn({...this._def,minLength:{value:n,message:re.toString(s)}})}max(n,s){return new Hn({...this._def,maxLength:{value:n,message:re.toString(s)}})}length(n,s){return new Hn({...this._def,exactLength:{value:n,message:re.toString(s)}})}nonempty(n){return this.min(1,n)}}Hn.create=(r,n)=>new Hn({type:r,minLength:null,maxLength:null,exactLength:null,typeName:be.ZodArray,...Ae(n)});function xi(r){if(r instanceof St){const n={};for(const s in r.shape){const u=r.shape[s];n[s]=da.create(xi(u))}return new St({...r._def,shape:()=>n})}else return r instanceof Hn?new Hn({...r._def,type:xi(r.element)}):r instanceof da?da.create(xi(r.unwrap())):r instanceof Rs?Rs.create(xi(r.unwrap())):r instanceof Ns?Ns.create(r.items.map(n=>xi(n))):r}class St extends Me{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const n=this._def.shape(),s=Ze.objectKeys(n);return this._cached={shape:n,keys:s},this._cached}_parse(n){if(this._getType(n)!==te.object){const m=this._getOrReturnCtx(n);return F(m,{code:$.invalid_type,expected:te.object,received:m.parsedType}),_e}const{status:u,ctx:l}=this._processInputParams(n),{shape:c,keys:f}=this._getCached(),p=[];if(!(this._def.catchall instanceof Wa&&this._def.unknownKeys==="strip"))for(const m in l.data)f.includes(m)||p.push(m);const y=[];for(const m of f){const v=c[m],A=l.data[m];y.push({key:{status:"valid",value:m},value:v._parse(new In(l,A,l.path,m)),alwaysSet:m in l.data})}if(this._def.catchall instanceof Wa){const m=this._def.unknownKeys;if(m==="passthrough")for(const v of p)y.push({key:{status:"valid",value:v},value:{status:"valid",value:l.data[v]}});else if(m==="strict")p.length>0&&(F(l,{code:$.unrecognized_keys,keys:p}),u.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const v of p){const A=l.data[v];y.push({key:{status:"valid",value:v},value:m._parse(new In(l,A,l.path,v)),alwaysSet:v in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const m=[];for(const v of y){const A=await v.key,w=await v.value;m.push({key:A,value:w,alwaysSet:v.alwaysSet})}return m}).then(m=>It.mergeObjectSync(u,m)):It.mergeObjectSync(u,y)}get shape(){return this._def.shape()}strict(n){return re.errToObj,new St({...this._def,unknownKeys:"strict",...n!==void 0?{errorMap:(s,u)=>{var c,f;const l=((f=(c=this._def).errorMap)==null?void 0:f.call(c,s,u).message)??u.defaultError;return s.code==="unrecognized_keys"?{message:re.errToObj(n).message??l}:{message:l}}}:{}})}strip(){return new St({...this._def,unknownKeys:"strip"})}passthrough(){return new St({...this._def,unknownKeys:"passthrough"})}extend(n){return new St({...this._def,shape:()=>({...this._def.shape(),...n})})}merge(n){return new St({unknownKeys:n._def.unknownKeys,catchall:n._def.catchall,shape:()=>({...this._def.shape(),...n._def.shape()}),typeName:be.ZodObject})}setKey(n,s){return this.augment({[n]:s})}catchall(n){return new St({...this._def,catchall:n})}pick(n){const s={};for(const u of Ze.objectKeys(n))n[u]&&this.shape[u]&&(s[u]=this.shape[u]);return new St({...this._def,shape:()=>s})}omit(n){const s={};for(const u of Ze.objectKeys(this.shape))n[u]||(s[u]=this.shape[u]);return new St({...this._def,shape:()=>s})}deepPartial(){return xi(this)}partial(n){const s={};for(const u of Ze.objectKeys(this.shape)){const l=this.shape[u];n&&!n[u]?s[u]=l:s[u]=l.optional()}return new St({...this._def,shape:()=>s})}required(n){const s={};for(const u of Ze.objectKeys(this.shape))if(n&&!n[u])s[u]=this.shape[u];else{let c=this.shape[u];for(;c instanceof da;)c=c._def.innerType;s[u]=c}return new St({...this._def,shape:()=>s})}keyof(){return Rv(Ze.objectKeys(this.shape))}}St.create=(r,n)=>new St({shape:()=>r,unknownKeys:"strip",catchall:Wa.create(),typeName:be.ZodObject,...Ae(n)});St.strictCreate=(r,n)=>new St({shape:()=>r,unknownKeys:"strict",catchall:Wa.create(),typeName:be.ZodObject,...Ae(n)});St.lazycreate=(r,n)=>new St({shape:r,unknownKeys:"strip",catchall:Wa.create(),typeName:be.ZodObject,...Ae(n)});class io extends Me{_parse(n){const{ctx:s}=this._processInputParams(n),u=this._def.options;function l(c){for(const p of c)if(p.result.status==="valid")return p.result;for(const p of c)if(p.result.status==="dirty")return s.common.issues.push(...p.ctx.common.issues),p.result;const f=c.map(p=>new ha(p.ctx.common.issues));return F(s,{code:$.invalid_union,unionErrors:f}),_e}if(s.common.async)return Promise.all(u.map(async c=>{const f={...s,common:{...s.common,issues:[]},parent:null};return{result:await c._parseAsync({data:s.data,path:s.path,parent:f}),ctx:f}})).then(l);{let c;const f=[];for(const y of u){const m={...s,common:{...s.common,issues:[]},parent:null},v=y._parseSync({data:s.data,path:s.path,parent:m});if(v.status==="valid")return v;v.status==="dirty"&&!c&&(c={result:v,ctx:m}),m.common.issues.length&&f.push(m.common.issues)}if(c)return s.common.issues.push(...c.ctx.common.issues),c.result;const p=f.map(y=>new ha(y));return F(s,{code:$.invalid_union,unionErrors:p}),_e}}get options(){return this._def.options}}io.create=(r,n)=>new io({options:r,typeName:be.ZodUnion,...Ae(n)});const ia=r=>r instanceof lo?ia(r.schema):r instanceof ks?ia(r.innerType()):r instanceof oo?[r.value]:r instanceof Cs?r.options:r instanceof wf?Ze.objectValues(r.enum):r instanceof fo?ia(r._def.innerType):r instanceof Sf?[void 0]:r instanceof xf?[null]:r instanceof da?[void 0,...ia(r.unwrap())]:r instanceof Rs?[null,...ia(r.unwrap())]:r instanceof Dv||r instanceof po?ia(r.unwrap()):r instanceof ho?ia(r._def.innerType):[];class Bf extends Me{_parse(n){const{ctx:s}=this._processInputParams(n);if(s.parsedType!==te.object)return F(s,{code:$.invalid_type,expected:te.object,received:s.parsedType}),_e;const u=this.discriminator,l=s.data[u],c=this.optionsMap.get(l);return c?s.common.async?c._parseAsync({data:s.data,path:s.path,parent:s}):c._parseSync({data:s.data,path:s.path,parent:s}):(F(s,{code:$.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[u]}),_e)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(n,s,u){const l=new Map;for(const c of s){const f=ia(c.shape[n]);if(!f.length)throw new Error(`A discriminator value for key \`${n}\` could not be extracted from all schema options`);for(const p of f){if(l.has(p))throw new Error(`Discriminator property ${String(n)} has duplicate value ${String(p)}`);l.set(p,c)}}return new Bf({typeName:be.ZodDiscriminatedUnion,discriminator:n,options:s,optionsMap:l,...Ae(u)})}}function Af(r,n){const s=Ga(r),u=Ga(n);if(r===n)return{valid:!0,data:r};if(s===te.object&&u===te.object){const l=Ze.objectKeys(n),c=Ze.objectKeys(r).filter(p=>l.indexOf(p)!==-1),f={...r,...n};for(const p of c){const y=Af(r[p],n[p]);if(!y.valid)return{valid:!1};f[p]=y.data}return{valid:!0,data:f}}else if(s===te.array&&u===te.array){if(r.length!==n.length)return{valid:!1};const l=[];for(let c=0;c<r.length;c++){const f=r[c],p=n[c],y=Af(f,p);if(!y.valid)return{valid:!1};l.push(y.data)}return{valid:!0,data:l}}else return s===te.date&&u===te.date&&+r==+n?{valid:!0,data:r}:{valid:!1}}class ro extends Me{_parse(n){const{status:s,ctx:u}=this._processInputParams(n),l=(c,f)=>{if(qy(c)||qy(f))return _e;const p=Af(c.value,f.value);return p.valid?((Hy(c)||Hy(f))&&s.dirty(),{status:s.value,value:p.data}):(F(u,{code:$.invalid_intersection_types}),_e)};return u.common.async?Promise.all([this._def.left._parseAsync({data:u.data,path:u.path,parent:u}),this._def.right._parseAsync({data:u.data,path:u.path,parent:u})]).then(([c,f])=>l(c,f)):l(this._def.left._parseSync({data:u.data,path:u.path,parent:u}),this._def.right._parseSync({data:u.data,path:u.path,parent:u}))}}ro.create=(r,n,s)=>new ro({left:r,right:n,typeName:be.ZodIntersection,...Ae(s)});class Ns extends Me{_parse(n){const{status:s,ctx:u}=this._processInputParams(n);if(u.parsedType!==te.array)return F(u,{code:$.invalid_type,expected:te.array,received:u.parsedType}),_e;if(u.data.length<this._def.items.length)return F(u,{code:$.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_e;!this._def.rest&&u.data.length>this._def.items.length&&(F(u,{code:$.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const c=[...u.data].map((f,p)=>{const y=this._def.items[p]||this._def.rest;return y?y._parse(new In(u,f,u.path,p)):null}).filter(f=>!!f);return u.common.async?Promise.all(c).then(f=>It.mergeArray(s,f)):It.mergeArray(s,c)}get items(){return this._def.items}rest(n){return new Ns({...this._def,rest:n})}}Ns.create=(r,n)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ns({items:r,typeName:be.ZodTuple,rest:null,...Ae(n)})};class uo extends Me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){const{status:s,ctx:u}=this._processInputParams(n);if(u.parsedType!==te.object)return F(u,{code:$.invalid_type,expected:te.object,received:u.parsedType}),_e;const l=[],c=this._def.keyType,f=this._def.valueType;for(const p in u.data)l.push({key:c._parse(new In(u,p,u.path,p)),value:f._parse(new In(u,u.data[p],u.path,p)),alwaysSet:p in u.data});return u.common.async?It.mergeObjectAsync(s,l):It.mergeObjectSync(s,l)}get element(){return this._def.valueType}static create(n,s,u){return s instanceof Me?new uo({keyType:n,valueType:s,typeName:be.ZodRecord,...Ae(u)}):new uo({keyType:ca.create(),valueType:n,typeName:be.ZodRecord,...Ae(s)})}}class Yy extends Me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){const{status:s,ctx:u}=this._processInputParams(n);if(u.parsedType!==te.map)return F(u,{code:$.invalid_type,expected:te.map,received:u.parsedType}),_e;const l=this._def.keyType,c=this._def.valueType,f=[...u.data.entries()].map(([p,y],m)=>({key:l._parse(new In(u,p,u.path,[m,"key"])),value:c._parse(new In(u,y,u.path,[m,"value"]))}));if(u.common.async){const p=new Map;return Promise.resolve().then(async()=>{for(const y of f){const m=await y.key,v=await y.value;if(m.status==="aborted"||v.status==="aborted")return _e;(m.status==="dirty"||v.status==="dirty")&&s.dirty(),p.set(m.value,v.value)}return{status:s.value,value:p}})}else{const p=new Map;for(const y of f){const m=y.key,v=y.value;if(m.status==="aborted"||v.status==="aborted")return _e;(m.status==="dirty"||v.status==="dirty")&&s.dirty(),p.set(m.value,v.value)}return{status:s.value,value:p}}}}Yy.create=(r,n,s)=>new Yy({valueType:n,keyType:r,typeName:be.ZodMap,...Ae(s)});class tu extends Me{_parse(n){const{status:s,ctx:u}=this._processInputParams(n);if(u.parsedType!==te.set)return F(u,{code:$.invalid_type,expected:te.set,received:u.parsedType}),_e;const l=this._def;l.minSize!==null&&u.data.size<l.minSize.value&&(F(u,{code:$.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),s.dirty()),l.maxSize!==null&&u.data.size>l.maxSize.value&&(F(u,{code:$.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),s.dirty());const c=this._def.valueType;function f(y){const m=new Set;for(const v of y){if(v.status==="aborted")return _e;v.status==="dirty"&&s.dirty(),m.add(v.value)}return{status:s.value,value:m}}const p=[...u.data.values()].map((y,m)=>c._parse(new In(u,y,u.path,m)));return u.common.async?Promise.all(p).then(y=>f(y)):f(p)}min(n,s){return new tu({...this._def,minSize:{value:n,message:re.toString(s)}})}max(n,s){return new tu({...this._def,maxSize:{value:n,message:re.toString(s)}})}size(n,s){return this.min(n,s).max(n,s)}nonempty(n){return this.min(1,n)}}tu.create=(r,n)=>new tu({valueType:r,minSize:null,maxSize:null,typeName:be.ZodSet,...Ae(n)});class lo extends Me{get schema(){return this._def.getter()}_parse(n){const{ctx:s}=this._processInputParams(n);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}lo.create=(r,n)=>new lo({getter:r,typeName:be.ZodLazy,...Ae(n)});class oo extends Me{_parse(n){if(n.data!==this._def.value){const s=this._getOrReturnCtx(n);return F(s,{received:s.data,code:$.invalid_literal,expected:this._def.value}),_e}return{status:"valid",value:n.data}}get value(){return this._def.value}}oo.create=(r,n)=>new oo({value:r,typeName:be.ZodLiteral,...Ae(n)});function Rv(r,n){return new Cs({values:r,typeName:be.ZodEnum,...Ae(n)})}class Cs extends Me{_parse(n){if(typeof n.data!="string"){const s=this._getOrReturnCtx(n),u=this._def.values;return F(s,{expected:Ze.joinValues(u),received:s.parsedType,code:$.invalid_type}),_e}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(n.data)){const s=this._getOrReturnCtx(n),u=this._def.values;return F(s,{received:s.data,code:$.invalid_enum_value,options:u}),_e}return xn(n.data)}get options(){return this._def.values}get enum(){const n={};for(const s of this._def.values)n[s]=s;return n}get Values(){const n={};for(const s of this._def.values)n[s]=s;return n}get Enum(){const n={};for(const s of this._def.values)n[s]=s;return n}extract(n,s=this._def){return Cs.create(n,{...this._def,...s})}exclude(n,s=this._def){return Cs.create(this.options.filter(u=>!n.includes(u)),{...this._def,...s})}}Cs.create=Rv;class wf extends Me{_parse(n){const s=Ze.getValidEnumValues(this._def.values),u=this._getOrReturnCtx(n);if(u.parsedType!==te.string&&u.parsedType!==te.number){const l=Ze.objectValues(s);return F(u,{expected:Ze.joinValues(l),received:u.parsedType,code:$.invalid_type}),_e}if(this._cache||(this._cache=new Set(Ze.getValidEnumValues(this._def.values))),!this._cache.has(n.data)){const l=Ze.objectValues(s);return F(u,{received:u.data,code:$.invalid_enum_value,options:l}),_e}return xn(n.data)}get enum(){return this._def.values}}wf.create=(r,n)=>new wf({values:r,typeName:be.ZodNativeEnum,...Ae(n)});class co extends Me{unwrap(){return this._def.type}_parse(n){const{ctx:s}=this._processInputParams(n);if(s.parsedType!==te.promise&&s.common.async===!1)return F(s,{code:$.invalid_type,expected:te.promise,received:s.parsedType}),_e;const u=s.parsedType===te.promise?s.data:Promise.resolve(s.data);return xn(u.then(l=>this._def.type.parseAsync(l,{path:s.path,errorMap:s.common.contextualErrorMap})))}}co.create=(r,n)=>new co({type:r,typeName:be.ZodPromise,...Ae(n)});class ks extends Me{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===be.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(n){const{status:s,ctx:u}=this._processInputParams(n),l=this._def.effect||null,c={addIssue:f=>{F(u,f),f.fatal?s.abort():s.dirty()},get path(){return u.path}};if(c.addIssue=c.addIssue.bind(c),l.type==="preprocess"){const f=l.transform(u.data,c);if(u.common.async)return Promise.resolve(f).then(async p=>{if(s.value==="aborted")return _e;const y=await this._def.schema._parseAsync({data:p,path:u.path,parent:u});return y.status==="aborted"?_e:y.status==="dirty"||s.value==="dirty"?Yr(y.value):y});{if(s.value==="aborted")return _e;const p=this._def.schema._parseSync({data:f,path:u.path,parent:u});return p.status==="aborted"?_e:p.status==="dirty"||s.value==="dirty"?Yr(p.value):p}}if(l.type==="refinement"){const f=p=>{const y=l.refinement(p,c);if(u.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return p};if(u.common.async===!1){const p=this._def.schema._parseSync({data:u.data,path:u.path,parent:u});return p.status==="aborted"?_e:(p.status==="dirty"&&s.dirty(),f(p.value),{status:s.value,value:p.value})}else return this._def.schema._parseAsync({data:u.data,path:u.path,parent:u}).then(p=>p.status==="aborted"?_e:(p.status==="dirty"&&s.dirty(),f(p.value).then(()=>({status:s.value,value:p.value}))))}if(l.type==="transform")if(u.common.async===!1){const f=this._def.schema._parseSync({data:u.data,path:u.path,parent:u});if(!qi(f))return _e;const p=l.transform(f.value,c);if(p instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:p}}else return this._def.schema._parseAsync({data:u.data,path:u.path,parent:u}).then(f=>qi(f)?Promise.resolve(l.transform(f.value,c)).then(p=>({status:s.value,value:p})):_e);Ze.assertNever(l)}}ks.create=(r,n,s)=>new ks({schema:r,typeName:be.ZodEffects,effect:n,...Ae(s)});ks.createWithPreprocess=(r,n,s)=>new ks({schema:n,effect:{type:"preprocess",transform:r},typeName:be.ZodEffects,...Ae(s)});class da extends Me{_parse(n){return this._getType(n)===te.undefined?xn(void 0):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}da.create=(r,n)=>new da({innerType:r,typeName:be.ZodOptional,...Ae(n)});class Rs extends Me{_parse(n){return this._getType(n)===te.null?xn(null):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}Rs.create=(r,n)=>new Rs({innerType:r,typeName:be.ZodNullable,...Ae(n)});class fo extends Me{_parse(n){const{ctx:s}=this._processInputParams(n);let u=s.data;return s.parsedType===te.undefined&&(u=this._def.defaultValue()),this._def.innerType._parse({data:u,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}fo.create=(r,n)=>new fo({innerType:r,typeName:be.ZodDefault,defaultValue:typeof n.default=="function"?n.default:()=>n.default,...Ae(n)});class ho extends Me{_parse(n){const{ctx:s}=this._processInputParams(n),u={...s,common:{...s.common,issues:[]}},l=this._def.innerType._parse({data:u.data,path:u.path,parent:{...u}});return ao(l)?l.then(c=>({status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new ha(u.common.issues)},input:u.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new ha(u.common.issues)},input:u.data})}}removeCatch(){return this._def.innerType}}ho.create=(r,n)=>new ho({innerType:r,typeName:be.ZodCatch,catchValue:typeof n.catch=="function"?n.catch:()=>n.catch,...Ae(n)});class Xy extends Me{_parse(n){if(this._getType(n)!==te.nan){const u=this._getOrReturnCtx(n);return F(u,{code:$.invalid_type,expected:te.nan,received:u.parsedType}),_e}return{status:"valid",value:n.data}}}Xy.create=r=>new Xy({typeName:be.ZodNaN,...Ae(r)});class Dv extends Me{_parse(n){const{ctx:s}=this._processInputParams(n),u=s.data;return this._def.type._parse({data:u,path:s.path,parent:s})}unwrap(){return this._def.type}}class qf extends Me{_parse(n){const{status:s,ctx:u}=this._processInputParams(n);if(u.common.async)return(async()=>{const c=await this._def.in._parseAsync({data:u.data,path:u.path,parent:u});return c.status==="aborted"?_e:c.status==="dirty"?(s.dirty(),Yr(c.value)):this._def.out._parseAsync({data:c.value,path:u.path,parent:u})})();{const l=this._def.in._parseSync({data:u.data,path:u.path,parent:u});return l.status==="aborted"?_e:l.status==="dirty"?(s.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:u.path,parent:u})}}static create(n,s){return new qf({in:n,out:s,typeName:be.ZodPipeline})}}class po extends Me{_parse(n){const s=this._def.innerType._parse(n),u=l=>(qi(l)&&(l.value=Object.freeze(l.value)),l);return ao(s)?s.then(l=>u(l)):u(s)}unwrap(){return this._def.innerType}}po.create=(r,n)=>new po({innerType:r,typeName:be.ZodReadonly,...Ae(n)});var be;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(be||(be={}));const S=ca.create,ue=Hi.create,Ai=bf.create,Xe=Tf.create;Wa.create;const Qe=Hn.create,B=St.create,Mv=io.create,on=Bf.create;ro.create;Ns.create;const Ht=uo.create,S1=lo.create,z=oo.create,Gt=Cs.create;co.create;da.create;Rs.create;B({name:S(),description:S().optional(),inputSchema:B({type:z("object"),properties:Ht(S(),Xe()),required:Qe(S()),additionalProperties:Ai()})});async function x1(r,n=!1){const s=[],u=new Set;for(const l of r){const c=await T1(l,n),p=[...new Set(c.map(y=>y.name))].filter(y=>u.has(y));if(p.length>0)throw new Ct(`Duplicate tool names found across MCP servers: ${p.join(", ")}`);for(const y of c)u.add(y.name),s.push(y)}return s}const nf={};async function T1(r,n){return r.cacheToolsList&&nf[r.name]?nf[r.name]:Xx(async s=>{const u=await r.listTools();s.spanData.result=u.map(c=>c.name);const l=u.map(c=>w1(c,r,n));return r.cacheToolsList&&(nf[r.name]=l),l},{data:{server:r.name}})}async function A1(r,n=!1){return x1(r,n)}function w1(r,n,s){var f,p,y,m;async function u(v,A){let w={};typeof v=="string"&&v?w=JSON.parse(v):typeof v=="object"&&v!=null&&(w=v);const L=Kr();L&&(L.spanData.mcp_data={server:n.name});const J=await n.callTool(r.name,w);return J.length===1?J[0]:J}const l={type:((f=r.inputSchema)==null?void 0:f.type)??"object",properties:((p=r.inputSchema)==null?void 0:p.properties)??{},required:((y=r.inputSchema)==null?void 0:y.required)??[],additionalProperties:((m=r.inputSchema)==null?void 0:m.additionalProperties)??!1};if(s||l.additionalProperties===!0)try{const v=E1(l);return no({name:r.name,description:r.description||"",parameters:v,strict:!0,execute:u})}catch(v){de.warn(`Error converting MCP schema to strict mode: ${v}`)}const c={...l,additionalProperties:!0};return no({name:r.name,description:r.description||"",parameters:c,strict:!1,execute:u})}function E1(r){const n={...r,additionalProperties:!1};return n.required||(n.required=[]),n}function O1(){return{}}var Ni;class bo{constructor(){ae(this,Ni,new EventTarget)}on(n,s){return _(this,Ni).addEventListener(n,u=>s(...u.detail??[])),this}off(n,s){return _(this,Ni).removeEventListener(n,u=>s(...u.detail??[])),this}emit(n,...s){const u=new CustomEvent(n,{detail:s});return _(this,Ni).dispatchEvent(u)}once(n,s){const u=(...l)=>{this.off(n,u),s(...l)};return this.on(n,u),this}}Ni=new WeakMap;const jv=crypto.randomUUID,N1=class{constructor(){}pipeTo(n,s){}pipeThrough(n,s){}},C1=globalThis.ReadableStream,k1=globalThis.TransformStream;class R1{constructor(){}run(){}getStore(){}enterWith(){}}class D1{constructor(){}setTimeout(n,s){const u=setTimeout(n,s);return u.ref=typeof u.ref=="function"?u.ref:()=>u,u.unref=typeof u.unref=="function"?u.unref:()=>u,u.hasRef=typeof u.hasRef=="function"?u.hasRef:()=>!0,u.refresh=typeof u.refresh=="function"?u.refresh:()=>u,u}clearTimeout(n){window.clearTimeout(n)}}const M1=new D1;function zv(){return O1()}function Ef(r){const n=zv();return typeof n<"u"&&(n[r]==="true"||n[r]==="1")}const Zv={get disabled(){return Ef("OPENAI_AGENTS_DISABLE_TRACING")}},Uv={get dontLogModelData(){return Ef("OPENAI_AGENTS_DONT_LOG_MODEL_DATA")},get dontLogToolData(){return Ef("OPENAI_AGENTS_DONT_LOG_TOOL_DATA")}},j1=Uv.dontLogModelData,z1=Uv.dontLogToolData;function Lv(r="openai-agents"){return{namespace:r,debug:cS(r),error:console.error,warn:console.warn,dontLogModelData:j1,dontLogToolData:z1}}const de=Lv("openai-agents:core");class Hf{on(n,s){return this.eventEmitter.on(n,s),this.eventEmitter}off(n,s){return this.eventEmitter.off(n,s),this.eventEmitter}emit(n,...s){return this.eventEmitter.emit(n,...s)}once(n,s){return this.eventEmitter.once(n,s),this.eventEmitter}}class Z1 extends Hf{constructor(){super(...arguments);q(this,"eventEmitter",new bo)}}class U1 extends Hf{constructor(){super(...arguments);q(this,"eventEmitter",new bo)}}function Qy({name:r,execute:n}){return{type:"input",name:r,guardrailFunction:n,async run(s){return{guardrail:{type:"input",name:r},output:await n(s)}}}}function Of({name:r,execute:n}){return{type:"output",name:r,guardrailFunction:n,async run(s){return{guardrail:{type:"output",name:r},agent:s.agent,agentOutput:s.agentOutput,output:await n(s)}}}}function Bv(r){return`{'assistant': '${r.name}'}`}function L1(r){return`transfer_to_${to(r.name)}`}function B1(r){return`Handoff to the ${r.name} agent to handle the request. ${r.handoffDescription??""}`}class qv{constructor(n,s){q(this,"toolName");q(this,"toolDescription");q(this,"inputJsonSchema",{type:"object",properties:{},required:[],additionalProperties:!1});q(this,"strictJsonSchema",!0);q(this,"onInvokeHandoff");q(this,"agentName");q(this,"inputFilter");q(this,"agent");this.agentName=n.name,this.onInvokeHandoff=s,this.toolName=L1(n),this.toolDescription=B1(n),this.agent=n}getHandoffAsFunctionTool(){return{type:"function",name:this.toolName,description:this.toolDescription,parameters:this.inputJsonSchema,strict:this.strictJsonSchema}}}function Hv(r,n={}){let s;const u=!!n.onHandoff,l=!!n.inputType;if(!(u===l))throw new Ct("You must provide either both `onHandoff` and `inputType` or neither.");async function f(y,m){var v;if(s){if(!m)throw Fr({message:`Handoff function expected non empty input but got: ${m}`,data:{details:"input is empty"}}),new Rn("Handoff function expected non empty input");try{const A=await s(m);n.onHandoff&&await n.onHandoff(y,A)}catch(A){throw Fr({message:"Invalid JSON provided",data:{}}),de.dontLogToolData||de.error(`Invalid JSON when parsing: ${m}. Error: ${A}`),new Rn("Invalid JSON provided")}}else await((v=n.onHandoff)==null?void 0:v.call(n,y));return r}const p=new qv(r,f);if(n.inputType){const y=Lf(n.inputType,p.toolName);p.inputJsonSchema=y.schema,p.strictJsonSchema=!0,s=y.parser}return n.toolNameOverride&&(p.toolName=n.toolNameOverride),n.toolDescriptionOverride&&(p.toolDescription=n.toolDescriptionOverride),n.inputFilter&&(p.inputFilter=n.inputFilter),p}function mo(r){return r instanceof qv?r:Hv(r)}function q1(){throw new Error("No default model provider set. Make sure to set a provider using setDefaultModelProvider before calling getDefaultModelProvider or pass an explicit provider.")}const Mt=B({providerData:Ht(S(),Xe()).optional()}),Ms=Mt.extend({id:S().optional()}),H1=Mt.extend({type:z("refusal"),refusal:S()}),G1=Mt.extend({type:z("output_text"),text:S()}),Gf=Mt.extend({type:z("input_text"),text:S()}),I1=Mt.extend({type:z("input_image"),image:S().or(B({id:S()})).describe("Could be a URL, base64 or an object with a file ID.")}),$1=Mt.extend({type:z("input_file"),file:S().or(B({id:S()})).describe("Contents of the file or an object with a file ID.")}),Gv=Mt.extend({type:z("audio"),audio:S().or(B({id:S()})).describe("Base64 encoded audio data or file id"),format:S().nullable().optional(),transcript:S().nullable().optional()}),V1=Mt.extend({type:z("image"),image:S().describe("Base64 encoded image data")}),Y1=Mt.extend({type:z("text"),text:S()}),X1=Mt.extend({type:z("image"),data:S().describe("Base64 encoded image data"),mediaType:S().describe("IANA media type of the image")}),Q1=Mt.extend({type:z("computer_screenshot"),data:S().describe("Base64 encoded image data or URL")}),J1=on("type",[B({type:z("screenshot")}),B({type:z("click"),x:ue(),y:ue(),button:Gt(["left","right","wheel","back","forward"])}),B({type:z("double_click"),x:ue(),y:ue()}),B({type:z("scroll"),x:ue(),y:ue(),scroll_x:ue(),scroll_y:ue()}),B({type:z("type"),text:S()}),B({type:z("wait")}),B({type:z("move"),x:ue(),y:ue()}),B({type:z("keypress"),keys:Qe(S())}),B({type:z("drag"),path:Qe(B({x:ue(),y:ue()}))})]),K1=on("type",[G1,H1,Gf,Gv,V1]),If=Ms.extend({type:z("message").optional()}),So=If.extend({role:z("assistant"),status:Gt(["in_progress","completed","incomplete"]),content:Qe(K1)}),F1=on("type",[Gf,I1,$1,Gv]),Iv=If.extend({role:z("user"),content:Qe(F1).or(S())}),$v=If.extend({role:z("system"),content:S()});on("role",[$v,So,Iv]);const xo=Ms.extend({type:z("hosted_tool_call"),name:S().describe("The name of the hosted tool"),status:S().optional(),output:S().optional()}),nu=Ms.extend({type:z("function_call"),callId:S().describe("The ID of the tool call"),name:S().describe("The name of the function"),status:Gt(["in_progress","completed","incomplete"]).optional(),arguments:S()}),Nf=Ms.extend({type:z("function_call_result"),name:S().describe("The name of the tool"),callId:S().describe("The ID of the tool call"),status:Gt(["in_progress","completed","incomplete"]),output:on("type",[Y1,X1])}),$f=Ms.extend({type:z("computer_call"),callId:S().describe("The ID of the computer call"),status:Gt(["in_progress","completed","incomplete"]),action:J1}),W1=Ms.extend({type:z("computer_call_result"),callId:S().describe("The ID of the computer call"),output:Q1}),P1=on("type",[$f,nu,xo]),Vf=Mt.extend({id:S().optional(),type:z("reasoning"),content:Qe(Gf)}),Vv=Ms.extend({type:z("unknown")}),Yf=on("type",[So,xo,nu,$f,Vf,Vv]),eT=Mv([Iv,So,$v,xo,nu,$f,Nf,W1,Vf,Vv]),tT=B({requests:ue().optional(),inputTokens:ue(),outputTokens:ue(),totalTokens:ue(),inputTokensDetails:Ht(S(),ue()).optional(),outputTokensDetails:Ht(S(),ue()).optional()}),Yv=Mt.extend({type:z("output_text_delta"),delta:S()}),nT=Mt.extend({type:z("response_started")}),Xv=Mt.extend({type:z("response_done"),response:Mt.extend({id:S(),usage:tT,output:Qe(Yf)})}),aT=Mt.extend({type:z("model"),event:Xe().describe("The event from the model")});on("type",[Yv,Xv,nT,aT]);class To{constructor(n){q(this,"requests");q(this,"inputTokens");q(this,"outputTokens");q(this,"totalTokens");q(this,"inputTokensDetails",[]);q(this,"outputTokensDetails",[]);typeof n>"u"?(this.requests=0,this.inputTokens=0,this.outputTokens=0,this.totalTokens=0,this.inputTokensDetails=[],this.outputTokensDetails=[]):(this.requests=(n==null?void 0:n.requests)??1,this.inputTokens=(n==null?void 0:n.inputTokens)??0,this.outputTokens=(n==null?void 0:n.outputTokens)??0,this.totalTokens=(n==null?void 0:n.totalTokens)??0,this.inputTokensDetails=n!=null&&n.inputTokensDetails?[n.inputTokensDetails]:[],this.outputTokensDetails=n!=null&&n.outputTokensDetails?[n.outputTokensDetails]:[])}add(n){this.requests+=n.requests,this.inputTokens+=n.inputTokens,this.outputTokens+=n.outputTokens,this.totalTokens+=n.totalTokens,this.inputTokensDetails.push(...n.inputTokensDetails),this.outputTokensDetails.push(...n.outputTokensDetails)}}var rn;class Ti{constructor(n={}){q(this,"context");q(this,"usage");ae(this,rn);this.context=n,this.usage=new To,V(this,rn,new Map)}_rebuildApprovals(n){V(this,rn,new Map(Object.entries(n)))}isToolApproved({toolName:n,callId:s}){const u=_(this,rn).get(n);if((u==null?void 0:u.approved)===!0&&u.rejected===!0)return de.warn("Tool is permanently approved and rejected at the same time. Approval takes precedence"),!0;if((u==null?void 0:u.approved)===!0)return!0;if((u==null?void 0:u.rejected)===!0)return!1;const l=Array.isArray(u==null?void 0:u.approved)?u.approved.includes(s):!1,c=Array.isArray(u==null?void 0:u.rejected)?u.rejected.includes(s):!1;if(l&&c)return de.warn(`Tool call ${s} is both approved and rejected at the same time. Approval takes precedence`),!0;if(l)return!0;if(c)return!1}approveTool(n,{alwaysApprove:s=!1}={}){const u=n.rawItem.name;if(s){_(this,rn).set(u,{approved:!0,rejected:[]});return}const l=_(this,rn).get(u)??{approved:[],rejected:[]};Array.isArray(l.approved)&&l.approved.push(n.rawItem.callId),_(this,rn).set(u,l)}rejectTool(n,{alwaysReject:s=!1}={}){const u=n.rawItem.name;if(s){_(this,rn).set(u,{approved:!1,rejected:!0});return}const l=_(this,rn).get(u)??{approved:[],rejected:[]};Array.isArray(l.rejected)&&l.rejected.push(n.rawItem.callId),_(this,rn).set(u,l)}toJSON(){return{context:this.context,usage:this.usage,approvals:Object.fromEntries(_(this,rn).entries())}}}rn=new WeakMap;class Qv{constructor(n){q(this,"state");this.state=n}get history(){return yo(this.input,this.newItems)}get output(){return yo([],this.newItems)}get input(){return this.state._originalInput}get newItems(){return this.state._generatedItems}get rawResponses(){return this.state._modelResponses}get lastResponseId(){const n=this.rawResponses;return n&&n.length>0?n[n.length-1].responseId:void 0}get lastAgent(){return this.state._currentAgent}get inputGuardrailResults(){return this.state._inputGuardrailResults}get outputGuardrailResults(){return this.state._outputGuardrailResults}get interruptions(){var n;return((n=this.state._currentStep)==null?void 0:n.type)==="next_step_interruption"?this.state._currentStep.data.interruptions:[]}get finalOutput(){var n;if(((n=this.state._currentStep)==null?void 0:n.type)==="next_step_final_output")return this.state._currentAgent.processFinalOutput(this.state._currentStep.output);de.warn("Accessed finalOutput before agent run is completed.")}}class Jy extends Qv{constructor(n){super(n)}}var fu,Ci,kn,Qa,hu,pu,mu,gu;class sT extends Qv{constructor(s={}){super(s.state);q(this,"currentTurn",0);q(this,"maxTurns");ae(this,fu,null);ae(this,Ci);ae(this,kn);ae(this,Qa);ae(this,hu);ae(this,pu);ae(this,mu);ae(this,gu,!1);V(this,Ci,s.signal),_(this,Ci)&&_(this,Ci).addEventListener("abort",async()=>{await _(this,Qa).cancel()}),V(this,Qa,new C1({start:u=>{V(this,kn,u)},cancel:()=>{V(this,gu,!0)}})),V(this,hu,new Promise((u,l)=>{V(this,pu,u),V(this,mu,l)}))}get currentAgent(){return this.lastAgent}_addItem(s){var u;this.cancelled||(u=_(this,kn))==null||u.enqueue(s)}_done(){var s;!this.cancelled&&_(this,kn)&&(_(this,kn).close(),V(this,kn,void 0),(s=_(this,pu))==null||s.call(this))}_raiseError(s){var u;!this.cancelled&&_(this,kn)&&(_(this,kn).error(s),V(this,kn,void 0)),V(this,fu,s),(u=_(this,mu))==null||u.call(this,s)}get cancelled(){return _(this,gu)}toStream(){return _(this,Qa)}get completed(){return _(this,hu)}get error(){return _(this,fu)}toTextStream(s={}){const u=_(this,Qa).pipeThrough(new k1({transform(l,c){if(l.type==="raw_model_stream_event"&&l.data.type==="output_text_delta"){const f=Yv.parse(l.data);c.enqueue(f.delta)}}}));return s.compatibleWithNodeStreams?N1.fromWeb(u):u}[Symbol.asyncIterator](){return _(this,Qa)[Symbol.asyncIterator]()}}fu=new WeakMap,Ci=new WeakMap,kn=new WeakMap,Qa=new WeakMap,hu=new WeakMap,pu=new WeakMap,mu=new WeakMap,gu=new WeakMap;function Ky(r){return r.type==="function"?{type:"function",name:r.name,description:r.description,parameters:r.parameters,strict:r.strict}:r.type==="computer"?{type:"computer",name:r.name,environment:r.computer.environment,dimensions:r.computer.dimensions}:{type:"hosted_tool",name:r.name,providerData:r.providerData}}function Fy(r){return{toolName:r.toolName,toolDescription:r.toolDescription,inputJsonSchema:r.inputJsonSchema,strictJsonSchema:r.strictJsonSchema}}class js{constructor(){q(this,"type","base_item");q(this,"rawItem")}toJSON(){return{type:this.type,rawItem:this.rawItem}}}class Ao extends js{constructor(s,u){super();q(this,"rawItem");q(this,"agent");q(this,"type","message_output_item");this.rawItem=s,this.agent=u}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON()}}get content(){let s="";for(const u of this.rawItem.content)u.type==="output_text"&&(s+=u.text);return s}}class Xr extends js{constructor(s,u){super();q(this,"rawItem");q(this,"agent");q(this,"type","tool_call_item");this.rawItem=s,this.agent=u}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON()}}}class Gi extends js{constructor(s,u,l){super();q(this,"rawItem");q(this,"agent");q(this,"output");q(this,"type","tool_call_output_item");this.rawItem=s,this.agent=u,this.output=l}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON(),output:Os(this.output)}}}class Xf extends js{constructor(s,u){super();q(this,"rawItem");q(this,"agent");q(this,"type","reasoning_item");this.rawItem=s,this.agent=u}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON()}}}class Qf extends js{constructor(s,u){super();q(this,"rawItem");q(this,"agent");q(this,"type","handoff_call_item");this.rawItem=s,this.agent=u}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON()}}}class Jf extends js{constructor(s,u,l){super();q(this,"rawItem");q(this,"sourceAgent");q(this,"targetAgent");q(this,"type","handoff_output_item");this.rawItem=s,this.sourceAgent=u,this.targetAgent=l}toJSON(){return{...super.toJSON(),sourceAgent:this.sourceAgent.toJSON(),targetAgent:this.targetAgent.toJSON()}}}class Ds extends js{constructor(s,u){super();q(this,"rawItem");q(this,"agent");q(this,"type","tool_approval_item");this.rawItem=s,this.agent=u}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON()}}}function Jv(r){if(r.type!=="message"||r.role!=="assistant")return;const n=r.content[r.content.length-1];if(n.type==="output_text")return n.text}function iT(r){return r.output.length===0?"":Jv(r.output[r.output.length-1])||""}class rT{constructor(n){q(this,"data");q(this,"type","raw_model_stream_event");this.data=n}}class uT{constructor(n,s){q(this,"name");q(this,"item");q(this,"type","run_item_stream_event");this.name=n,this.item=s}}class lT{constructor(n){q(this,"agent");q(this,"type","agent_updated_stream_event");this.agent=n}}function Wy(r,n,s,u){const l=[],c=[],f=[],p=[],y=[],m=new Map(u.map(w=>[w.toolName,w])),v=new Map(s.filter(w=>w.type==="function").map(w=>[w.name,w])),A=s.find(w=>w.type==="computer");for(const w of r.output){if(w.type==="message")w.role==="assistant"&&l.push(new Ao(w,n));else if(w.type==="hosted_tool_call")l.push(new Xr(w,n)),y.push(w.name);else if(w.type==="reasoning")l.push(new Xf(w,n));else if(w.type==="computer_call"){if(l.push(new Xr(w,n)),y.push("computer_use"),!A)throw Fr({message:"Model produced computer action without a computer tool.",data:{agent_name:n.name}}),new Rn("Model produced computer action without a computer tool.");p.push({toolCall:w,computer:A})}if(w.type!=="function_call")continue;y.push(w.name);const L=m.get(w.name);if(L)l.push(new Qf(w,n)),c.push({toolCall:w,handoff:L});else{const J=v.get(w.name);if(!J)throw Fr({message:`Tool ${w.name} not found in agent ${n.name}.`,data:{tool_name:w.name,agent_name:n.name}}),new Rn(`Tool ${w.name} not found in agent ${n.name}.`);l.push(new Xr(w,n)),f.push({toolCall:w,tool:J})}}return{newItems:l,handoffs:c,functions:f,computerActions:p,toolsUsed:y}}const oT=on("type",[B({type:z("next_step_handoff"),newAgent:Xe()}),B({type:z("next_step_final_output"),output:S()}),B({type:z("next_step_run_again")}),B({type:z("next_step_interruption"),data:Ht(S(),Xe())})]);class qn{constructor(n,s,u,l,c){q(this,"originalInput");q(this,"modelResponse");q(this,"preStepItems");q(this,"newStepItems");q(this,"nextStep");this.originalInput=n,this.modelResponse=s,this.preStepItems=u,this.newStepItems=l,this.nextStep=c}get generatedItems(){return this.preStepItems.concat(this.newStepItems)}}function Py(r,n,s){return r.resetToolChoice&&n.hasUsedTools(r)?{...s,toolChoice:void 0}:s}async function ev(r,n,s,u,l,c,f){const p=s.filter(L=>!(L instanceof Ds)),y=s.filter(L=>L instanceof Ds).map(L=>L.rawItem.callId),m=l.functions.filter(L=>y.includes(L.toolCall.callId)),v=await Kv(r,m,c,f),A=v.map(L=>L.runItem),w=await Fv(r,v,f);return w.isFinalOutput?(c.emit("agent_end",f._context,r,w.finalOutput),r.emit("agent_end",f._context,w.finalOutput),new qn(n,u,p,A,{type:"next_step_final_output",output:w.finalOutput})):w.isInterrupted?new qn(n,u,p,A,{type:"next_step_interruption",data:{interruptions:w.interruptions}}):new qn(n,u,p,A,{type:"next_step_run_again"})}async function tv(r,n,s,u,l,c,f){const p=s;let y=l.newItems;const[m,v]=await Promise.all([Kv(r,l.functions,c,f),dT(r,l.computerActions,c,f._context)]);if(y=y.concat(m.map(J=>J.runItem)),y=y.concat(v),l.handoffs.length>0)return await fT(r,n,p,y,u,l.handoffs,c,f._context);const A=await Fv(r,m,f);if(A.isFinalOutput)return c.emit("agent_end",f._context,r,A.finalOutput),r.emit("agent_end",f._context,A.finalOutput),new qn(n,u,p,y,{type:"next_step_final_output",output:A.finalOutput});if(A.isInterrupted)return new qn(n,u,p,y,{type:"next_step_interruption",data:{interruptions:A.interruptions}});const w=y.filter(J=>J instanceof Ao),L=w.length>0?Jv(w[w.length-1].rawItem):void 0;if(!L)return new qn(n,u,p,y,{type:"next_step_run_again"});if(r.outputType==="text")return new qn(n,u,p,y,{type:"next_step_final_output",output:L});{const{parser:J}=Lf(r.outputType,"final_output"),[ve]=await Zf(()=>J(L));if(ve)throw Fr({message:"Invalid output type",data:{error:String(ve)}}),new Rn("Invalid output type");return new qn(n,u,p,y,{type:"next_step_final_output",output:L})}}function go(r,n){return{type:"function_call_result",name:r.name,callId:r.callId,status:"completed",output:{type:"text",text:Os(n)}}}async function Kv(r,n,s,u){async function l(c){let f=c.toolCall.arguments;if(c.tool.parameters&&(Es(c.tool.parameters)?f=c.tool.parameters.parse(f):f=JSON.parse(f)),await c.tool.needsApproval(u._context,f,c.toolCall.callId)){const y=u._context.isToolApproved({toolName:c.tool.name,callId:c.toolCall.callId});if(y===!1)return Uy(async m=>{const v="Tool execution was not approved.";return m.setError({message:v,data:{tool_name:c.tool.name,error:`Tool execution for ${c.toolCall.callId} was manually rejected by user.`}}),m.spanData.output=v,{type:"function_output",tool:c.tool,output:v,runItem:new Gi(go(c.toolCall,v),r,v)}},{data:{name:c.tool.name}});if(y!==!0)return{type:"function_approval",tool:c.tool,runItem:new Ds(c.toolCall,r)}}return Uy(async y=>{s.config.traceIncludeSensitiveData&&(y.spanData.input=c.toolCall.arguments);try{s.emit("agent_tool_start",u._context,r,c.tool),r.emit("agent_tool_start",u._context,c.tool);const m=await c.tool.invoke(u._context,c.toolCall.arguments),v=Os(m);return s.emit("agent_tool_end",u._context,r,c.tool,v),r.emit("agent_tool_end",u._context,c.tool,v),s.config.traceIncludeSensitiveData&&(y.spanData.output=v),{type:"function_output",tool:c.tool,output:m,runItem:new Gi(go(c.toolCall,m),r,m)}}catch(m){throw y.setError({message:"Error running tool",data:{tool_name:c.tool.name,error:String(m)}}),m}},{data:{name:c.tool.name}})}try{return await Promise.all(n.map(l))}catch(c){throw new kx(`Failed to run function tools: ${c}`,c,u)}}async function cT(r,n){const s=n.action;let u;switch(s.type){case"click":await r.click(s.x,s.y,s.button);break;case"double_click":await r.doubleClick(s.x,s.y);break;case"drag":await r.drag(s.path.map(l=>[l.x,l.y]));break;case"keypress":await r.keypress(s.keys);break;case"move":await r.move(s.x,s.y);break;case"screenshot":u=await r.screenshot();break;case"scroll":await r.scroll(s.x,s.y,s.scroll_x,s.scroll_y);break;case"type":await r.type(s.text);break;case"wait":await r.wait();break}if(typeof u<"u"||typeof r.screenshot=="function"&&(u=await r.screenshot(),typeof u<"u"))return u;throw new Error("Computer does not implement screenshot()")}async function dT(r,n,s,u){const l=[];for(const c of n){const f=c.computer.computer,p=c.toolCall;s.emit("agent_tool_start",u,r,c.computer),typeof r.emit=="function"&&r.emit("agent_tool_start",u,c.computer);let y;try{y=await cT(f,p)}catch(A){de.error("Failed to execute computer action:",A),y=""}s.emit("agent_tool_end",u,r,c.computer,y),typeof r.emit=="function"&&r.emit("agent_tool_end",u,c.computer,y);const m=y?`data:image/png;base64,${y}`:"",v={type:"computer_call_result",callId:p.callId,output:{type:"computer_screenshot",data:m}};l.push(new Gi(v,r,m))}return l}async function fT(r,n,s,u,l,c,f,p){if(u=[...u],c.length===0)return de.warn("Incorrectly called executeHandoffCalls with no handoffs. This should not happen. Moving on."),new qn(n,l,s,u,{type:"next_step_run_again"});if(c.length>1){const m="Multiple handoffs detected, ignorning this one.";for(let v=1;v<c.length;v++)u.push(new Gi(go(c[v].toolCall,m),r,m))}const y=c[0];return $x(async m=>{const v=y.handoff,A=await v.onInvokeHandoff(p,y.toolCall.arguments);if(m.spanData.to_agent=A.name,c.length>1){const L=c.map(J=>J.handoff.agentName);m.setError({message:"Multiple handoffs requested",data:{requested_agents:L}})}u.push(new Jf(go(y.toolCall,Bv(A)),r,A)),f.emit("agent_handoff",p,r,A),r.emit("agent_handoff",p,A);const w=v.inputFilter??f.config.handoffInputFilter;if(w){de.debug("Filtering inputs for handoff"),typeof w!="function"&&m.setError({message:"Invalid input filter",data:{details:"not callable"}});const L={inputHistory:Array.isArray(n)?[...n]:n,preHandoffItems:[...s],newItems:[...u]},J=w(L);n=J.inputHistory,s=J.preHandoffItems,u=J.newItems}return new qn(n,l,s,u,{type:"next_step_handoff",newAgent:A})},{data:{from_agent:r.name}})}const Il={isFinalOutput:!1,isInterrupted:void 0};async function Fv(r,n,s){if(n.length===0)return Il;const u=n.filter(f=>f.runItem instanceof Ds).map(f=>f.runItem);if(u.length>0)return{isFinalOutput:!1,isInterrupted:!0,interruptions:u};if(r.toolUseBehavior==="run_llm_again")return Il;const l=n[0];if(r.toolUseBehavior==="stop_on_first_tool")return(l==null?void 0:l.type)==="function_output"?{isFinalOutput:!0,isInterrupted:void 0,finalOutput:Os(l.output)}:Il;const c=r.toolUseBehavior;if(typeof c=="object"){const f=n.find(p=>c.stopAtToolNames.includes(p.tool.name));return(f==null?void 0:f.type)==="function_output"?{isFinalOutput:!0,isInterrupted:void 0,finalOutput:Os(f.output)}:Il}if(typeof c=="function")return c(s._context,n);throw de.error("Invalid toolUseBehavior: ",c),new Ct(`Invalid toolUseBehavior: ${c}`,s)}function nv(r,n){for(const s of n.newStepItems){let u;if(s instanceof Ao)u="message_output_created";else if(s instanceof Qf)u="handoff_requested";else if(s instanceof Jf)u="handoff_occurred";else if(s instanceof Xr)u="tool_called";else if(s instanceof Gi)u="tool_output";else if(s instanceof Xf)u="reasoning_item_created";else if(s instanceof Ds)u="tool_approval_requested";else{de.warn("Unknown item type: ",s);continue}r._addItem(new uT(u,s))}}var ki;class av{constructor(){ae(this,ki,new Map)}addToolUse(n,s){_(this,ki).set(n,s)}hasUsedTools(n){return _(this,ki).has(n)}toJSON(){return Object.fromEntries(Array.from(_(this,ki).entries()).map(([n,s])=>[n.name,s]))}}ki=new WeakMap;const Cf="1.0",hT=z(Cf),Bn=B({name:S()}),pT=B({object:z("trace.span"),id:S(),trace_id:S(),parent_id:S().nullable(),started_at:S().nullable(),ended_at:S().nullable(),error:B({message:S(),data:Ht(S(),Xe()).optional()}).nullable(),span_data:Ht(S(),Xe())}),Wv=pT.extend({previous_span:S1(()=>Wv).optional()}),Pv=B({requests:ue(),inputTokens:ue(),outputTokens:ue(),totalTokens:ue()}),sv=B({usage:Pv,output:Qe(Yf),responseId:S().optional()}),e_=on("type",[B({type:z("message_output_item"),rawItem:So,agent:Bn}),B({type:z("tool_call_item"),rawItem:P1.or(xo),agent:Bn}),B({type:z("tool_call_output_item"),rawItem:Nf,agent:Bn,output:S()}),B({type:z("reasoning_item"),rawItem:Vf,agent:Bn}),B({type:z("handoff_call_item"),rawItem:nu,agent:Bn}),B({type:z("handoff_output_item"),rawItem:Nf,sourceAgent:Bn,targetAgent:Bn}),B({type:z("tool_approval_item"),rawItem:nu,agent:Bn})]),mT=B({object:z("trace"),id:S(),workflow_name:S(),group_id:S().nullable(),metadata:Ht(S(),Xe())}),gT=B({newItems:Qe(e_),toolsUsed:Qe(S()),handoffs:Qe(B({toolCall:Xe(),handoff:Xe()})),functions:Qe(B({toolCall:Xe(),tool:Xe()})),computerActions:Qe(B({toolCall:Xe(),computer:Xe()}))}),t_=B({tripwireTriggered:Ai(),outputInfo:Xe()}),yT=B({guardrail:B({type:z("input"),name:S()}),output:t_}),vT=B({guardrail:B({type:z("output"),name:S()}),agentOutput:Xe(),agent:Bn,output:t_}),iv=B({$schemaVersion:hT,currentTurn:ue(),currentAgent:Bn,originalInput:S().or(Qe(eT)),modelResponses:Qe(sv),context:B({usage:Pv,approvals:Ht(S(),B({approved:Qe(S()).or(Ai()),rejected:Qe(S()).or(Ai())})),context:Ht(S(),Xe())}),toolUseTracker:Ht(S(),Qe(S())),maxTurns:ue(),currentAgentSpan:Wv.nullable().optional(),noActiveAgentRun:Ai(),inputGuardrailResults:Qe(yT),outputGuardrailResults:Qe(vT),currentStep:oT.optional(),lastModelResponse:sv.optional(),generatedItems:Qe(e_),lastProcessedResponse:gT.optional(),trace:mT.nullable()});class _s{constructor(n,s,u,l){q(this,"_currentTurn",0);q(this,"_currentAgent");q(this,"_originalInput");q(this,"_modelResponses");q(this,"_currentAgentSpan");q(this,"_context");q(this,"_toolUseTracker");q(this,"_generatedItems");q(this,"_maxTurns");q(this,"_noActiveAgentRun",!0);q(this,"_lastTurnResponse");q(this,"_inputGuardrailResults");q(this,"_outputGuardrailResults");q(this,"_currentStep");q(this,"_lastProcessedResponse");q(this,"_trace",null);this._context=n,this._originalInput=structuredClone(s),this._modelResponses=[],this._currentAgentSpan=void 0,this._currentAgent=u,this._toolUseTracker=new av,this._generatedItems=[],this._maxTurns=l,this._inputGuardrailResults=[],this._outputGuardrailResults=[],this._trace=Jr()}approve(n,s={alwaysApprove:!1}){this._context.approveTool(n,s)}reject(n,s={alwaysReject:!1}){this._context.rejectTool(n,s)}toJSON(){var u;const n={$schemaVersion:"1.0",currentTurn:this._currentTurn,currentAgent:{name:this._currentAgent.name},originalInput:this._originalInput,modelResponses:this._modelResponses.map(l=>({usage:{requests:l.usage.requests,inputTokens:l.usage.inputTokens,outputTokens:l.usage.outputTokens,totalTokens:l.usage.totalTokens},output:l.output,responseId:l.responseId})),context:this._context.toJSON(),toolUseTracker:this._toolUseTracker.toJSON(),maxTurns:this._maxTurns,currentAgentSpan:(u=this._currentAgentSpan)==null?void 0:u.toJSON(),noActiveAgentRun:this._noActiveAgentRun,inputGuardrailResults:this._inputGuardrailResults,outputGuardrailResults:this._outputGuardrailResults.map(l=>({...l,agent:l.agent.toJSON()})),currentStep:this._currentStep,lastModelResponse:this._lastTurnResponse,generatedItems:this._generatedItems.map(l=>l.toJSON()),lastProcessedResponse:this._lastProcessedResponse,trace:this._trace?this._trace.toJSON():null},s=iv.safeParse(n);if(!s.success)throw new Cx(`Failed to serialize run state. ${s.error.message}`);return s.data}toString(){return JSON.stringify(this.toJSON())}static async fromString(n,s){var A,w,L,J,ve;const[u,l]=await Zf(()=>JSON.parse(s));if(u)throw new Ct(`Failed to parse run state. ${u instanceof Error?u.message:String(u)}`);const c=l.$schemaVersion;if(!c)throw new Ct("Run state is missing schema version");if(c!==Cf)throw new Ct(`Run state schema version ${c} is not supported. Please use version ${Cf}`);const f=iv.parse(JSON.parse(s)),p=_T(n),y=new Ti(f.context.context);y._rebuildApprovals(f.context.approvals);const m=p.get(f.currentAgent.name);if(!m)throw new Ct(`Agent ${f.currentAgent.name} not found`);const v=new _s(y,"",m,f.maxTurns);v._currentTurn=f.currentTurn,v._toolUseTracker=new av;for(const[le,G]of Object.entries(f.toolUseTracker))v._toolUseTracker.addToolUse(p.get(le),G);if(f.currentAgentSpan){f.trace||de.warn("Trace is not set, skipping tracing setup");const le=Sn().createTrace({traceId:(A=f.trace)==null?void 0:A.id,name:(w=f.trace)==null?void 0:w.workflow_name,groupId:((L=f.trace)==null?void 0:L.group_id)??void 0,metadata:(J=f.trace)==null?void 0:J.metadata});v._currentAgentSpan=n_(le,f.currentAgentSpan),v._trace=le}return v._noActiveAgentRun=f.noActiveAgentRun,v._inputGuardrailResults=f.inputGuardrailResults,v._outputGuardrailResults=f.outputGuardrailResults.map(le=>({...le,agent:p.get(le.agent.name)})),v._currentStep=f.currentStep,v._originalInput=f.originalInput,v._modelResponses=f.modelResponses.map(rv),v._lastTurnResponse=f.lastModelResponse?rv(f.lastModelResponse):void 0,v._generatedItems=f.generatedItems.map(le=>a_(le,p)),v._lastProcessedResponse=f.lastProcessedResponse?await bT(p,v._currentAgent,f.lastProcessedResponse):void 0,((ve=f.currentStep)==null?void 0:ve.type)==="next_step_handoff"&&(v._currentStep={type:"next_step_handoff",newAgent:p.get(f.currentStep.newAgent.name)}),v}}function _T(r){const n=new Map,s=[r];for(;s.length>0;){const u=s.shift();if(!n.has(u.name)){n.set(u.name,u);for(const l of u.handoffs)l instanceof Ii?n.has(l.name)||s.push(l):l.agent&&(n.has(l.agent.name)||s.push(l.agent))}}return n}function n_(r,n){const s=n.span_data,u=n.previous_span?n_(r,n.previous_span):void 0,l=Sn().createSpan({spanId:n.id,traceId:n.trace_id,parentId:n.parent_id??void 0,startedAt:n.started_at??void 0,endedAt:n.ended_at??void 0,data:s},r);return l.previousSpan=u,l}function rv(r){const n=new To;return n.requests=r.usage.requests,n.inputTokens=r.usage.inputTokens,n.outputTokens=r.usage.outputTokens,n.totalTokens=r.usage.totalTokens,{usage:n,output:r.output.map(s=>Yf.parse(s)),responseId:r.responseId}}function a_(r,n){switch(r.type){case"message_output_item":return new Ao(r.rawItem,n.get(r.agent.name));case"tool_call_item":return new Xr(r.rawItem,n.get(r.agent.name));case"tool_call_output_item":return new Gi(r.rawItem,n.get(r.agent.name),r.output);case"reasoning_item":return new Xf(r.rawItem,n.get(r.agent.name));case"handoff_call_item":return new Qf(r.rawItem,n.get(r.agent.name));case"handoff_output_item":return new Jf(r.rawItem,n.get(r.sourceAgent.name),n.get(r.targetAgent.name));case"tool_approval_item":return new Ds(r.rawItem,n.get(r.agent.name))}}async function bT(r,n,s){const u=await n.getAllTools(),l=new Map(u.filter(p=>p.type==="function").map(p=>[p.name,p])),c=new Map(u.filter(p=>p.type==="computer").map(p=>[p.name,p])),f=new Map(n.handoffs.map(p=>p instanceof Ii?[p.name,Hv(p)]:[p.toolName,p]));return{newItems:s.newItems.map(p=>a_(p,r)),toolsUsed:s.toolsUsed,handoffs:s.handoffs.map(p=>{if(!f.has(p.handoff.toolName))throw new Ct(`Handoff ${p.handoff.toolName} not found`);return{toolCall:p.toolCall,handoff:f.get(p.handoff.toolName)}}),functions:await Promise.all(s.functions.map(async p=>{if(!l.has(p.tool.name))throw new Ct(`Tool ${p.tool.name} not found`);return{toolCall:p.toolCall,tool:l.get(p.tool.name)}})),computerActions:s.computerActions.map(p=>{const y=p.computer.name;if(!c.has(y))throw new Ct(`Computer tool ${y} not found`);return{toolCall:p.toolCall,computer:c.get(y)}})}}const uv=10;function lv(r,n){return r?!1:n?!0:"enabled_without_data"}function yo(r,n){const s=n.map(u=>u.rawItem);return typeof r=="string"&&(r=[{type:"message",role:"user",content:r}]),[...r,...s]}var Lt,kf,Rf,Df,s_,Mf;class ST extends U1{constructor(s={}){super();ae(this,Lt);q(this,"config");q(this,"inputGuardrailDefs");q(this,"outputGuardrailDefs");this.config={modelProvider:s.modelProvider??q1(),model:s.model,modelSettings:s.modelSettings,handoffInputFilter:s.handoffInputFilter,inputGuardrails:s.inputGuardrails,outputGuardrails:s.outputGuardrails,tracingDisabled:s.tracingDisabled??!1,traceIncludeSensitiveData:s.traceIncludeSensitiveData??!0,workflowName:s.workflowName??"Agent workflow",traceId:s.traceId,groupId:s.groupId,traceMetadata:s.traceMetadata},this.inputGuardrailDefs=(s.inputGuardrails??[]).map(Qy),this.outputGuardrailDefs=(s.outputGuardrails??[]).map(Of)}run(s,u,l={stream:!1,context:void 0}){return u instanceof _s&&u._trace?Dx(u._trace,async()=>(u._currentAgentSpan&&Yl(u._currentAgentSpan),l!=null&&l.stream?ze(this,Lt,Mf).call(this,s,u,l):ze(this,Lt,kf).call(this,s,u,l))):Mx(async()=>l!=null&&l.stream?ze(this,Lt,Mf).call(this,s,u,l):ze(this,Lt,kf).call(this,s,u,l))}}Lt=new WeakSet,kf=async function(s,u,l){return yf(async()=>{var f,p;const c=u instanceof _s?u:new _s(l.context instanceof Ti?l.context:new Ti(l.context),u,s,l.maxTurns??uv);try{for(;;){let y=c._currentAgent.model??this.config.model;if(typeof y=="string"&&(y=await this.config.modelProvider.getModel(y)),c._currentStep=c._currentStep??{type:"next_step_run_again"},c._currentStep.type==="next_step_interruption"){if(de.debug("Continuing from interruption"),!c._lastTurnResponse||!c._lastProcessedResponse)throw new Ct("No model response found in previous state",c);const m=await ev(c._currentAgent,c._originalInput,c._generatedItems,c._lastTurnResponse,c._lastProcessedResponse,this,c);c._toolUseTracker.addToolUse(c._currentAgent,c._lastProcessedResponse.toolsUsed),c._originalInput=m.originalInput,c._generatedItems=m.generatedItems,c._currentStep=m.nextStep;continue}if(c._currentStep.type==="next_step_run_again"){const m=c._currentAgent.handoffs.map(mo);if(!c._currentAgentSpan){const G=m.map(Z=>Z.agentName);c._currentAgentSpan=Zy({data:{name:c._currentAgent.name,handoffs:G,output_type:c._currentAgent.outputSchemaName}}),c._currentAgentSpan.start(),Yl(c._currentAgentSpan)}const v=await c._currentAgent.getAllTools(),A=v.map(G=>Ky(G)),w=m.map(G=>Fy(G));if(c._currentAgentSpan&&(c._currentAgentSpan.spanData.tools=v.map(G=>G.name)),c._currentTurn++,c._currentTurn>c._maxTurns)throw(f=c._currentAgentSpan)==null||f.setError({message:"Max turns exceeded",data:{max_turns:c._maxTurns}}),new ky(`Max turns (${c._maxTurns}) exceeded`,c);de.debug(`Running agent ${c._currentAgent.name} (turn ${c._currentTurn})`),c._currentTurn===1&&await ze(this,Lt,Rf).call(this,c);const L=yo(c._originalInput,c._generatedItems);c._noActiveAgentRun&&(c._currentAgent.emit("agent_start",c._context,c._currentAgent),this.emit("agent_start",c._context,c._currentAgent));let J={...this.config.modelSettings,...c._currentAgent.modelSettings};J=Py(c._currentAgent,c._toolUseTracker,J),c._lastTurnResponse=await y.getResponse({systemInstructions:await c._currentAgent.getSystemPrompt(c._context),input:L,previousResponseId:l.previousResponseId,modelSettings:J,tools:A,outputType:My(c._currentAgent.outputType),handoffs:w,tracing:lv(this.config.tracingDisabled,this.config.traceIncludeSensitiveData)}),c._modelResponses.push(c._lastTurnResponse),c._context.usage.add(c._lastTurnResponse.usage),c._noActiveAgentRun=!1;const ve=Wy(c._lastTurnResponse,c._currentAgent,v,m);c._lastProcessedResponse=ve;const le=await tv(c._currentAgent,c._originalInput,c._generatedItems,c._lastTurnResponse,c._lastProcessedResponse,this,c);c._toolUseTracker.addToolUse(c._currentAgent,c._lastProcessedResponse.toolsUsed),c._originalInput=le.originalInput,c._generatedItems=le.generatedItems,c._currentStep=le.nextStep}if(c._currentStep&&c._currentStep.type==="next_step_final_output")return await ze(this,Lt,Df).call(this,c,c._currentStep.output),this.emit("agent_end",c._context,c._currentAgent,c._currentStep.output),c._currentAgent.emit("agent_end",c._context,c._currentStep.output),new Jy(c);if(c._currentStep&&c._currentStep.type==="next_step_handoff")c._currentAgent=c._currentStep.newAgent,c._currentAgentSpan&&(c._currentAgentSpan.end(),Vr(),c._currentAgentSpan=void 0),c._noActiveAgentRun=!0,c._currentStep={type:"next_step_run_again"};else{if(c._currentStep&&c._currentStep.type==="next_step_interruption")return new Jy(c);de.debug("Running next loop")}}}catch(y){throw c._currentAgentSpan&&c._currentAgentSpan.setError({message:"Error in agent run",data:{error:String(y)}}),y}finally{c._currentAgentSpan&&(((p=c._currentStep)==null?void 0:p.type)!=="next_step_interruption"&&c._currentAgentSpan.end(),Vr())}})},Rf=async function(s){const u=this.inputGuardrailDefs.concat(s._currentAgent.inputGuardrails.map(Qy));if(u.length>0){const l={agent:s._currentAgent,input:s._originalInput,context:s._context};try{const c=await Promise.all(u.map(async f=>Ly(async p=>{const y=await f.run(l);return p.spanData.triggered=y.output.tripwireTriggered,y},{data:{name:f.name}},s._currentAgentSpan)));for(const f of c)if(f.output.tripwireTriggered)throw s._currentAgentSpan&&s._currentAgentSpan.setError({message:"Guardrail tripwire triggered",data:{guardrail:f.guardrail.name}}),new Dy(`Input guardrail triggered: ${JSON.stringify(f.output.outputInfo)}`,f,s)}catch(c){throw c instanceof Dy?c:(s._currentTurn--,new Ry(`Input guardrail failed to complete: ${c}`,c,s))}}},Df=async function(s,u){const l=this.outputGuardrailDefs.concat(s._currentAgent.outputGuardrails.map(Of));if(l.length>0){const c=s._currentAgent.processFinalOutput(u),f={agent:s._currentAgent,agentOutput:c,context:s._context};try{const p=await Promise.all(l.map(async y=>Ly(async m=>{const v=await y.run(f);return m.spanData.triggered=v.output.tripwireTriggered,v},{data:{name:y.name}},s._currentAgentSpan)));for(const y of p)if(y.output.tripwireTriggered)throw s._currentAgentSpan&&s._currentAgentSpan.setError({message:"Guardrail tripwire triggered",data:{guardrail:y.guardrail.name}}),new gf(`Output guardrail triggered: ${JSON.stringify(y.output.outputInfo)}`,y,s)}catch(p){throw p instanceof gf?p:new Ry(`Output guardrail failed to complete: ${p}`,p,s)}}},s_=async function(s,u){var l,c,f;try{for(;;){const p=s.state._currentAgent,y=p.handoffs.map(mo),m=await p.getAllTools(),v=m.map(w=>Ky(w)),A=y.map(w=>Fy(w));if(s.state._currentStep=s.state._currentStep??{type:"next_step_run_again"},s.state._currentStep.type==="next_step_interruption"){if(de.debug("Continuing from interruption"),!s.state._lastTurnResponse||!s.state._lastProcessedResponse)throw new Ct("No model response found in previous state",s.state);const w=await ev(s.state._currentAgent,s.state._originalInput,s.state._generatedItems,s.state._lastTurnResponse,s.state._lastProcessedResponse,this,s.state);nv(s,w),s.state._toolUseTracker.addToolUse(s.state._currentAgent,s.state._lastProcessedResponse.toolsUsed),s.state._originalInput=w.originalInput,s.state._generatedItems=w.generatedItems,s.state._currentStep=w.nextStep;continue}if(s.state._currentStep.type==="next_step_run_again"){if(!s.state._currentAgentSpan){const Z=y.map(I=>I.agentName);s.state._currentAgentSpan=Zy({data:{name:p.name,handoffs:Z,tools:m.map(I=>I.name),output_type:p.outputSchemaName}}),s.state._currentAgentSpan.start(),Yl(s.state._currentAgentSpan)}if(s.state._currentTurn++,s.state._currentTurn>s.state._maxTurns)throw(l=s.state._currentAgentSpan)==null||l.setError({message:"Max turns exceeded",data:{max_turns:s.state._maxTurns}}),new ky(`Max turns (${s.state._maxTurns}) exceeded`,s.state);de.debug(`Running agent ${p.name} (turn ${s.state._currentTurn})`);let w=p.model??this.config.model;typeof w=="string"&&(w=await this.config.modelProvider.getModel(w)),s.state._currentTurn===1&&await ze(this,Lt,Rf).call(this,s.state);let L={...this.config.modelSettings,...p.modelSettings};L=Py(p,s.state._toolUseTracker,L);const J=yo(s.input,s.newItems);s.state._noActiveAgentRun&&(p.emit("agent_start",s.state._context,p),this.emit("agent_start",s.state._context,p));let ve;for await(const Z of w.getStreamedResponse({systemInstructions:await p.getSystemPrompt(s.state._context),input:J,previousResponseId:u.previousResponseId,modelSettings:L,tools:v,handoffs:A,outputType:My(p.outputType),tracing:lv(this.config.tracingDisabled,this.config.traceIncludeSensitiveData)})){if(Z.type==="response_done"){const I=Xv.parse(Z);ve={usage:new To(I.response.usage),output:I.response.output,responseId:I.response.id}}if(s.cancelled)return;s._addItem(new rT(Z))}if(s.state._noActiveAgentRun=!1,!ve)throw new Rn("Model did not procude a final response!",s.state);s.state._lastTurnResponse=ve,s.state._modelResponses.push(s.state._lastTurnResponse);const le=Wy(s.state._lastTurnResponse,p,m,y);s.state._lastProcessedResponse=le;const G=await tv(p,s.state._originalInput,s.state._generatedItems,s.state._lastTurnResponse,s.state._lastProcessedResponse,this,s.state);nv(s,G),s.state._toolUseTracker.addToolUse(p,le.toolsUsed),s.state._originalInput=G.originalInput,s.state._generatedItems=G.generatedItems,s.state._currentStep=G.nextStep}if(s.state._currentStep.type==="next_step_final_output"){await ze(this,Lt,Df).call(this,s.state,s.state._currentStep.output);return}else{if(s.state._currentStep.type==="next_step_interruption")return;s.state._currentStep.type==="next_step_handoff"?(s.state._currentAgent=(c=s.state._currentStep)==null?void 0:c.newAgent,s.state._currentAgentSpan&&(s.state._currentAgentSpan.end(),Vr()),s.state._currentAgentSpan=void 0,s._addItem(new lT(p)),s.state._noActiveAgentRun=!0,s.state._currentStep={type:"next_step_run_again"}):de.debug("Running next loop")}}}catch(p){throw s.state._currentAgentSpan&&s.state._currentAgentSpan.setError({message:"Error in agent run",data:{error:String(p)}}),p}finally{s.state._currentAgentSpan&&(((f=s.state._currentStep)==null?void 0:f.type)!=="next_step_interruption"&&s.state._currentAgentSpan.end(),Vr())}},Mf=async function(s,u,l){return l=l??{},yf(async()=>{const c=u instanceof _s?u:new _s(l.context instanceof Ti?l.context:new Ti(l.context),u,s,l.maxTurns??uv),f=new sT({signal:l.signal,state:c});return f.maxTurns=l.maxTurns??c._maxTurns,ze(this,Lt,s_).call(this,f,l).then(()=>{f._done()},p=>{f._raiseError(p)}),f})};class Ii extends Z1{constructor(s){super();q(this,"name");q(this,"instructions");q(this,"handoffDescription");q(this,"handoffs");q(this,"model");q(this,"modelSettings");q(this,"tools");q(this,"mcpServers");q(this,"inputGuardrails");q(this,"outputGuardrails");q(this,"outputType","text");q(this,"toolUseBehavior");q(this,"resetToolChoice");if(typeof s.name!="string"||s.name.trim()==="")throw new Ct("Agent must have a name.");if(this.name=s.name,this.instructions=s.instructions??"",this.handoffDescription=s.handoffDescription??"",this.handoffs=s.handoffs??[],this.model=s.model??"",this.modelSettings=s.modelSettings??{},this.tools=s.tools??[],this.mcpServers=s.mcpServers??[],this.inputGuardrails=s.inputGuardrails??[],this.outputGuardrails=s.outputGuardrails??[],s.outputType&&(this.outputType=s.outputType),this.toolUseBehavior=s.toolUseBehavior??"run_llm_again",this.resetToolChoice=s.resetToolChoice??!0,(s.handoffOutputTypeWarningEnabled===void 0||s.handoffOutputTypeWarningEnabled)&&this.handoffs&&this.outputType){const u=new Set([JSON.stringify(this.outputType)]);for(const l of this.handoffs)"outputType"in l&&l.outputType?u.add(JSON.stringify(l.outputType)):"agent"in l&&l.agent.outputType&&u.add(JSON.stringify(l.agent.outputType));u.size>1&&de.warn(`[Agent] Warning: Handoff agents have different output types: ${Array.from(u).join(", ")}. You can make it type-safe by using Agent.create({ ... }) method instead.`)}}static create(s){return new Ii({...s,handoffs:s.handoffs,outputType:s.outputType,handoffOutputTypeWarningEnabled:!1})}get outputSchemaName(){if(this.outputType==="text")return"text";if(Es(this.outputType))return"ZodOutput";if(typeof this.outputType=="object")return this.outputType.name;throw new Error(`Unknown output type: ${this.outputType}`)}clone(s){return new Ii({...this,...s})}asTool(s){const{toolName:u,toolDescription:l,customOutputExtractor:c}=s;return no({name:u??to(this.name),description:l??"",parameters:{type:"object",properties:{input:{type:"string"}},required:["input"],additionalProperties:!1},strict:!0,execute:async(f,p)=>{if(!Rx(f))throw new Rn("Agent tool called with invalid input");const m=await new ST().run(this,f.input,{context:p==null?void 0:p.context});return typeof c=="function"?c(m):iT(m.rawResponses[m.rawResponses.length-1])}})}async getSystemPrompt(s){return typeof this.instructions=="function"?await this.instructions(s,this):this.instructions}async getMcpTools(){return this.mcpServers.length>0?A1(this.mcpServers):[]}async getAllTools(){return[...await this.getMcpTools(),...this.tools]}processFinalOutput(s){if(this.outputType==="text")return s;if(typeof this.outputType=="object"){const u=JSON.parse(s);return Es(this.outputType)?this.outputType.parse(u):u}throw new Error(`Unknown output type: ${this.outputType}`)}toJSON(){return{name:this.name}}}Qx(Ov());const $l=async()=>{await Sn().shutdown()};typeof process<"u"&&typeof process.on=="function"&&(process.on("beforeExit",$l),process.on("SIGINT",$l),process.on("SIGTERM",$l),process.on("unhandledRejection",(r,n)=>{de.error("Unhandled rejection",r,n),$l()}));class i_ extends Ii{constructor(s){super(s);q(this,"voice");this.voice=s.voice??"ash"}}function xT(r){return{debounceTextLength:r.debounceTextLength??100}}function TT({policyHint:r,...n}){const s=Of(n),u=r??s.name;return{...s,policyHint:u,run:async l=>{const c=await s.run(l);return{...c,guardrail:{...c.guardrail,policyHint:u}}}}}function AT(r){return`
 Your last answer was blocked. 
Failed Guardrail Reason: ${r.guardrail.policyHint}. 
Failure Details: ${JSON.stringify(r.output.outputInfo??{})}. 
Please respond again following policy. Apologize for not being able to answer the question (while avoiding the specific reason) and divert discussion back to an approved topic immediately and not invite more discussion.
`.trim()}const ra=Lv("openai-agents:realtime");B({itemId:S()});const ov=on("role",[B({itemId:S(),previousItemId:S().nullable().optional(),type:z("message"),role:z("system"),content:Qe(B({type:z("input_text"),text:S()}))}),B({itemId:S(),previousItemId:S().nullable().optional(),type:z("message"),role:z("user"),status:Gt(["in_progress","completed"]),content:Qe(B({type:z("input_text"),text:S()}).or(B({type:z("input_audio"),audio:S().nullable().optional(),transcript:S().nullable()})))}),B({itemId:S(),previousItemId:S().nullable().optional(),type:z("message"),role:z("assistant"),status:Gt(["in_progress","completed","incomplete"]),content:Qe(B({type:z("text"),text:S()}).or(B({type:z("audio"),audio:S().nullable().optional(),transcript:S().nullable().optional()})))})]),cv=B({itemId:S(),previousItemId:S().nullable().optional(),type:z("function_call"),status:Gt(["in_progress","completed"]),arguments:S(),name:S(),output:S().nullable()}),r_=B({id:S().optional(),conversation_id:S().optional(),max_output_tokens:ue().or(z("inf")).optional(),metadata:Ht(S(),Xe()).optional().nullable(),modalities:Qe(S()).optional(),object:z("realtime.response").optional(),output:Qe(Xe()).optional(),output_audio_format:S().optional(),status:Gt(["completed","incomplete","failed","cancelled"]).optional(),status_details:Ht(S(),Xe()).optional().nullable(),usage:B({input_tokens:ue().optional(),input_tokens_details:Ht(S(),Xe()).optional().nullable(),output_tokens:ue().optional(),output_tokens_details:Ht(S(),Xe()).optional().nullable()}).optional(),voice:S().optional()}),wT=B({id:S().optional(),audio:S().nullable().optional(),text:S().nullable().optional(),transcript:S().nullable().optional(),type:Mv([z("input_text"),z("input_audio"),z("item_reference"),z("text"),z("audio")])}),wu=B({id:S().optional(),arguments:S().optional(),call_id:S().optional(),content:Qe(wT).optional(),name:S().optional(),object:z("realtime.item").optional(),output:S().optional(),role:Gt(["user","assistant","system"]).optional(),status:Gt(["completed","incomplete","in_progress"]).optional(),type:Gt(["message","function_call","function_call_output"]).optional()}),ET=B({type:z("conversation.created"),event_id:S(),conversation:B({id:S().optional(),object:z("realtime.conversation").optional()})}),OT=B({type:z("conversation.item.created"),event_id:S(),item:wu,previous_item_id:S().nullable().optional()}),NT=B({type:z("conversation.item.deleted"),event_id:S(),item_id:S()}),CT=B({type:z("conversation.item.input_audio_transcription.completed"),event_id:S(),item_id:S(),content_index:ue(),transcript:S(),logprobs:Qe(Xe()).nullable().optional()}),kT=B({type:z("conversation.item.input_audio_transcription.delta"),event_id:S(),item_id:S(),content_index:ue().optional(),delta:S().optional(),logprobs:Qe(Xe()).nullable().optional()}),RT=B({type:z("conversation.item.input_audio_transcription.failed"),event_id:S(),item_id:S(),content_index:ue(),error:B({code:S().optional(),message:S().optional(),param:S().optional(),type:S().optional()})}),DT=B({type:z("conversation.item.retrieved"),event_id:S(),item:wu}),MT=B({type:z("conversation.item.truncated"),event_id:S(),item_id:S(),audio_end_ms:ue(),content_index:ue()}),jT=B({type:z("conversation.item.create"),item:wu,event_id:S().optional(),previous_item_id:S().nullable().optional()}),zT=B({type:z("conversation.item.delete"),item_id:S(),event_id:S().optional()}),ZT=B({type:z("conversation.item.retrieve"),item_id:S(),event_id:S().optional()}),UT=B({type:z("conversation.item.truncate"),item_id:S(),audio_end_ms:ue(),content_index:ue(),event_id:S().optional()}),LT=B({type:z("error"),event_id:S().optional(),error:Xe().optional()}),BT=B({type:z("input_audio_buffer.cleared"),event_id:S()}),qT=B({type:z("input_audio_buffer.append"),audio:S(),event_id:S().optional()}),HT=B({type:z("input_audio_buffer.clear"),event_id:S().optional()}),GT=B({type:z("input_audio_buffer.commit"),event_id:S().optional()}),IT=B({type:z("input_audio_buffer.committed"),event_id:S(),item_id:S(),previous_item_id:S().nullable().optional()}),$T=B({type:z("input_audio_buffer.speech_started"),event_id:S(),item_id:S(),audio_start_ms:ue()}),VT=B({type:z("input_audio_buffer.speech_stopped"),event_id:S(),item_id:S(),audio_end_ms:ue()}),YT=B({type:z("output_audio_buffer.started"),event_id:S()}).passthrough(),XT=B({type:z("output_audio_buffer.stopped"),event_id:S()}).passthrough(),QT=B({type:z("output_audio_buffer.cleared"),event_id:S()}),JT=B({type:z("rate_limits.updated"),event_id:S(),rate_limits:Qe(B({limit:ue().optional(),name:Gt(["requests","tokens"]).optional(),remaining:ue().optional(),reset_seconds:ue().optional()}))}),KT=B({type:z("response.audio.delta"),event_id:S(),item_id:S(),content_index:ue(),delta:S(),output_index:ue(),response_id:S()}),FT=B({type:z("response.audio.done"),event_id:S(),item_id:S(),content_index:ue(),output_index:ue(),response_id:S()}),WT=B({type:z("response.audio_transcript.delta"),event_id:S(),item_id:S(),content_index:ue(),delta:S(),output_index:ue(),response_id:S()}),PT=B({type:z("response.audio_transcript.done"),event_id:S(),item_id:S(),content_index:ue(),transcript:S(),output_index:ue(),response_id:S()}),eA=B({type:z("response.content_part.added"),event_id:S(),item_id:S(),content_index:ue(),output_index:ue(),response_id:S(),part:B({audio:S().optional(),text:S().optional(),transcript:S().optional(),type:Gt(["text","audio"]).optional()})}),tA=B({type:z("response.content_part.done"),event_id:S(),item_id:S(),content_index:ue(),output_index:ue(),response_id:S(),part:B({audio:S().optional(),text:S().optional(),transcript:S().optional(),type:Gt(["text","audio"]).optional()})}),nA=B({type:z("response.created"),event_id:S(),response:r_}),u_=B({type:z("response.done"),event_id:S(),response:r_,test:Ai()}),aA=B({type:z("response.function_call_arguments.delta"),event_id:S(),item_id:S(),call_id:S(),delta:S(),output_index:ue(),response_id:S()}),sA=B({type:z("response.function_call_arguments.done"),event_id:S(),item_id:S(),call_id:S(),arguments:S(),output_index:ue(),response_id:S()}),iA=B({type:z("response.output_item.added"),event_id:S(),item:wu,output_index:ue(),response_id:S()}),rA=B({type:z("response.output_item.done"),event_id:S(),item:wu,output_index:ue(),response_id:S()}),uA=B({type:z("response.text.delta"),event_id:S(),item_id:S(),content_index:ue(),delta:S(),output_index:ue(),response_id:S()}),lA=B({type:z("response.text.done"),event_id:S(),item_id:S(),content_index:ue(),text:S(),output_index:ue(),response_id:S()}),oA=B({type:z("session.created"),event_id:S(),session:Xe()}),cA=B({type:z("session.updated"),event_id:S(),session:Xe()}),dA=B({type:z("response.cancel"),event_id:S().optional(),response_id:S().optional()}),fA=B({type:z("response.create"),event_id:S().optional(),response:Xe().optional()}),hA=B({type:z("session.update"),event_id:S().optional(),session:Xe()}),pA=B({type:z("transcription_session.update"),event_id:S().optional(),session:Xe()}),mA=B({type:z("transcription_session.updated"),event_id:S(),session:Xe()}),gA=B({type:S(),event_id:S().optional().nullable()}).passthrough(),yA=on("type",[ET,OT,NT,CT,kT,RT,DT,MT,LT,BT,IT,$T,VT,YT,XT,QT,JT,KT,FT,WT,PT,eA,tA,nA,u_,aA,sA,iA,rA,uA,lA,oA,cA,mA]);on("type",[jT,zT,ZT,UT,qT,HT,GT,dA,fA,hA,pA]);function Kf(r){const n=JSON.parse(r.data.toString()),s=yA.safeParse(n);if(!s.success){const u=gA.safeParse(n);return u.success?{data:u.data,isGeneric:!0}:{data:null,isGeneric:!0}}return{data:s.data,isGeneric:!1}}const vA="gpt-4o-realtime-preview",qa={voice:"ash",modalities:["text","audio"],inputAudioFormat:"pcm16",outputAudioFormat:"pcm16",inputAudioTranscription:{model:"gpt-4o-mini-transcribe"},turnDetection:{type:"semantic_vad"}};var xs,yu,un;class l_ extends Hf{constructor(s={}){super();ae(this,xs);ae(this,yu);ae(this,un,null);q(this,"eventEmitter",new bo);V(this,xs,s.model??vA),V(this,yu,s.apiKey)}get currentModel(){return _(this,xs)}set currentModel(s){V(this,xs,s)}async _getApiKey(s){const u=s.apiKey??_(this,yu);return typeof u=="function"?await u():u}_onMessage(s){var c,f,p,y,m,v;const{data:u,isGeneric:l}=Kf(s);if(u!==null&&(this.emit("*",u),!l)){if(u.type==="error"?this.emit("error",{type:"error",error:u}):this.emit(u.type,u),u.type==="response.created"){this.emit("turn_started",{type:"response_started",providerData:{...u}});return}if(u.type==="response.done"){const A=u_.safeParse(u);if(!A.success){ra.error("Error parsing response done event",A.error);return}const w=((c=A.data.response.usage)==null?void 0:c.input_tokens)??0,L=((f=A.data.response.usage)==null?void 0:f.output_tokens)??0,J=w+L,ve=new To({inputTokens:w,inputTokensDetails:((p=A.data.response.usage)==null?void 0:p.input_tokens_details)??{},outputTokens:L,outputTokensDetails:((y=A.data.response.usage)==null?void 0:y.output_tokens_details)??{},totalTokens:J});this.emit("usage_update",ve),this.emit("turn_done",{type:"response_done",response:{id:A.data.response.id??"",output:A.data.response.output??[],usage:{inputTokens:w,inputTokensDetails:((m=A.data.response.usage)==null?void 0:m.input_tokens_details)??{},outputTokens:L,outputTokensDetails:((v=A.data.response.usage)==null?void 0:v.output_tokens_details)??{},totalTokens:J}}});return}if(u.type==="response.audio.done"){this.emit("audio_done");return}if(u.type==="conversation.item.deleted"){this.emit("item_deleted",{itemId:u.item_id});return}if(u.type==="conversation.item.input_audio_transcription.completed"||u.type==="conversation.item.truncated"){this.sendEvent({type:"conversation.item.retrieve",item_id:u.item_id});return}if(u.type==="conversation.item.input_audio_transcription.delta"||u.type==="response.text.delta"||u.type==="response.audio_transcript.delta"||u.type==="response.function_call_arguments.delta"){u.type==="response.audio_transcript.delta"&&this.emit("audio_transcript_delta",{type:"transcript_delta",delta:u.delta,itemId:u.item_id});return}if((u.type==="conversation.item.created"||u.type==="conversation.item.retrieved")&&u.item.type==="message"){const A=u.type==="conversation.item.created"?u.previous_item_id:null,w=ov.parse({itemId:u.item.id,previousItemId:A,type:u.item.type,role:u.item.role,content:u.item.content,status:u.item.status});this.emit("item_update",w);return}if(u.type==="response.output_item.done"||u.type==="response.output_item.added"){const A=u.item;if(A.type==="function_call"&&A.status==="completed"){const w=cv.parse({itemId:A.id,type:A.type,status:"in_progress",arguments:A.arguments,name:A.name,output:null});this.emit("item_update",w),this.emit("function_call",{id:A.id,type:"function_call",callId:A.call_id??"",arguments:A.arguments??"",name:A.name??""});return}if(A.type==="message"){const w=ov.parse({itemId:u.item.id,type:u.item.type,role:u.item.role,content:u.item.content,status:"in_progress"});this.emit("item_update",w);return}}}}_onError(s){this.emit("error",{type:"error",error:s})}_onOpen(){this.emit("connected")}_onClose(){this.emit("disconnected")}sendMessage(s,u){this.sendEvent({type:"conversation.item.create",item:typeof s=="string"?{type:"message",role:"user",content:[{type:"input_text",text:s}]}:s,...u}),this.sendEvent({type:"response.create"})}_getMergedSessionConfig(s){var l;return{instructions:s.instructions,model:s.model??_(this,xs)??qa.model,voice:s.voice??qa.voice,modalities:s.modalities??qa.modalities,input_audio_format:s.inputAudioFormat??qa.inputAudioFormat,output_audio_format:s.outputAudioFormat??qa.outputAudioFormat,input_audio_transcription:s.inputAudioTranscription??qa.inputAudioTranscription,turn_detection:s.turnDetection??qa.turnDetection,tool_choice:s.toolChoice??qa.toolChoice,tools:(l=s.tools)==null?void 0:l.map(c=>({...c,strict:void 0})),...s.providerData??{}}}set _tracingConfig(s){V(this,un,s)}_updateTracingConfig(s){var u,l,c;if(typeof _(this,un)>"u"&&V(this,un,null),s==="auto"){this.sendEvent({type:"session.update",session:{tracing:"auto"}});return}if(typeof _(this,un)!="string"&&typeof s!="string"){ra.warn("Tracing config is already set, skipping setting it again. This likely happens when you already set a tracing config on session creation.");return}if(s===null){ra.debug("Disabling tracing for this session. It cannot be turned on for this session from this point on."),this.sendEvent({type:"session.update",session:{tracing:null}});return}if(_(this,un)===null||typeof _(this,un)=="string"){this.sendEvent({type:"session.update",session:{tracing:s}});return}if((s==null?void 0:s.group_id)!==((u=_(this,un))==null?void 0:u.group_id)||(s==null?void 0:s.metadata)!==((l=_(this,un))==null?void 0:l.metadata)||(s==null?void 0:s.workflow_name)!==((c=_(this,un))==null?void 0:c.workflow_name)){ra.warn("Mismatch in tracing config. Ignoring the new tracing config. This likely happens when you already set a tracing config on session creation. Current tracing config: %s, new tracing config: %s",JSON.stringify(_(this,un)),JSON.stringify(s));return}this.sendEvent({type:"session.update",session:{tracing:s}})}updateSessionConfig(s){const u=this._getMergedSessionConfig(s);this.sendEvent({type:"session.update",session:u})}sendFunctionCallOutput(s,u,l=!0){this.sendEvent({type:"conversation.item.create",item:{type:"function_call_output",output:u,call_id:s.callId}});try{const c=cv.parse({itemId:s.id,previousItemId:s.previousItemId,type:"function_call",status:"completed",arguments:s.arguments,name:s.name,output:u});this.emit("item_update",c)}catch(c){ra.error("Error parsing tool call item",c,s)}l&&this.sendEvent({type:"response.create"})}sendAudio(s,{commit:u=!1}={}){this.sendEvent({type:"input_audio_buffer.append",audio:Pb(s)}),u&&this.sendEvent({type:"input_audio_buffer.commit"})}resetHistory(s,u){const{removals:l,additions:c,updates:f}=tS(s,u),p=new Set(l.map(m=>m.itemId));for(const m of f)p.add(m.itemId);if(p.size>0)for(const m of p)this.sendEvent({type:"conversation.item.delete",item_id:m});const y=[...c,...f];for(const m of y)if(m.type==="message"){const v={type:"message",role:m.role,content:m.content,id:m.itemId};m.role!=="system"&&m.status&&(v.status=m.status),this.sendEvent({type:"conversation.item.create",item:v})}else m.type==="function_call"&&ra.warn("Function calls cannot be manually added or updated at the moment. Ignoring.")}}xs=new WeakMap,yu=new WeakMap,un=new WeakMap;var vu,dt,_u,Ri,bu;class _A extends l_{constructor(s={}){if(typeof RTCPeerConnection>"u")throw new Error("WebRTC is not supported in this environment");super(s);q(this,"options");ae(this,vu);ae(this,dt,{status:"disconnected",peerConnection:void 0,dataChannel:void 0});ae(this,_u);ae(this,Ri,!1);ae(this,bu,!1);this.options=s,V(this,vu,s.baseUrl??"https://api.openai.com/v1/realtime"),V(this,_u,s.useInsecureApiKey??!1)}get status(){return _(this,dt).status}get connectionState(){return _(this,dt)}get muted(){return _(this,bu)}async connect(s){if(_(this,dt).status==="connected")return;_(this,dt).status==="connecting"&&ra.warn("Realtime connection already in progress. Please await original promise");const u=s.model??this.currentModel;this.currentModel=u;const l=s.url??_(this,vu),c=await this._getApiKey(s),f=typeof c=="string"&&c.startsWith("ek_");if(!_(this,_u)&&!f)throw new Ct("Using the WebRTC connection in a browser environment requires an insecure API key. Please use a WebSocket connection instead or set the useInsecureApiKey option to true.");return new Promise(async(p,y)=>{try{const m={...s.initialSessionConfig||{},model:this.currentModel},v=new URL(l),A=new RTCPeerConnection,w=A.createDataChannel("oai-events");V(this,dt,{status:"connecting",peerConnection:A,dataChannel:w}),this.emit("connection_change",_(this,dt).status),w.addEventListener("open",()=>{V(this,dt,{status:"connected",peerConnection:A,dataChannel:w}),this.updateSessionConfig(m),this.emit("connection_change",_(this,dt).status),this._onOpen(),p()}),w.addEventListener("error",oe=>{this.close(),this._onError(oe),y(oe)}),w.addEventListener("message",oe=>{this._onMessage(oe);const{data:X,isGeneric:we}=Kf(oe);!X||we||(X.type==="response.created"?V(this,Ri,!0):X.type==="response.done"&&V(this,Ri,!1),X.type==="session.created"&&(this._tracingConfig=X.session.tracing,this._updateTracingConfig(m.tracing??"auto")))});const L=this.options.audioElement??document.createElement("audio");L.autoplay=!0,A.ontrack=oe=>{L.srcObject=oe.streams[0]};const J=this.options.mediaStream??await navigator.mediaDevices.getUserMedia({audio:!0});A.addTrack(J.getAudioTracks()[0]);const ve=await A.createOffer();if(await A.setLocalDescription(ve),!ve.sdp)throw new Error("Failed to create offer");const le={...this._getMergedSessionConfig(m),model:this.currentModel},G=new FormData;G.append("sdp",ve.sdp),G.append("session",JSON.stringify(le));const I={type:"answer",sdp:await(await fetch(v,{method:"POST",body:G,headers:{Authorization:`Bearer ${c}`,"X-OpenAI-Agents-SDK":sS["X-OpenAI-Agents-SDK"]}})).text()};await A.setRemoteDescription(I)}catch(m){this.close(),this._onError(m),y(m)}})}sendEvent(s){if(!_(this,dt).dataChannel||_(this,dt).dataChannel.readyState!=="open")throw new Error("WebRTC data channel is not connected. Make sure you call `connect()` before sending events.");_(this,dt).dataChannel.send(JSON.stringify(s))}mute(s){V(this,bu,s),_(this,dt).peerConnection&&_(this,dt).peerConnection.getSenders().forEach(l=>{l.track&&(l.track.enabled=!s)})}close(){if(_(this,dt).dataChannel&&_(this,dt).dataChannel.close(),_(this,dt).peerConnection){const s=_(this,dt).peerConnection;s.getSenders().forEach(u=>{var l;(l=u.track)==null||l.stop()}),s.close()}_(this,dt).status!=="disconnected"&&(V(this,dt,{status:"disconnected",peerConnection:void 0,dataChannel:void 0}),this.emit("connection_change",_(this,dt).status),this._onClose())}interrupt(){_(this,Ri)&&this.sendEvent({type:"response.cancel"}),this.sendEvent({type:"output_audio_buffer.clear"})}}vu=new WeakMap,dt=new WeakMap,_u=new WeakMap,Ri=new WeakMap,bu=new WeakMap;const bA=globalThis.WebSocket;var Ts,Di,Nt,Su,oa,As,Mi,vo,o_;class SA extends l_{constructor(s={}){super(s);ae(this,vo);ae(this,Ts);ae(this,Di);ae(this,Nt,{status:"disconnected",websocket:void 0});ae(this,Su);ae(this,oa);ae(this,As);q(this,"_firstAudioTimestamp");q(this,"_audioLengthMs",0);ae(this,Mi,!1);V(this,Di,`wss://api.openai.com/v1/realtime?model=${this.currentModel}`),V(this,Su,s.useInsecureApiKey??!1)}get status(){return _(this,Nt).status}get connectionState(){return _(this,Nt)}get muted(){return null}get currentItemId(){return _(this,oa)}_onAudio(s){this.emit("audio",s)}async connect(s){const u=s.model??this.currentModel;this.currentModel=u,V(this,Ts,await this._getApiKey(s)),V(this,Di,s.url??`wss://api.openai.com/v1/realtime?model=${this.currentModel}`);const l={...s.initialSessionConfig||{},model:this.currentModel};await new Promise((c,f)=>{try{ze(this,vo,o_).call(this,c,f,l)}catch(p){f(p)}}),await this.updateSessionConfig(l)}sendEvent(s){if(!_(this,Nt).websocket)throw new Error("WebSocket is not connected. Make sure you call `connect()` before sending events.");_(this,Nt).websocket.send(JSON.stringify(s))}close(){var s;(s=_(this,Nt).websocket)==null||s.close(),V(this,oa,void 0),this._firstAudioTimestamp=void 0,this._audioLengthMs=0,V(this,As,void 0)}mute(s){throw new Error("Mute is not supported for the WebSocket transport. You have to mute the audio input yourself.")}sendAudio(s,u={}){_(this,Nt).status==="connected"&&super.sendAudio(s,u)}_cancelResponse(){_(this,Mi)&&this.sendEvent({type:"response.cancel"})}_interrupt(s){this.emit("audio_interrupted"),this.sendEvent({type:"conversation.item.truncate",item_id:_(this,oa),content_index:_(this,As),audio_end_ms:s})}interrupt(){if(!_(this,oa)||typeof this._firstAudioTimestamp!="number")return;this._cancelResponse();const s=Date.now()-this._firstAudioTimestamp;console.log(`Interrupting response after ${s}ms`),console.log(`Audio length: ${this._audioLengthMs}ms`),s>=0&&s<this._audioLengthMs&&this._interrupt(s),V(this,oa,void 0),this._firstAudioTimestamp=void 0,this._audioLengthMs=0,V(this,As,void 0)}}Ts=new WeakMap,Di=new WeakMap,Nt=new WeakMap,Su=new WeakMap,oa=new WeakMap,As=new WeakMap,Mi=new WeakMap,vo=new WeakSet,o_=function(s,u,l){if(_(this,Nt).websocket){s();return}if(!_(this,Ts))throw new Ct("API key is not set. Please call `connect()` with an API key first.");if(!_(this,Ts).startsWith("ek_")&&!_(this,Su))throw new Ct("Using the WebSocket connection in a browser environment requires an ephemeral client key. If you have to use a regular API key, set the `useInsecureApiKey` option to true.");const c=["realtime","openai-insecure-api-key."+_(this,Ts),"openai-beta.realtime-v1",iS],f=new bA(_(this,Di),c);V(this,Nt,{status:"connecting",websocket:f}),this.emit("connection_change",_(this,Nt).status),f.addEventListener("open",()=>{V(this,Nt,{status:"connected",websocket:f}),this.emit("connection_change",_(this,Nt).status),this._onOpen(),s()}),f.addEventListener("error",p=>{this._onError(p),V(this,Nt,{status:"disconnected",websocket:void 0}),this.emit("connection_change",_(this,Nt).status),u(p)}),f.addEventListener("message",p=>{this._onMessage(p);const{data:y,isGeneric:m}=Kf(p);if(!(!y||m))if(y.type==="response.audio.delta"){V(this,As,y.content_index),V(this,oa,y.item_id),this._firstAudioTimestamp===void 0&&(this._firstAudioTimestamp=Date.now(),this._audioLengthMs=0);const v=Wb(y.delta);this._audioLengthMs+=v.byteLength/24/2;const A={type:"audio",data:v,responseId:y.response_id};this._onAudio(A)}else y.type==="input_audio_buffer.speech_started"?this.interrupt():y.type==="response.created"?V(this,Mi,!0):y.type==="response.done"?V(this,Mi,!1):y.type==="session.created"&&(this._tracingConfig=y.session.tracing,this._updateTracingConfig(l.tracing??"auto"))}),f.addEventListener("close",()=>{V(this,Nt,{status:"disconnected",websocket:void 0}),this.emit("connection_change",_(this,Nt).status),this._onClose()})};var Ge,De,xu,Ne,ji,zi,Tu,yt,Au,ft,Xl,Ql,d_,Jl,f_,jf,h_;class c_ extends bo{constructor(s,u={}){super();ae(this,ft);q(this,"initialAgent");q(this,"options");ae(this,Ge);ae(this,De);ae(this,xu,[]);ae(this,Ne);ae(this,ji,[]);ae(this,zi);ae(this,Tu,{});ae(this,yt,[]);ae(this,Au);this.initialAgent=s,this.options=u,typeof u.transport>"u"&&nS()||u.transport==="webrtc"?V(this,Ge,new _A):u.transport==="websocket"||typeof u.transport>"u"?V(this,Ge,new SA):V(this,Ge,u.transport),V(this,De,s),V(this,Ne,new Ti({...u.context??{},history:_(this,yt)})),V(this,ji,(u.outputGuardrails??[]).map(TT)),V(this,zi,xT(u.outputGuardrailSettings??{})),V(this,Au,u.historyStoreAudio??!1)}get transport(){return _(this,Ge)}get currentAgent(){return _(this,De)}get usage(){return _(this,Ne).usage}get context(){return _(this,Ne)}get muted(){return _(this,Ge).muted}get history(){return _(this,yt)}async updateAgent(s){return _(this,De).emit("agent_handoff",_(this,Ne),s),this.emit("agent_handoff",_(this,Ne),_(this,De),s),await ze(this,ft,Xl).call(this,s),await _(this,Ge).updateSessionConfig(await ze(this,ft,Ql).call(this)),s}async connect(s){await ze(this,ft,Xl).call(this,this.initialAgent),ze(this,ft,h_).call(this),await _(this,Ge).connect({apiKey:s.apiKey??this.options.apiKey,model:this.options.model,initialSessionConfig:await ze(this,ft,Ql).call(this,this.options.config)}),V(this,yt,[]),this.emit("history_updated",_(this,yt))}updateHistory(s){let u;typeof s=="function"?u=s(_(this,yt)):u=s,_(this,Ge).resetHistory(_(this,yt),u)}sendMessage(s,u={}){_(this,Ge).sendMessage(s,u)}mute(s){_(this,Ge).mute(s)}close(){_(this,Ge).close()}sendAudio(s,u={}){_(this,Ge).sendAudio(s,u)}interrupt(){_(this,Ge).interrupt()}async approve(s,u={alwaysApprove:!1}){_(this,Ne).approveTool(s,u);const l=_(this,De).tools.find(c=>c.name===s.rawItem.name);if(l&&l.type==="function")await ze(this,ft,Jl).call(this,s.rawItem,l);else throw new Rn(`Tool ${s.rawItem.name} not found`)}async reject(s,u={alwaysReject:!1}){_(this,Ne).rejectTool(s,u);const l=_(this,De).tools.find(c=>c.name===s.rawItem.name);if(l&&l.type==="function")await ze(this,ft,Jl).call(this,s.rawItem,l);else throw new Rn(`Tool ${s.rawItem.name} not found`)}}Ge=new WeakMap,De=new WeakMap,xu=new WeakMap,Ne=new WeakMap,ji=new WeakMap,zi=new WeakMap,Tu=new WeakMap,yt=new WeakMap,Au=new WeakMap,ft=new WeakSet,Xl=async function(s){V(this,De,s);const l=_(this,De).handoffs.map(mo).map(c=>c.getHandoffAsFunctionTool());V(this,xu,[...(await _(this,De).getAllTools()).filter(c=>c.type==="function"),...l])},Ql=async function(s={}){const u=await _(this,De).getSystemPrompt(_(this,Ne)),l=this.options.tracingDisabled?null:this.options.workflowName?{workflow_name:this.options.workflowName}:"auto";return l!==null&&l!=="auto"?(this.options.groupId&&(l.group_id=this.options.groupId),this.options.traceMetadata&&(l.metadata=this.options.traceMetadata)):(this.options.groupId||this.options.traceMetadata)&&ra.warn("In order to set traceMetadata or a groupId you need to specify a workflowName."),{instructions:u,voice:_(this,De).voice,model:this.options.model,tools:_(this,xu),tracing:l,...s}},d_=async function(s,u){const l=await u.onInvokeHandoff(_(this,Ne),s.arguments);_(this,De).emit("agent_handoff",_(this,Ne),l),this.emit("agent_handoff",_(this,Ne),_(this,De),l),await ze(this,ft,Xl).call(this,l),await _(this,Ge).updateSessionConfig(await ze(this,ft,Ql).call(this));const c=Bv(l);return _(this,Ge).sendFunctionCallOutput(s,c,!0),l},Jl=async function(s,u){_(this,Ne).context.history=JSON.parse(JSON.stringify(_(this,yt)));let l=s.arguments;if(u.parameters&&(Es(u.parameters)?l=u.parameters.parse(l):l=JSON.parse(l)),await u.needsApproval(_(this,Ne),l,s.callId)){const y=this.context.isToolApproved({toolName:u.name,callId:s.callId});if(y===!1){this.emit("agent_tool_start",_(this,Ne),_(this,De),u),_(this,De).emit("agent_tool_start",_(this,Ne),u);const m="Tool execution was not approved.";_(this,Ge).sendFunctionCallOutput(s,m,!0),this.emit("agent_tool_end",_(this,Ne),_(this,De),u,m),_(this,De).emit("agent_tool_end",_(this,Ne),u,m);return}else if(typeof y>"u"){this.emit("tool_approval_requested",_(this,Ne),_(this,De),{type:"function_approval",tool:u,approvalItem:new Ds(s,_(this,De))});return}}this.emit("agent_tool_start",_(this,Ne),_(this,De),u),_(this,De).emit("agent_tool_start",_(this,Ne),u),_(this,Ne).context.history=JSON.parse(JSON.stringify(_(this,yt)));const f=await u.invoke(_(this,Ne),s.arguments),p=Os(f);_(this,Ge).sendFunctionCallOutput(s,p,!0),this.emit("agent_tool_end",_(this,Ne),_(this,De),u,p),_(this,De).emit("agent_tool_end",_(this,Ne),u,p)},f_=async function(s){const u=new Map(_(this,De).handoffs.map(mo).map(f=>[f.toolName,f])),l=new Map((await _(this,De).getAllTools()).map(f=>[f.name,f])),c=u.get(s.name);if(c)await ze(this,ft,d_).call(this,s,c);else{const f=l.get(s.name);if(f&&f.type==="function")await ze(this,ft,Jl).call(this,s,f);else throw new Rn(`Tool ${s.name} not found`)}},jf=async function(s){if(_(this,ji).length===0)return;const u={agent:_(this,De),agentOutput:s,context:_(this,Ne)},l=await Promise.all(_(this,ji).map(c=>c.run(u)));for(const c of l)if(c.output.tripwireTriggered){const f=new gf(`Output guardrail triggered: ${JSON.stringify(c.output.outputInfo)}`,c);this.emit("guardrail_tripped",_(this,Ne),_(this,De),f),this.interrupt();const p=AT(c);this.sendMessage(p);break}},h_=function(){_(this,Ge).on("*",l=>{this.emit("transport_event",l)}),_(this,Ge).on("audio",l=>{this.emit("audio",l)}),_(this,Ge).on("turn_started",()=>{this.emit("agent_start",_(this,Ne),_(this,De)),_(this,De).emit("agent_start",_(this,Ne),_(this,De))}),_(this,Ge).on("turn_done",l=>{const c=l.response.output[l.response.output.length-1],f=eS(c)??"";this.emit("agent_end",_(this,Ne),_(this,De),f),_(this,De).emit("agent_end",_(this,Ne),f),ze(this,ft,jf).call(this,f)}),_(this,Ge).on("audio_done",()=>{this.emit("audio_stopped",_(this,Ne),_(this,De))});let s=0,u;_(this,Ge).on("audio_transcript_delta",l=>{try{const c=l.delta,f=l.itemId;u!==f&&(u=f,s=0);const y=(_(this,Tu)[f]??"")+c;if(_(this,Tu)[f]=y,_(this,zi).debounceTextLength<0)return;const m=Math.floor(y.length/_(this,zi).debounceTextLength);m>s&&(s=m,ze(this,ft,jf).call(this,y))}catch(c){this.emit("error",{type:"error",error:c})}}),_(this,Ge).on("item_update",l=>{try{const c=!_(this,yt).some(f=>f.itemId===l.itemId);if(V(this,yt,aS(_(this,yt),l,_(this,Au))),_(this,Ne).context.history=_(this,yt),c){const f=_(this,yt).find(p=>p.itemId===l.itemId);f&&this.emit("history_added",f)}this.emit("history_updated",_(this,yt))}catch(c){this.emit("error",{type:"error",error:c})}}),_(this,Ge).on("item_deleted",l=>{try{V(this,yt,_(this,yt).filter(c=>c.itemId!==l.itemId)),_(this,Ne).context.history=_(this,yt),this.emit("history_updated",_(this,yt))}catch(c){this.emit("error",{type:"error",error:c})}}),_(this,Ge).on("function_call",async l=>{try{await ze(this,ft,f_).call(this,l)}catch(c){ra.error("Error handling function call",c),this.emit("error",{type:"error",error:c})}}),_(this,Ge).on("usage_update",l=>{_(this,Ne).usage.add(l)}),_(this,Ge).on("audio_interrupted",()=>{this.emit("audio_interrupted",_(this,Ne),_(this,De))}),_(this,Ge).on("error",l=>{this.emit("error",l)})};function xA({apiKey:r}){const[n,s]=fe.useState("Not connected"),[u,l]=fe.useState(null),[c,f]=fe.useState([]),[p,y]=fe.useState({}),[m,v]=fe.useState(null),A=fe.useRef(null),w=fe.useRef(null),L=fe.useRef(null);fe.useEffect(()=>{L.current&&(L.current.scrollTop=L.current.scrollHeight)},[c]);const J=[{name:"No mention of baseball",async execute({agentOutput:Z}){const I=Z.includes("baseball");return{tripwireTriggered:I,outputInfo:{baseballInOutput:I}}}}],ve=async()=>{s("Connecting..."),l(null),f([]),v(null);try{if(!r){l("Ephemeral API key is required."),s("Not connected");return}const Z=new i_({name:"Guarded Voice Agent",instructions:"Greet the user and answer questions. Do not mention baseball under any circumstances."}),I=new c_(Z,{model:"gpt-4o-realtime-preview-2025-06-03",outputGuardrails:J});w.current=I,await I.connect({apiKey:r}),s("Connected"),f(oe=>[...oe,"Realtime session established."]),I.transport.on("*",oe=>{f(X=>[...X,{type:"raw",event:oe}])}),I.on("error",oe=>{l(typeof oe=="string"?oe:JSON.stringify(oe,null,2)),f(X=>[...X,{type:"error",event:oe}]),s("Error")})}catch(Z){l(Z.message),s("Error"),f(I=>[...I,{type:"error",event:Z}])}},le=()=>{w.current&&typeof w.current.disconnect=="function"&&(w.current.disconnect(),w.current=null),A.current&&(A.current.srcObject=null),s("Disconnected"),f(Z=>[...Z,"Disconnected from session."]),v(null)},G=Z=>{y(I=>({...I,[Z]:!I[Z]}))};return D.jsxs("div",{className:"text-gray-700",children:[D.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Lesson 4: Voice Agent with Guardrails"}),D.jsx("button",{className:"bg-[#10a37f] hover:bg-[#0e8c6c] transition text-white px-3 py-1 rounded-lg font-medium shadow-sm cursor-pointer mb-2",onClick:ve,disabled:!r||n==="Connecting..."||n==="Connected",children:n==="Connected"?"Connected":"Connect to Voice Agent"}),(n==="Connected"||n==="Connecting...")&&D.jsx("button",{className:"ml-2 bg-red-500 hover:bg-red-600 transition text-white px-3 py-1 rounded-lg font-medium shadow-sm cursor-pointer mb-2",onClick:le,children:"Disconnect"}),D.jsxs("div",{className:"mb-2",children:["Status: ",D.jsx("span",{className:"font-mono text-xs",children:n})]}),u&&D.jsxs("div",{className:"text-red-600 text-xs mb-2",children:["Error: ",u]}),m&&D.jsxs("div",{className:"mb-2 p-2 bg-yellow-100 border border-yellow-400 text-yellow-800 rounded",children:[D.jsx("strong",{children:"Guardrail tripped!"}),D.jsx("div",{children:m.guardrailName?`Rule: ${m.guardrailName}`:""}),D.jsx("div",{children:m.outputInfo?`Details: ${JSON.stringify(m.outputInfo)}`:""})]}),D.jsxs("div",{className:"mb-2",children:[D.jsx("strong",{children:"Event Log:"}),D.jsx("div",{ref:L,className:"bg-gray-100 p-2 rounded text-xs h-64 overflow-y-auto mt-1",children:c.length===0?D.jsx("div",{children:"No events yet."}):c.map((Z,I)=>{var oe;if(typeof Z=="string")return D.jsx("div",{className:"mb-1",children:D.jsx("span",{children:Z})},I);if(Z.type==="raw")return D.jsxs("div",{className:"mb-1",children:[D.jsxs("button",{className:"text-[#10a37f] underline bg-white rounded p-1 border border-gray-200 text-left w-full hover:bg-green-50 transition",onClick:()=>G(I),style:{fontFamily:"inherit"},children:[p[I]?" ":" ",((oe=Z.event)==null?void 0:oe.type)||"Event"]}),p[I]&&D.jsx("pre",{className:"whitespace-pre-wrap text-left bg-white rounded p-1 border border-gray-200 overflow-x-auto mt-1",children:JSON.stringify(Z.event,null,2)})]},I)})})]}),D.jsx("audio",{ref:A,style:{display:"none"}})]})}const TA=IS({a:Oy(),b:Oy()}),AA=no({name:"addNumbers",description:"Adds two numbers together.",parameters:TA,execute:async({a:r,b:n})=>(console.log("Adding numbers:",r,n),{result:r+n})});function wA({apiKey:r}){const[n,s]=fe.useState("Not connected"),[u,l]=fe.useState(null),[c,f]=fe.useState([]),[p,y]=fe.useState(""),m=fe.useRef(null),v=fe.useRef(null),[A,w]=fe.useState({});Hb.useEffect(()=>{v.current&&(v.current.scrollTop=v.current.scrollHeight)},[c]);const L=async()=>{s("Connecting..."),l(null),f([]);try{if(!r){l("Ephemeral API key is required."),s("Not connected");return}const G=new i_({name:"Math Assistant",instructions:"You can add numbers using the addNumbers tool.",tools:[AA]}),Z=new c_(G,{model:"gpt-4o-realtime-preview-2025-06-03"});m.current=Z,await Z.connect({apiKey:r}),s("Connected"),f(I=>[...I,"Realtime session established."]),Z.transport.on("*",I=>{f(oe=>[...oe,{type:"raw",event:I}])}),Z.on("error",I=>{l(typeof I=="string"?I:JSON.stringify(I,null,2)),f(oe=>[...oe,{type:"error",event:I}]),s("Error")})}catch(G){l(G.message),s("Error"),f(Z=>[...Z,{type:"error",event:G}])}},J=()=>{m.current&&typeof m.current.disconnect=="function"&&(m.current.disconnect(),m.current=null),s("Disconnected"),f(G=>[...G,"Disconnected from session."])},ve=async G=>{G.preventDefault(),!(!m.current||!p.trim())&&(m.current.sendMessage(p),f(Z=>[...Z,{type:"user",content:p}]),y(""))},le=G=>{w(Z=>({...Z,[G]:!Z[G]}))};return D.jsxs("div",{className:"text-gray-700",children:[D.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Lesson 5: Function Calling with Custom Tool"}),D.jsx("button",{className:"bg-[#10a37f] hover:bg-[#0e8c6c] transition text-white px-3 py-1 rounded-lg font-medium shadow-sm cursor-pointer mb-2",onClick:L,disabled:!r||n==="Connecting..."||n==="Connected",children:n==="Connected"?"Connected":"Connect to Agent"}),(n==="Connected"||n==="Connecting...")&&D.jsx("button",{className:"ml-2 bg-red-500 hover:bg-red-600 transition text-white px-3 py-1 rounded-lg font-medium shadow-sm cursor-pointer mb-2",onClick:J,children:"Disconnect"}),D.jsxs("div",{className:"mb-2",children:["Status: ",D.jsx("span",{className:"font-mono text-xs",children:n})]}),u&&D.jsxs("div",{className:"text-red-600 text-xs mb-2",children:["Error: ",u]}),n==="Connected"&&D.jsxs("form",{className:"mb-2 flex gap-2",onSubmit:ve,children:[D.jsx("input",{className:"flex-1 border rounded px-2 py-1",type:"text",value:p,onChange:G=>y(G.target.value),placeholder:"Ask the agent to add two numbers (e.g. What is 2 plus 3?)",disabled:n!=="Connected"}),D.jsx("button",{className:"bg-[#10a37f] hover:bg-[#0e8c6c] text-white px-3 py-1 rounded",type:"submit",disabled:!p.trim()||n!=="Connected",children:"Send"})]}),D.jsxs("div",{className:"mb-2",children:[D.jsx("strong",{children:"Event Log:"}),D.jsx("div",{ref:v,className:"bg-gray-100 p-2 rounded text-xs h-64 overflow-y-auto mt-1",children:c.length===0?D.jsx("div",{children:"No events yet."}):c.map((G,Z)=>{var I;return typeof G=="string"?D.jsx("div",{className:"mb-1",children:D.jsx("span",{children:G})},Z):G.type==="user"?D.jsxs("div",{className:"mb-1 text-blue-700",children:[D.jsx("strong",{children:"User:"})," ",G.content]},Z):G.type==="raw"?D.jsxs("div",{className:"mb-1",children:[D.jsxs("button",{className:"text-[#10a37f] underline bg-white rounded p-1 border border-gray-200 text-left w-full hover:bg-green-50 transition",onClick:()=>le(Z),style:{fontFamily:"inherit"},children:[A[Z]?" ":" ",((I=G.event)==null?void 0:I.type)||"Event"]}),A[Z]&&D.jsx("pre",{className:"whitespace-pre-wrap text-left bg-white rounded p-1 border border-gray-200 overflow-x-auto mt-1",children:JSON.stringify(G.event,null,2)})]},Z):G.type==="error"?D.jsxs("div",{className:"mb-1 text-red-700",children:[D.jsx("strong",{children:"Error:"})," ",typeof G.event=="string"?G.event:JSON.stringify(G.event,null,2)]},Z):null})})]})]})}function EA(){const[r,n]=fe.useState(""),[s,u]=fe.useState(""),[l,c]=fe.useState(1),[f,p]=fe.useState(!1),y=[{name:"Lesson 1",component:v=>D.jsx(Jb,{apiKey:v})},{name:"Lesson 2",component:v=>D.jsx(Kb,{apiKey:v})},{name:"Lesson 3",component:v=>D.jsx(Fb,{apiKey:v})},{name:"Lesson 4",component:v=>D.jsx(xA,{apiKey:v})},{name:"Lesson 5",component:v=>D.jsx(wA,{apiKey:v})}],m=()=>{n(s),p(!0)};return fe.useEffect(()=>{if(f){const v=setTimeout(()=>p(!1),5e3);return()=>clearTimeout(v)}},[f]),D.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center font-sans",children:D.jsxs("div",{className:"bg-white shadow-lg rounded-2xl p-8 w-full max-w-2xl flex flex-col items-center",children:[D.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-2 tracking-tight",children:"deeplearning.ai - OpenAI Realtime API Demos"}),D.jsxs("div",{className:"w-full",children:[D.jsx("div",{className:"flex border-b border-gray-200 mb-4 justify-center",children:y.map((v,A)=>D.jsx("button",{onClick:()=>c(A+1),className:`px-4 py-2 -mb-px font-medium text-sm border-b-2 transition-colors duration-200 focus:outline-none cursor-pointer ${l===A+1?"border-[#10a37f] text-[#10a37f] bg-gray-50":"border-transparent text-gray-500 hover:text-[#10a37f]"}`,children:v.name},v.name))}),D.jsx("div",{className:"mt-4",children:y[l-1].component(r)})]}),D.jsxs("div",{className:"w-full flex-col items-center text-center gap-2 mt-4 border-t border-gray-200 pt-4",children:[D.jsxs("small",{className:"block text-gray-500 text-xs mb-2",children:["Generate a free-to-use ephemeral API token using the notebook on deeplearning.ai - ",D.jsx("br",{})," Tokens expire after ten minutes."]}),D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("input",{type:"text",placeholder:"Enter OpenAI Ephemeral API Key",value:s,onChange:v=>u(v.target.value),className:"flex-1 border border-gray-300 focus:border-[#10a37f] focus:ring-1 focus:ring-[#10a37f] p-1 rounded-lg bg-gray-100 text-gray-900 transition outline-none"}),D.jsx("button",{onClick:m,className:"bg-[#10a37f] hover:bg-[#0e8c6c] transition text-white px-3 py-1 rounded-lg font-medium shadow-sm cursor-pointer",children:"Set Token"})]})]}),f&&D.jsx("div",{className:"text-green-600 text-sm mt-2",children:"API token set!"})]})})}Qb.createRoot(document.getElementById("root")).render(D.jsx(fe.StrictMode,{children:D.jsx(EA,{})}));
